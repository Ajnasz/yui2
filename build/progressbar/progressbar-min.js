(function(){var A=YAHOO.util.Dom,E=YAHOO.lang,B="ltr",K="rtl",S="ttb",J="btt",O="yui-pb",P=O+"-mask",N=O+"-bar",T=N+"-table",Q=N+"-container",D=O+"-caption",L=D+"-container",M=O+"-anim",H=O+"-tl",G=O+"-tr",F=O+"-bl",C=O+"-br";var I=function(U){I.superclass.constructor.call(this,document.createElement("div"),U);this._init(U);};YAHOO.widget.ProgressBar=I;I.MARKUP=['<div class="',T,'"><div class="',Q,'"><div class="',N,'"></div></div></div><div class="',L,'"><div class="',D,'"></div></div><div class="',P,'"><div class="',H,'"></div><div class="',G,'"></div><div class="',F,'"></div><div class="',C,'"></div></div>'].join("");E.extend(I,YAHOO.util.Element,{_init:function(U){},initAttributes:function(W){I.superclass.initAttributes.call(this,W);this.set("innerHTML",I.MARKUP);this.addClass(O);var V,U=["id","width","height","class","style"];while((V=U.pop())){if(V in W){this.set(V,W[V]);}}this.setAttributeConfig("barEl",{readOnly:true,value:this.getElementsByClassName(N)[0]});this.setAttributeConfig("maskEl",{readOnly:true,value:this.getElementsByClassName(P)[0]});this.setAttributeConfig("captionEl",{value:this.getElementsByClassName(D)[0],validator:function(X){return(E.isString(X)&&A.get(X))||(E.isObject(X)&&X.ownerDocument==document);},setter:function(X){return A.get(X);}});this.setAttributeConfig("direction",{value:B,validator:function(X){if(this._rendered){return false;}switch(X){case B:case K:case S:case J:return true;default:return false;}},method:function(X){this._barSizeFunction=this._barSizeFunctions[this.get("anim")?1:0][X];}});this.setAttributeConfig("maxValue",{value:100,validator:E.isNumber,method:function(X){this.get("element").setAttribute("aria-valuemax",X);if(this.get("value")>X){this.set("value",X);}}});this.setAttributeConfig("minValue",{value:0,validator:E.isNumber,method:function(X){this.get("element").setAttribute("aria-valuemin",X);if(this.get("value")<X){this.set("value",X);}}});this.setAttributeConfig("width",{getter:function(){return this.getStyle("width");},method:this._widthChange});this.setAttributeConfig("height",{getter:function(){return this.getStyle("height");},method:this._heightChange});this.setAttributeConfig("textTemplate",{value:"{value}"});this.setAttributeConfig("value",{value:0,validator:function(X){return E.isNumber(X)&&X>=this.get("minValue")&&X<=this.get("maxValue");},method:this._valueChange});this.setAttributeConfig("anim",{validator:function(X){return !!YAHOO.util.Anim;},setter:this._animSetter});},render:function(V,W){if(this._rendered){return;}this._rendered=true;var X=this.get("direction");this.addClass(O);this.addClass(O+"-"+X);var U=this.get("element");U.tabIndex=0;U.setAttribute("role","progressbar");U.setAttribute("aria-valuemin",this.get("minValue"));U.setAttribute("aria-valuemax",this.get("maxValue"));this.appendTo(V,W);this._barSizeFunction=this._barSizeFunctions[0][X];this.redraw();this._fixEdges();if(this.get("anim")){this._barSizeFunction=this._barSizeFunctions[1][X];}this.on("minValueChange",this.redraw);this.on("maxValueChange",this.redraw);return this;},redraw:function(){this._recalculateConstants();this._valueChange(this.get("value"));},destroy:function(){this.set("anim",false);this.unsubscribeAll();this.get("captionEl").innerHTML="";var U=this.get("element");U.parentNode.removeChild(U);},_previousValue:0,_barSpace:100,_barFactor:1,_rendered:false,_barSizeFunction:null,_heightChange:function(U){if(E.isNumber(U)){U+="px";}this.setStyle("height",U);this._fixEdges();this.redraw();},_widthChange:function(U){if(E.isNumber(U)){U+="px";}this.setStyle("width",U);this._fixEdges();this.redraw();},_fixEdges:function(){if(!this._rendered||YAHOO.env.ua.ie||YAHOO.env.ua.gecko){return;}var X=this.get("maskEl"),Z=A.getElementsByClassName(H,undefined,X)[0],W=A.getElementsByClassName(G,undefined,X)[0],Y=A.getElementsByClassName(F,undefined,X)[0],V=A.getElementsByClassName(C,undefined,X)[0],U=(parseInt(A.getStyle(X,"height"),10)-parseInt(A.getStyle(Z,"height"),10))+"px";A.setStyle(Y,"height",U);A.setStyle(V,"height",U);U=(parseInt(A.getStyle(X,"width"),10)-parseInt(A.getStyle(Z,"width"),10))+"px";A.setStyle(W,"width",U);A.setStyle(V,"width",U);},_recalculateConstants:function(){var U=this.get("barEl");switch(this.get("direction")){case B:case K:this._barSpace=(parseInt(this.get("width"),10)||200)-(parseInt(A.getStyle(U,"marginLeft"),10)||0)-(parseInt(A.getStyle(U,"marginRight"),10)||0);break;case S:case J:this._barSpace=(parseInt(this.get("height"),10)||20)-(parseInt(A.getStyle(U,"marginTop"),10)||0)-(parseInt(A.getStyle(U,"marginBottom"),10)||0);break;}this._barFactor=this._barSpace/(this.get("maxValue")-(this.get("minValue")||0))||1;},_animSetter:function(W){var V,U=this.get("barEl");if(W){if(W instanceof YAHOO.util.Anim){V=W;}else{V=new YAHOO.util.Anim(U);}V.onTween.subscribe(this._animOnTween,this,true);V.onComplete.subscribe(this._animComplete,this,true);}else{V=this.get("anim");if(V){V.onTween.unsubscribeAll();V.onComplete.unsubscribeAll();}V=null;}this._barSizeFunction=this._barSizeFunctions[V?1:0][this.get("direction")];return V;},_animComplete:function(U){var V=this.get("value");this._previousValue=V;this.fireEvent("complete",V);A.removeClass(this.get("barEl"),M);this._showTemplates(V,true);},_animOnTween:function(U){var V=Math.floor(this._tweenFactor*this.get("anim").currentFrame+this._previousValue);this.fireEvent("progress",V);this._showTemplates(V,false);},_valueChange:function(W){var U=Math.floor((W-this.get("minValue"))*this._barFactor),V=this.get("barEl"),X="width";switch(this.get("direction")){case S:case J:X="height";}this._showTemplates(W,true);if(this._rendered){this.fireEvent("start",this._previousValue);this._barSizeFunction(W,U,V,X);}},_showTemplates:function(X,V){var W=this.get("captionEl"),U=this.get("element"),Y=E.substitute(this.get("textTemplate"),{value:X,minValue:this.get("minValue"),maxValue:this.get("maxValue")});if(W){W.innerHTML=Y;}if(V){U.setAttribute("aria-valuenow",X);U.setAttribute("aria-valuetext",W.textContent);}}});
var R=[{},{}];I.prototype._barSizeFunctions=R;R[0][B]=R[0][K]=R[0][S]=R[0][J]=function(W,U,V,X){A.setStyle(V,X,U+"px");this.fireEvent("progress",W);this.fireEvent("complete",W);this._previousValue=W;};R[1][B]=R[1][K]=R[1][S]=R[1][J]=function(X,U,V,Y){var W=this.get("anim");if(W.isAnimated()){W.stop();}A.addClass(V,M);this._tweenFactor=(X-this._previousValue)/W.totalFrames;W.attributes={};W.attributes[Y]={to:U};W.animate();};})();YAHOO.register("progressbar",YAHOO.widget.ProgressBar,{version:"@VERSION@",build:"@BUILD@"});