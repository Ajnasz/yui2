/*
Copyright (c) 2006, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
*/


YAHOO.widget.MenuModule=function(_1,_2){if(arguments.length>0){YAHOO.widget.MenuModule.superclass.constructor.call(this,_1,_2);}};YAHOO.widget.MenuModule.prototype=new YAHOO.widget.Overlay();YAHOO.widget.MenuModule.prototype.constructor=YAHOO.widget.MenuModule;YAHOO.widget.MenuModule.superclass=YAHOO.widget.Overlay.prototype;YAHOO.widget.MenuModule.prototype.CSS_CLASS_NAME="yuimenu";YAHOO.widget.MenuModule.prototype.ITEM_TYPE=null;YAHOO.widget.MenuModule.prototype.GROUP_TITLE_TAG_NAME="H6";YAHOO.widget.MenuModule.prototype._aGroupTitleElements=null;YAHOO.widget.MenuModule.prototype._aItemGroups=null;YAHOO.widget.MenuModule.prototype._aListElements=null;YAHOO.widget.MenuModule.prototype._oEventUtil=YAHOO.util.Event;YAHOO.widget.MenuModule.prototype._oDom=YAHOO.util.Dom;YAHOO.widget.MenuModule.prototype._oCurrentItem=null;YAHOO.widget.MenuModule.prototype._bFiredMouseOverEvent=false;YAHOO.widget.MenuModule.prototype._bFiredMouseOutEvent=false;YAHOO.widget.MenuModule.prototype.activeItem=null;YAHOO.widget.MenuModule.prototype.parent=null;YAHOO.widget.MenuModule.prototype.srcElement=null;YAHOO.widget.MenuModule.prototype.mouseOverEvent=null;YAHOO.widget.MenuModule.prototype.mouseOutEvent=null;YAHOO.widget.MenuModule.prototype.mouseDownEvent=null;YAHOO.widget.MenuModule.prototype.mouseUpEvent=null;YAHOO.widget.MenuModule.prototype.clickEvent=null;YAHOO.widget.MenuModule.prototype.keyPressEvent=null;YAHOO.widget.MenuModule.prototype.keyDownEvent=null;YAHOO.widget.MenuModule.prototype.keyUpEvent=null;YAHOO.widget.MenuModule.prototype.init=function(_3,_4){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuModuleItem;}this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];var _5;if(typeof _3=="string"){_5=document.getElementById(_3);}else{if(_3.tagName){_5=_3;}}if(_5){switch(_5.tagName){case "DIV":this.srcElement=_5;YAHOO.widget.MenuModule.superclass.init.call(this,_5);this.beforeInitEvent.fire(YAHOO.widget.MenuModule);var _6=this.body.firstChild,i=0;do{switch(_6.tagName){case this.GROUP_TITLE_TAG_NAME:this._aGroupTitleElements[i]=_6;break;case "UL":this._aListElements[i]=_6;this._aItemGroups[i]=[];i++;break;}}while((_6=_6.nextSibling));if(this._aListElements[0]){this._oDom.addClass(this._aListElements[0],"first");}break;case "SELECT":this.srcElement=_5;var _7=this._oDom.generateId();YAHOO.widget.MenuModule.superclass.init.call(this,_7);this.beforeInitEvent.fire(YAHOO.widget.MenuModule);break;}}else{YAHOO.widget.MenuModule.superclass.init.call(this,_3);this.beforeInitEvent.fire(YAHOO.widget.MenuModule);}if(this.element){this._oDom.addClass(this.element,this.CSS_CLASS_NAME);this._oEventUtil.addListener(this.element,"mouseover",this._onElementMouseOver,this,true);this._oEventUtil.addListener(this.element,"mouseout",this._onElementMouseOut,this,true);this._oEventUtil.addListener(this.element,"mousedown",this._onDOMEvent,this,true);this._oEventUtil.addListener(this.element,"mouseup",this._onDOMEvent,this,true);this._oEventUtil.addListener(this.element,"click",this._onElementClick,this,true);this._oEventUtil.addListener(this.element,"keydown",this._onDOMEvent,this,true);this._oEventUtil.addListener(this.element,"keyup",this._onDOMEvent,this,true);this._oEventUtil.addListener(this.element,"keypress",this._onDOMEvent,this,true);var _8=YAHOO.util.CustomEvent;this.mouseOverEvent=new _8("mouseOverEvent",this);this.mouseOutEvent=new _8("mouseOutEvent",this);this.mouseDownEvent=new _8("mouseDownEvent",this);this.mouseUpEvent=new _8("mouseUpEvent",this);this.clickEvent=new _8("clickEvent",this);this.keyPressEvent=new _8("keyPressEvent",this);this.keyDownEvent=new _8("keyDownEvent",this);this.keyUpEvent=new _8("keyUpEvent",this);this.beforeRenderEvent.subscribe(this._onBeforeRender,this,true);this.renderEvent.subscribe(this._onRender,this,true);this.showEvent.subscribe(this._onShow,this,true);this.beforeHideEvent.subscribe(this._onBeforeHide,this,true);if(_4){this.cfg.applyConfig(_4,true);}this.cfg.queueProperty("visible",false);if(this.srcElement){this._initSubTree();}}this.initEvent.fire(YAHOO.widget.MenuModule);};YAHOO.widget.MenuModule.prototype._initSubTree=function(){var _9;switch(this.srcElement.tagName){case "DIV":if(this._aListElements.length>0){var i=this._aListElements.length-1;do{_9=this._aListElements[i].firstChild;do{switch(_9.tagName){case "LI":this.addItem(new this.ITEM_TYPE(_9),i);break;}}while((_9=_9.nextSibling));}while(i--);}break;case "SELECT":_9=this.srcElement.firstChild;do{switch(_9.tagName){case "OPTGROUP":case "OPTION":this.addItem(new this.ITEM_TYPE(_9));break;}}while((_9=_9.nextSibling));break;}};YAHOO.widget.MenuModule.prototype._getFirstEnabledItem=function(){var _b=this._aItemGroups.length,oItem,aItemGroup;for(var i=0;i<_b;i++){aItemGroup=this._aItemGroups[i];if(aItemGroup){var _d=aItemGroup.length;for(var n=0;n<_d;n++){oItem=aItemGroup[n];if(!oItem.cfg.getProperty("disabled")){return oItem;}oItem=null;}}}};YAHOO.widget.MenuModule.prototype._checkPosition=function(_f){if(typeof _f=="string"){var _10=_f.toLowerCase();return ("dynamic,static".indexOf(_10)!=-1);}};YAHOO.widget.MenuModule.prototype._addItemToGroup=function(_11,_12,_13){var _14;if(_12 instanceof this.ITEM_TYPE){_14=_12;}else{if(typeof _12=="string"){_14=new this.ITEM_TYPE(_12);}}if(_14){if(typeof _13=="number"){var _15=typeof _11=="number"?_11:0,aGroup=this._getItemGroup(_15);if(!aGroup){aGroup=this._createItemGroup(_15);}var _16=(_13>=aGroup.length);if(aGroup[_13]){aGroup.splice(_13,0,_14);}else{aGroup[_13]=_14;}var _17=aGroup[_13];if(_17){if(_16&&!_17.element.parentNode){this._aListElements[_15].appendChild(_17.element);}else{function getNextItemSibling(_18,_19){return (_18[_19]||getNextItemSibling(_18,(_19+1)));}var _1a=getNextItemSibling(aGroup,(_13+1));if(_1a&&!_17.element.parentNode){this._aListElements[_15].insertBefore(_17.element,_1a.element);}}_17.parent=this;this._subscribeToItemEvents(_17);this._configureItemSubmenuModule(_17);this._updateItemProperties(_15);return _17;}}else{var _15=typeof _11=="number"?_11:0,aGroup=this._getItemGroup(_15);if(!aGroup){aGroup=this._createItemGroup(_15);}var _1b=aGroup.length;aGroup[_1b]=_14;var _17=aGroup[_1b];if(_17){if(!this._oDom.isAncestor(this._aListElements[_15],_17.element)){this._aListElements[_15].appendChild(_17.element);}_17.element.setAttribute("groupindex",_15);_17.element.setAttribute("index",_1b);_17.parent=this;_17.index=_1b;_17.groupIndex=_15;this._subscribeToItemEvents(_17);this._configureItemSubmenuModule(_17);if(_1b===0){this._oDom.addClass(_17.element,"first");}return _17;}}}};YAHOO.widget.MenuModule.prototype._removeItemFromGroupByIndex=function(_1c,_1d){var _1e=typeof _1c=="number"?_1c:0,aGroup=this._getItemGroup(_1e);if(aGroup){var _1f=aGroup.splice(_1d,1),oItem=_1f[0];if(oItem){this._updateItemProperties(_1e);if(aGroup.length===0){var oUL=this._aListElements[_1e];if(this.body&&oUL){this.body.removeChild(oUL);}this._aItemGroups.splice(_1e,1);this._aListElements.splice(_1e,1);oUL=this._aListElements[0];if(oUL){this._oDom.addClass(oUL,"first");}}return oItem;}}};YAHOO.widget.MenuModule.prototype._removeItemFromGroupByValue=function(_21,_22){var _23=this._getItemGroup(_21);if(_23){var _24=_23.length,nItemIndex=-1;if(_24>0){var i=_24-1;do{if(_23[i]==_22){nItemIndex=i;break;}}while(i--);if(nItemIndex>-1){return this._removeItemFromGroupByIndex(_21,nItemIndex);}}}};YAHOO.widget.MenuModule.prototype._updateItemProperties=function(_26){var _27=this._getItemGroup(_26),nItems=_27.length;if(nItems>0){var i=nItems-1,oItem,oLI;do{oItem=_27[i];if(oItem){oLI=oItem.element;oItem.index=i;oItem.groupIndex=_26;oLI.setAttribute("groupindex",_26);oLI.setAttribute("index",i);this._oDom.removeClass(oLI,"first");}}while(i--);if(oLI){this._oDom.addClass(oLI,"first");}}};YAHOO.widget.MenuModule.prototype._createItemGroup=function(_29){if(!this._aItemGroups[_29]){this._aItemGroups[_29]=[];var oUL=document.createElement("ul");this._aListElements[_29]=oUL;return this._aItemGroups[_29];}};YAHOO.widget.MenuModule.prototype._getItemGroup=function(_2b){var _2c=((typeof _2b=="number")?_2b:0);return this._aItemGroups[_2c];};YAHOO.widget.MenuModule.prototype._configureItemSubmenuModule=function(_2d){var _2e=_2d.cfg.getProperty("submenu");if(_2e){this.cfg.configChangedEvent.subscribe(this._onParentMenuModuleConfigChange,_2e,true);this.renderEvent.subscribe(this._onParentMenuModuleRender,_2e,true);_2e.beforeShowEvent.subscribe(this._onSubmenuBeforeShow,_2e,true);_2e.showEvent.subscribe(this._onSubmenuShow,_2e,true);_2e.hideEvent.subscribe(this._onSubmenuHide,_2e,true);}};YAHOO.widget.MenuModule.prototype._subscribeToItemEvents=function(_2f){var _30=[this,_2f];_2f.focusEvent.subscribe(this._onItemFocus,_30);_2f.blurEvent.subscribe(this._onItemBlur,_30);_2f.cfg.configChangedEvent.subscribe(this._onItemConfigChange,_30);};YAHOO.widget.MenuModule.prototype._getOffsetWidth=function(){var _31=this.element.cloneNode(true);this._oDom.setStyle(_31,"width","");document.body.appendChild(_31);var _32=_31.offsetWidth;document.body.removeChild(_31);return _32;};YAHOO.widget.MenuModule.prototype._fireItemEvent=function(_33,_34,_35){var me=this;function getItemElement(_37){if(_37==me.element){return;}else{if(_37.tagName=="LI"){return _37;}else{if(_37.parentNode){return getItemElement(_37.parentNode);}}}}var _38=getItemElement(_33);if(_38){var _39=parseInt(_38.getAttribute("groupindex"),10),nIndex=parseInt(_38.getAttribute("index"),10),oItem=this._aItemGroups[_39][nIndex];if(!oItem.cfg.getProperty("disabled")){oItem[_34].fire(_35);return oItem;}}};YAHOO.widget.MenuModule.prototype._onDOMEvent=function(_3a,_3b){var _3c={"mousedown":"mouseDownEvent","mouseup":"mouseUpEvent","keydown":"keyDownEvent","keyup":"keyUpEvent","keypress":"keyPressEvent"},sCustomEventType=_3c[_3a.type],oTarget=this._oEventUtil.getTarget(_3a,true);this._fireItemEvent(oTarget,sCustomEventType,_3a);this[sCustomEventType].fire(_3a);this._oEventUtil.stopPropagation(_3a);};YAHOO.widget.MenuModule.prototype._onElementMouseOver=function(_3d,_3e){var _3f=this._oEventUtil.getTarget(_3d,true);if((_3f==this.element||this._oDom.isAncestor(this.element,_3f))&&!this._bFiredMouseOverEvent){this.mouseOverEvent.fire(_3d);this._bFiredMouseOverEvent=true;this._bFiredMouseOutEvent=false;}if(!this._oCurrentItem){this._oCurrentItem=this._fireItemEvent(_3f,"mouseOverEvent",_3d);}this._oEventUtil.stopPropagation(_3d);};YAHOO.widget.MenuModule.prototype._onElementMouseOut=function(_40,_41){var _42=this._oEventUtil.getRelatedTarget(_40),bLIMouseOut=true,bMovingToSubmenu=false;if(this._oCurrentItem&&_42){if(_42==this._oCurrentItem.element||this._oDom.isAncestor(this._oCurrentItem.element,_42)){bLIMouseOut=false;}var _43=this._oCurrentItem.cfg.getProperty("submenu");if(_43&&(_42==_43.element||this._oDom.isAncestor(_43.element,_42))){bMovingToSubmenu=true;}}if(this._oCurrentItem&&(bLIMouseOut||bMovingToSubmenu)){this._oCurrentItem.mouseOutEvent.fire(_40);this._oCurrentItem=null;}if(!this._bFiredMouseOutEvent&&(!this._oDom.isAncestor(this.element,_42)||bMovingToSubmenu)){this.mouseOutEvent.fire(_40);this._bFiredMouseOutEvent=true;this._bFiredMouseOverEvent=false;}this._oEventUtil.stopPropagation(_40);};YAHOO.widget.MenuModule.prototype._onElementClick=function(_44,_45){var _46=this._oEventUtil.getTarget(_44,true),oItem=this._fireItemEvent(_46,"clickEvent",_44),bCurrentPageURL;if(oItem){var _47=oItem.cfg.getProperty("url"),oSubmenu=oItem.cfg.getProperty("submenu");bCurrentPageURL=(_47.substr((_47.length-1),1)=="#");if(_46==oItem.subMenuIndicator&&oSubmenu){if(oSubmenu.cfg.getProperty("visible")){oSubmenu.hide();}else{var _48=this.activeItem;if(_48&&_48!=this){this.clearActiveItem();}this.activeItem=oItem;oItem.cfg.setProperty("selected",true);oSubmenu.show();}}else{if(!bCurrentPageURL){document.location=_47;}}}switch(_46.tagName){case "A":if(bCurrentPageURL){this._oEventUtil.preventDefault(_44);}else{break;}default:this._oEventUtil.stopPropagation(_44);break;}this.clickEvent.fire(_44);};YAHOO.widget.MenuModule.prototype._onBeforeRender=function(_49,_4a,_4b){if(this.cfg.getProperty("position")=="static"){this.cfg.queueProperty("iframe",false);this.cfg.queueProperty("visible",true);}var _4c=this._aListElements.length;if(_4c>0){var i=0,bFirstList=true,oUL,oGroupTitle;do{oUL=this._aListElements[i];if(oUL){if(bFirstList){this._oDom.addClass(oUL,"first");bFirstList=false;}if(!this._oDom.isAncestor(this.element,oUL)){this.appendToBody(oUL);}oGroupTitle=this._aGroupTitleElements[i];if(oGroupTitle){if(!this._oDom.isAncestor(this.element,oGroupTitle)){oUL.parentNode.insertBefore(oGroupTitle,oUL);}this._oDom.addClass(oUL,"hastitle");}}i++;}while(i<_4c);}};YAHOO.widget.MenuModule.prototype._onRender=function(_4e,_4f,_50){if(this.cfg.getProperty("position")=="dynamic"){var _51=this.element.parentNode.tagName=="BODY"?this.element.offsetWidth:this._getOffsetWidth();this.cfg.setProperty("width",(_51+"px"));}};YAHOO.widget.MenuModule.prototype._onShow=function(_52,_53,_54){this.setInitialFocus();};YAHOO.widget.MenuModule.prototype._onBeforeHide=function(_55,_56,_57){var _58=this.activeItem;if(_58){_58.blur();if(_58.cfg.getProperty("selected")){_58.cfg.setProperty("selected",false);}var _59=_58.cfg.getProperty("submenu");if(_59&&_59.cfg.getProperty("visible")){_59.hide();}}};YAHOO.widget.MenuModule.prototype._onParentMenuModuleConfigChange=function(_5a,_5b,_5c){var _5d=_5b[0][0],oPropertyValue=_5b[0][1];switch(_5d){case "iframe":case "constraintoviewport":_5c.cfg.setProperty(_5d,oPropertyValue);break;}};YAHOO.widget.MenuModule.prototype._onParentMenuModuleRender=function(_5e,_5f,_60){var _61=_60.parent.parent;_60.cfg.applyConfig({constraintoviewport:_61.cfg.getProperty("constraintoviewport"),xy:[0,0],iframe:_61.cfg.getProperty("iframe")});if(this._oDom.inDocument(this.element)){this.render();}else{this.render(this.parent.element);}};YAHOO.widget.MenuModule.prototype._onSubmenuBeforeShow=function(_62,_63,_64){var _65=this.parent.parent.cfg.getProperty("submenualignment");this.cfg.setProperty("context",[this.parent.element,_65[0],_65[1]]);this.parent.subMenuIndicator.alt=this.parent.EXPANDED_SUBMENU_INDICATOR_ALT_TEXT;};YAHOO.widget.MenuModule.prototype._onSubmenuShow=function(_66,_67,_68){this.parent.subMenuIndicator.alt=this.parent.EXPANDED_SUBMENU_INDICATOR_ALT_TEXT;};YAHOO.widget.MenuModule.prototype._onSubmenuHide=function(_69,_6a,_6b){if(this.parent.parent.cfg.getProperty("visible")){this.parent.cfg.setProperty("selected",false);this.parent.focus();}this.parent.subMenuIndicator.alt=this.parent.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;};YAHOO.widget.MenuModule.prototype._onItemFocus=function(_6c,_6d,_6e){var me=_6e[0],oItem=_6e[1];me.activeItem=oItem;};YAHOO.widget.MenuModule.prototype._onItemBlur=function(_70,_71,_72){var me=_72[0],oItem=_72[1],oSubmenu=oItem.cfg.getProperty("submenu");if(!oSubmenu||(oSubmenu&&!oSubmenu.cfg.getProperty("visible"))){me.activeItem=null;}};YAHOO.widget.MenuModule.prototype._onItemConfigChange=function(_74,_75,_76){var _77=_75[0][0],me=_76[0],oItem=_76[1];switch(_77){case "submenu":var _78=_75[0][1];if(_78){me._configureItemSubmenuModule(oItem);}break;case "text":case "helptext":if(me.element.style.width){var _79=me._getOffsetWidth()+"px";me._oDom.setStyle(me.element,"width",_79);}break;}};YAHOO.widget.MenuModule.prototype.enforceConstraints=function(_7a,_7b,obj){var pos=_7b[0],x=pos[0],y=pos[1],bod=document.getElementsByTagName("body")[0],htm=document.getElementsByTagName("html")[0],bodyOverflow=YAHOO.util.Dom.getStyle(bod,"overflow"),htmOverflow=YAHOO.util.Dom.getStyle(htm,"overflow"),offsetHeight=this.element.offsetHeight,offsetWidth=this.element.offsetWidth,viewPortWidth=YAHOO.util.Dom.getClientWidth(),viewPortHeight=YAHOO.util.Dom.getClientHeight(),scrollX=window.scrollX||document.body.scrollLeft,scrollY=window.scrollY||document.body.scrollTop,topConstraint=scrollY+10,leftConstraint=scrollX+10,bottomConstraint=scrollY+viewPortHeight-offsetHeight-10,rightConstraint=scrollX+viewPortWidth-offsetWidth-10,aContext=this.cfg.getProperty("context"),oContextElement=aContext?aContext[0]:null;if(x<10){x=leftConstraint;}else{if((x+offsetWidth)>viewPortWidth){if(oContextElement&&((x-oContextElement.offsetWidth)>offsetWidth)){x=(x-(oContextElement.offsetWidth+offsetWidth));}else{x=rightConstraint;}}}if(y<10){y=topConstraint;}else{if(y>bottomConstraint){if(oContextElement&&(y>offsetHeight)){y=((y+oContextElement.offsetHeight)-offsetHeight);}else{y=bottomConstraint;}}}this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);};YAHOO.widget.MenuModule.prototype.configPosition=function(_7e,_7f,_80){var _81=_7f[0]=="static"?"static":"absolute";this._oDom.setStyle(this.element,"position",_81);};YAHOO.widget.MenuModule.prototype.toString=function(){return ("Menu "+this.id);};YAHOO.widget.MenuModule.prototype.setItemGroupTitle=function(_82,_83){if(typeof _82=="string"&&_82.length>0){var _84=typeof _83=="number"?_83:0,oTitle=this._aGroupTitleElements[_84];if(oTitle){oTitle.innerHTML=_82;}else{oTitle=document.createElement(this.GROUP_TITLE_TAG_NAME);oTitle.innerHTML=_82;this._aGroupTitleElements[_84]=oTitle;}var i=this._aGroupTitleElements.length-1,nFirstIndex;do{if(this._aGroupTitleElements[i]){this._oDom.removeClass(this._aGroupTitleElements[i],"first");nFirstIndex=i;}}while(i--);if(nFirstIndex!==null){this._oDom.addClass(this._aGroupTitleElements[nFirstIndex],"first");}}};YAHOO.widget.MenuModule.prototype.addItem=function(_86,_87){if(_86){return this._addItemToGroup(_87,_86);}};YAHOO.widget.MenuModule.prototype.insertItem=function(_88,_89,_8a){if(_88){return this._addItemToGroup(_8a,_88,_89);}};YAHOO.widget.MenuModule.prototype.removeItem=function(_8b,_8c){if(typeof _8b!="undefined"){var _8d;if(_8b instanceof YAHOO.widget.MenuModuleItem){_8d=this._removeItemFromGroupByValue(_8c,_8b);}else{if(typeof _8b=="number"){_8d=this._removeItemFromGroupByIndex(_8c,_8b);}}if(_8d){_8d.destroy();return _8d;}}};YAHOO.widget.MenuModule.prototype.getItemGroups=function(){return this._aItemGroups;};YAHOO.widget.MenuModule.prototype.getItem=function(_8e,_8f){if(typeof _8e=="number"){var _90=this._getItemGroup(_8f);if(_90){return _90[_8e];}}};YAHOO.widget.MenuModule.prototype.destroy=function(){this._oEventUtil.removeListener(this.element,"mouseover",this._onElementMouseOver);this._oEventUtil.removeListener(this.element,"mouseout",this._onElementMouseOut);this._oEventUtil.removeListener(this.element,"click",this._onElementClick);this._oEventUtil.removeListener(this.element,"mousedown",this._onDOMEvent);this._oEventUtil.removeListener(this.element,"mouseup",this._onDOMEvent);this._oEventUtil.removeListener(this.element,"keydown",this._onDOMEvent);this._oEventUtil.removeListener(this.element,"keyup",this._onDOMEvent);this._oEventUtil.removeListener(this.element,"keypress",this._onDOMEvent);this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();this.beforeMoveEvent.unsubscribeAll();var _91=this._aItemGroups.length,nItems,i,n;if(_91>0){i=_91-1;do{if(this._aItemGroups[i]){nItems=this._aItemGroups[i].length;if(nItems>0){n=nItems-1;do{if(this._aItemGroups[i][n]){this._aItemGroups[i][n].destroy();}}while(n--);}}}while(i--);}YAHOO.widget.MenuModule.superclass.destroy.call(this);};YAHOO.widget.MenuModule.prototype.setInitialFocus=function(){var _92=this._getFirstEnabledItem();if(_92){_92.focus();}};YAHOO.widget.MenuModule.prototype.setInitialSelection=function(){var _93=this._getFirstEnabledItem();if(_93){_93.cfg.setProperty("selected",true);}};YAHOO.widget.MenuModule.prototype.clearActiveItem=function(){var _94=this.activeItem;if(_94){_94.cfg.setProperty("selected",false);var _95=_94.cfg.getProperty("submenu");if(_95){_95.hide();}}};YAHOO.widget.MenuModule.prototype.initDefaultConfig=function(){YAHOO.widget.MenuModule.superclass.initDefaultConfig.call(this);this.cfg.addProperty("position",{value:"dynamic",handler:this.configPosition,validator:this._checkPosition});this.cfg.refireEvent("position");this.cfg.addProperty("submenualignment",{value:["tl","tr"]});};YAHOO.widget.MenuModuleItem=function(_96,_97){if(_96){this.init(_96,_97);}};YAHOO.widget.MenuModuleItem.prototype={SUBMENU_INDICATOR_IMAGE_PATH:"nt/ic/ut/alt1/menuarorght8_nrm_1.gif",SELECTED_SUBMENU_INDICATOR_IMAGE_PATH:"nt/ic/ut/alt1/menuarorght8_hov_1.gif",DISABLED_SUBMENU_INDICATOR_IMAGE_PATH:"nt/ic/ut/alt1/menuarorght8_dim_1.gif",COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT:"Collapsed.  Click to expand.",EXPANDED_SUBMENU_INDICATOR_ALT_TEXT:"Expanded.  Click to collapse.",DISABLED_SUBMENU_INDICATOR_ALT_TEXT:"Disabled.",CSS_CLASS_NAME:"yuimenuitem",SUBMENU_TYPE:null,SUBMENU_ITEM_TYPE:null,IMG_ROOT:"http://us.i1.yimg.com/us.yimg.com/i/",IMG_ROOT_SSL:"https://a248.e.akamai.net/sec.yimg.com/i/",_oAnchor:null,_oText:null,_oHelpTextEM:null,_oSubmenu:null,_oDom:YAHOO.util.Dom,_sUserAgent:window.navigator.userAgent.toLowerCase(),constructor:YAHOO.widget.MenuModuleItem,imageRoot:null,isSecure:function(){if(window.location.href.toLowerCase().indexOf("https")===0){return true;}else{return false;}}(),index:null,groupIndex:null,parent:null,element:null,srcElement:null,value:null,subMenuIndicator:null,browser:function(){var _98=navigator.userAgent.toLowerCase();if(_98.indexOf("opera")!=-1){return "opera";}else{if(_98.indexOf("msie 7")!=-1){return "ie7";}else{if(_98.indexOf("msie")!=-1){return "ie";}else{if(_98.indexOf("safari")!=-1){return "safari";}else{if(_98.indexOf("gecko")!=-1){return "gecko";}else{return false;}}}}}}(),destroyEvent:null,mouseOverEvent:null,mouseOutEvent:null,mouseDownEvent:null,mouseUpEvent:null,clickEvent:null,keyPressEvent:null,keyDownEvent:null,keyUpEvent:null,focusEvent:null,blurEvent:null,init:function(_99,_9a){this.imageRoot=(this.isSecure)?this.IMG_ROOT_SSL:this.IMG_ROOT;if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.MenuModule;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.MenuModuleItem;}this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();if(this._checkString(_99)){this._createRootNodeStructure();this.cfg.setProperty("text",_99);}else{if(this._checkDOMNode(_99)){switch(_99.tagName){case "OPTION":this._createRootNodeStructure();this.cfg.setProperty("text",_99.text);this.srcElement=_99;break;case "OPTGROUP":this._createRootNodeStructure();this.cfg.setProperty("text",_99.label);this.srcElement=_99;this._initSubTree();break;case "LI":var _9b=this._getFirstElement(_99,"A"),sURL="#",sText=null;if(_9b){sURL=_9b.getAttribute("href");if(_9b.innerText){sText=_9b.innerText;}else{var _9c=_9b.ownerDocument.createRange();_9c.selectNodeContents(_9b);sText=_9c.toString();}}else{var _9d=_99.firstChild;sText=_9d.nodeValue;_9b=document.createElement("a");_9b.setAttribute("href",sURL);_99.replaceChild(_9b,_9d);_9b.appendChild(_9d);}this.srcElement=_99;this.element=_99;this._oAnchor=_9b;var _9e=this._getFirstElement(_9b),bEmphasis=false,bStrongEmphasis=false;if(_9e){this._oText=_9e.firstChild;switch(_9e.tagName){case "EM":bEmphasis=true;break;case "STRONG":bStrongEmphasis=true;break;}}else{this._oText=_9b.firstChild;}this.cfg.setProperty("text",sText,true);this.cfg.setProperty("url",sURL,true);this.cfg.setProperty("emphasis",bEmphasis,true);this.cfg.setProperty("strongemphasis",bStrongEmphasis,true);this._initSubTree();break;}}}if(this.element){this._oDom.addClass(this.element,this.CSS_CLASS_NAME);var _9f=YAHOO.util.CustomEvent;this.destroyEvent=new _9f("destroyEvent",this);this.mouseOverEvent=new _9f("mouseOverEvent",this);this.mouseOutEvent=new _9f("mouseOutEvent",this);this.mouseDownEvent=new _9f("mouseDownEvent",this);this.mouseUpEvent=new _9f("mouseUpEvent",this);this.clickEvent=new _9f("clickEvent",this);this.keyPressEvent=new _9f("keyPressEvent",this);this.keyDownEvent=new _9f("keyDownEvent",this);this.keyUpEvent=new _9f("keyUpEvent",this);this.focusEvent=new _9f("focusEvent",this);this.blurEvent=new _9f("blurEvent",this);if(_9a){this.cfg.applyConfig(_9a);}this.cfg.fireQueue();}},_getFirstElement:function(_a0,_a1){var _a2;if(_a0.firstChild&&_a0.firstChild.nodeType==1){_a2=_a0.firstChild;}else{if(_a0.firstChild&&_a0.firstChild.nextSibling&&_a0.firstChild.nextSibling.nodeType==1){_a2=_a0.firstChild.nextSibling;}}if(_a1){return (_a2&&_a2.tagName==_a1)?_a2:false;}return _a2;},_checkString:function(_a3){return (typeof _a3=="string");},_checkDOMNode:function(_a4){return (_a4&&_a4.tagName);},_createRootNodeStructure:function(){this.element=document.createElement("li");this._oText=document.createTextNode("");this._oAnchor=document.createElement("a");this._oAnchor.appendChild(this._oText);this.cfg.refireEvent("url");this.element.appendChild(this._oAnchor);},_initSubTree:function(){var _a5=this.SUBMENU_TYPE,MenuModuleItem=this.SUBMENU_ITEM_TYPE;if(this.srcElement.childNodes.length>0){var _a6=this.srcElement.firstChild,aOptions=[];do{switch(_a6.tagName){case "DIV":this.cfg.setProperty("submenu",(new _a5(_a6)));break;case "OPTION":aOptions[aOptions.length]=_a6;break;}}while((_a6=_a6.nextSibling));var _a7=aOptions.length;if(_a7>0){this.cfg.setProperty("submenu",(new _a5(this._oDom.generateId())));for(var n=0;n<_a7;n++){this._oSubmenu.addItem((new MenuModuleItem(aOptions[n])));}}}},configText:function(_a9,_aa,_ab){var _ac=_aa[0];if(this._oText){this._oText.nodeValue=_ac;}},configHelpText:function(_ad,_ae,_af){var _b0=_ae[0],aNodes=[this.element,this._oAnchor],me=this;function initHelpText(){me._oDom.addClass(aNodes,"hashelptext");if(me.cfg.getProperty("disabled")){me.cfg.refireEvent("disabled");}if(me.cfg.getProperty("selected")){me.cfg.refireEvent("selected");}}function removeHelpText(){me._oDom.removeClass(aNodes,"hashelptext");me.element.removeChild(me._oHelpTextEM);me._oHelpTextEM=null;}if(this._checkDOMNode(_b0)){if(this._oHelpTextEM){var _b1=this._oHelpTextEM.parentNode;_b1.replaceChild(_b0,this._oHelpTextEM);}else{this._oHelpTextEM=_b0;this.element.insertBefore(this._oHelpTextEM,this.subMenuIndicator);}initHelpText();}else{if(this._checkString(_b0)){if(_b0.length===0){removeHelpText();}else{if(!this._oHelpTextEM){this._oHelpTextEM=document.createElement("em");this.element.insertBefore(this._oHelpTextEM,this.subMenuIndicator);}this._oHelpTextEM.innerHTML=_b0;initHelpText();}}else{if(!_b0&&this._oHelpTextEM){removeHelpText();}}}},configURL:function(_b2,_b3,_b4){var _b5=_b3[0];if(!_b5){_b5="#";}this._oAnchor.setAttribute("href",_b5);},configEmphasis:function(_b6,_b7,_b8){var _b9=_b7[0];if(_b9&&this.cfg.getProperty("strongemphasis")){this.cfg.setProperty("strongemphasis",false);}if(this._oAnchor){var oEM;if(_b9){oEM=document.createElement("em");oEM.appendChild(this._oText);this._oAnchor.appendChild(oEM);}else{oEM=this._getFirstElement(this._oAnchor,"EM");this._oAnchor.removeChild(oEM);this._oAnchor.appendChild(this._oText);}}},configStrongEmphasis:function(_bb,_bc,_bd){var _be=_bc[0];if(_be&&this.cfg.getProperty("emphasis")){this.cfg.setProperty("emphasis",false);}if(this._oAnchor){var _bf;if(_be){_bf=document.createElement("strong");_bf.appendChild(this._oText);this._oAnchor.appendChild(_bf);}else{_bf=this._getFirstElement(this._oAnchor,"STRONG");this._oAnchor.removeChild(_bf);this._oAnchor.appendChild(this._oText);}}},configDisabled:function(_c0,_c1,_c2){var _c3=_c1[0],aNodes=[this.element,this._oAnchor],sImageSrc,sImageAlt;if(this._oHelpTextEM){aNodes[2]=this._oHelpTextEM;}if(_c3){if(this.cfg.getProperty("selected")){this.cfg.setProperty("selected",false);}this._oAnchor.removeAttribute("href");this._oDom.addClass(aNodes,"disabled");sImageSrc=this.DISABLED_SUBMENU_INDICATOR_IMAGE_PATH;sImageAlt=this.DISABLED_SUBMENU_INDICATOR_ALT_TEXT;}else{this._oAnchor.setAttribute("href",this.cfg.getProperty("url"));this._oDom.removeClass(aNodes,"disabled");sImageSrc=this.SUBMENU_INDICATOR_IMAGE_PATH;sImageAlt=this.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;}if(this.subMenuIndicator){this.subMenuIndicator.src=this.imageRoot+sImageSrc;this.subMenuIndicator.alt=sImageAlt;}},configSelected:function(_c4,_c5,_c6){if(!this.cfg.getProperty("disabled")){var _c7=_c5[0],aNodes=[this.element,this._oAnchor],sImageSrc;if(this._oHelpTextEM){aNodes[2]=this._oHelpTextEM;}if(_c7){this._oDom.addClass(aNodes,"selected");sImageSrc=this.SELECTED_SUBMENU_INDICATOR_IMAGE_PATH;}else{this._oDom.removeClass(aNodes,"selected");sImageSrc=this.SUBMENU_INDICATOR_IMAGE_PATH;}if(this.subMenuIndicator){this.subMenuIndicator.src=this.imageRoot+sImageSrc;}}},configSubmenu:function(_c8,_c9,_ca){var _cb=_c9[0],aNodes=[this.element,this._oAnchor];if(_cb){_cb.parent=this;this._oSubmenu=_cb;if(!this.subMenuIndicator){this.subMenuIndicator=document.createElement("img");this.subMenuIndicator.src=(this.imageRoot+this.SUBMENU_INDICATOR_IMAGE_PATH);this.subMenuIndicator.alt=this.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;this.element.appendChild(this.subMenuIndicator);this._oDom.addClass(aNodes,"hassubmenu");if(this.cfg.getProperty("disabled")){this.cfg.refireEvent("disabled");}if(this.cfg.getProperty("selected")){this.cfg.refireEvent("selected");}}}else{this._oDom.removeClass(aNodes,"hassubmenu");if(this.subMenuIndicator){this.element.removeChild(this.subMenuIndicator);}if(this._oSubmenu){this._oSubmenu.destroy();}}},initDefaultConfig:function(){this.cfg.addProperty("text",{value:"",handler:this.configText,validator:this._checkString,suppressEvent:true});this.cfg.addProperty("helptext",{handler:this.configHelpText});this.cfg.addProperty("url",{value:"#",handler:this.configURL,suppressEvent:true});this.cfg.addProperty("emphasis",{value:false,handler:this.configEmphasis,validator:this.cfg.checkBoolean,suppressEvent:true});this.cfg.addProperty("strongemphasis",{value:false,handler:this.configStrongEmphasis,validator:this.cfg.checkBoolean,suppressEvent:true});this.cfg.addProperty("disabled",{value:false,handler:this.configDisabled,validator:this.cfg.checkBoolean,suppressEvent:true});this.cfg.addProperty("selected",{value:false,handler:this.configSelected,validator:this.cfg.checkBoolean,suppressEvent:true});this.cfg.addProperty("submenu",{handler:this.configSubmenu});},getNextEnabledSibling:function(){if(this.parent instanceof YAHOO.widget.MenuModule){function getNextArrayItem(_cc,_cd){return _cc[_cd]||getNextArrayItem(_cc,(_cd+1));}var _ce=this.parent.getItemGroups(),oNextItem;if(this.index<(_ce[this.groupIndex].length-1)){oNextItem=getNextArrayItem(_ce[this.groupIndex],(this.index+1));}else{var _cf;if(this.groupIndex<(_ce.length-1)){_cf=this.groupIndex+1;}else{_cf=0;}var _d0=getNextArrayItem(_ce,_cf);oNextItem=getNextArrayItem(_d0,0);}return oNextItem.cfg.getProperty("disabled")?oNextItem.getNextEnabledSibling():oNextItem;}},getPreviousEnabledSibling:function(){if(this.parent instanceof YAHOO.widget.MenuModule){function getPreviousArrayItem(_d1,_d2){return _d1[_d2]||getPreviousArrayItem(_d1,(_d2-1));}function getFirstItemIndex(_d3,_d4){return _d3[_d4]?_d4:getFirstItemIndex(_d3,(_d4+1));}var _d5=this.parent.getItemGroups(),oPreviousItem;if(this.index>getFirstItemIndex(_d5[this.groupIndex],0)){oPreviousItem=getPreviousArrayItem(_d5[this.groupIndex],(this.index-1));}else{var _d6;if(this.groupIndex>getFirstItemIndex(_d5,0)){_d6=this.groupIndex-1;}else{_d6=_d5.length-1;}var _d7=getPreviousArrayItem(_d5,_d6);oPreviousItem=getPreviousArrayItem(_d7,(_d7.length-1));}return oPreviousItem.cfg.getProperty("disabled")?oPreviousItem.getPreviousEnabledSibling():oPreviousItem;}},focus:function(){if(!this.cfg.getProperty("disabled")&&this.parent&&this.parent.cfg.getProperty("visible")){var _d8=this.parent.activeItem;if(_d8){_d8.blur();}this._oAnchor.focus();if(this.parent&&this.parent.browser=="opera"&&this._oSubmenu){this._oAnchor.focus();}this.focusEvent.fire();}},blur:function(){if(!this.cfg.getProperty("disabled")&&this.parent&&this._oDom.getStyle(this.parent.element,"visibility")=="visible"){this._oAnchor.blur();this.blurEvent.fire();}},destroy:function(){if(this.element){this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();this.focusEvent.unsubscribeAll();this.blurEvent.unsubscribeAll();this.cfg.configChangedEvent.unsubscribeAll();var _d9=this.element.parentNode;if(_d9){_d9.removeChild(this.element);this.destroyEvent.fire();}this.destroyEvent.unsubscribeAll();}}};YAHOO.widget.Menu=function(_da,_db){if(arguments.length>0){YAHOO.widget.Menu.superclass.constructor.call(this,_da,_db);}};YAHOO.widget.Menu.prototype=new YAHOO.widget.MenuModule();YAHOO.widget.Menu.prototype.constructor=YAHOO.widget.Menu;YAHOO.widget.Menu.superclass=YAHOO.widget.MenuModule.prototype;YAHOO.widget.Menu.prototype.init=function(_dc,_dd){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuItem;}YAHOO.widget.Menu.superclass.init.call(this,_dc);this.beforeInitEvent.fire(YAHOO.widget.Menu);this.showEvent.subscribe(this._onMenuShow,this,true);this.mouseOverEvent.subscribe(this._onMenuMouseOver,this,true);this.keyDownEvent.subscribe(this._onMenuKeyDown,this,true);if(_dd){this.cfg.applyConfig(_dd,true);}this.initEvent.fire(YAHOO.widget.Menu);};YAHOO.widget.Menu.prototype._onMenuShow=function(_de,_df,_e0){if(this.parent&&this.parent.parent instanceof YAHOO.widget.Menu){var _e1=this.parent.parent.cfg.getProperty("submenualignment");this.cfg.setProperty("submenualignment",[_e1[0],_e1[1]]);}};YAHOO.widget.Menu.prototype._onMenuMouseOver=function(_e2,_e3,_e4){if(this.parent){this.parent.cfg.setProperty("selected",true);}};YAHOO.widget.Menu.prototype._onMenuKeyDown=function(_e5,_e6,_e7){if(this.cfg.getProperty("position")=="dynamic"){var _e8=_e6[0];if(_e8.keyCode==27){this.hide();if(this.parent){this.parent.focus();if(this.parent.parent instanceof YAHOO.widget.Menu){this.parent.cfg.setProperty("selected",true);}}}}};YAHOO.widget.Menu.prototype.onDomResize=function(e,obj){if(!this._handleResize){this._handleResize=true;return;}if(this.cfg.getProperty("position")=="dynamic"){this.cfg.setProperty("width",(this._getOffsetWidth()+"px"));if(this.parent&&this.cfg.getProperty("visible")){var me=this;function align(){me.align();}window.setTimeout(align,0);}}YAHOO.widget.Menu.superclass.onDomResize.call(this,e,obj);};YAHOO.widget.MenuItem=function(_ec,_ed){if(_ec){YAHOO.widget.MenuItem.superclass.constructor.call(this,_ec,_ed);}};YAHOO.widget.MenuItem.prototype=new YAHOO.widget.MenuModuleItem();YAHOO.widget.MenuItem.prototype.constructor=YAHOO.widget.MenuItem;YAHOO.widget.MenuItem.superclass=YAHOO.widget.MenuModuleItem.prototype;YAHOO.widget.MenuItem.prototype.init=function(_ee,_ef){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.MenuItem;}YAHOO.widget.MenuItem.superclass.init.call(this,_ee);this.keyDownEvent.subscribe(this._onKeyDown,this,true);this.mouseOverEvent.subscribe(this._onMouseOver,this,true);this.mouseOutEvent.subscribe(this._onMouseOut,this,true);if(_ef){this.cfg.applyConfig(_ef,true);}this.cfg.fireQueue();};YAHOO.widget.MenuItem.prototype.CHECKED_IMAGE_PATH="nt/ic/ut/bsc/menuchk8_nrm_1.gif";YAHOO.widget.MenuItem.prototype.SELECTED_CHECKED_IMAGE_PATH="nt/ic/ut/bsc/menuchk8_hov_1.gif";YAHOO.widget.MenuItem.prototype.DISABLED_CHECKED_IMAGE_PATH="nt/ic/ut/bsc/menuchk8_dim_1.gif";YAHOO.widget.MenuItem.prototype.CHECKED_IMAGE_ALT_TEXT="Checked.";YAHOO.widget.MenuItem.prototype.DISABLED_CHECKED_IMAGE_ALT_TEXT="Checked. (Item disabled.)";YAHOO.widget.MenuItem.prototype._checkImage=null;YAHOO.widget.MenuItem.prototype._onKeyDown=function(_f0,_f1,_f2){var _f3=_f1[0];switch(_f3.keyCode){case 38:case 40:var _f4=this.parent.activeItem;if(this==_f4&&!this.cfg.getProperty("selected")){this.cfg.setProperty("selected",true);}else{var _f5=(_f3.keyCode==38)?this.getPreviousEnabledSibling():this.getNextEnabledSibling();if(_f5){this.parent.clearActiveItem();_f5.cfg.setProperty("selected",true);_f5.focus();}}YAHOO.util.Event.preventDefault(_f3);break;case 39:this.parent.clearActiveItem();this.cfg.setProperty("selected",true);this.focus();var _f6=this.cfg.getProperty("submenu");if(_f6){_f6.show();_f6.setInitialSelection();}else{if(YAHOO.widget.MenuBarItem&&this.parent.parent&&this.parent.parent instanceof YAHOO.widget.MenuBarItem){this.parent.hide();var _f7=this.parent.parent;if(_f7){_f7.focus();_f7.cfg.setProperty("selected",true);}}}YAHOO.util.Event.preventDefault(_f3);break;case 37:if(this.parent.parent){this.parent.hide();var _f7=this.parent.parent;if(_f7){_f7.focus();_f7.cfg.setProperty("selected",true);}}YAHOO.util.Event.preventDefault(_f3);break;}};YAHOO.widget.MenuItem.prototype._onMouseOver=function(_f8,_f9,_fa){var _fb=this.parent.activeItem;if(_fb&&_fb!=this){this.parent.clearActiveItem();}this.cfg.setProperty("selected",true);this.focus();var _fc=this.cfg.getProperty("submenu");if(_fc){_fc.show();}};YAHOO.widget.MenuItem.prototype._onMouseOut=function(_fd,_fe,_ff){this.cfg.setProperty("selected",false);var _100=this.cfg.getProperty("submenu");if(_100){var _101=_fe[0],oRelatedTarget=YAHOO.util.Event.getRelatedTarget(_101);if(!(oRelatedTarget==_100.element||this._oDom.isAncestor(_100.element,oRelatedTarget))){_100.hide();}}};YAHOO.widget.MenuItem.prototype.configChecked=function(_102,_103,_104){var _105=_103[0];if(_105){var oImg=document.createElement("img");oImg.src=(this.imageRoot+this.CHECKED_IMAGE_PATH);oImg.alt=this.CHECKED_IMAGE_ALT_TEXT;this._checkImage=oImg;this.element.insertBefore(oImg,this.element.lastChild);this._oDom.addClass([this.element,oImg],"checked");if(this.cfg.getProperty("disabled")){this.cfg.refireEvent("disabled");}if(this.cfg.getProperty("selected")){this.cfg.refireEvent("selected");}}else{this._oDom.removeClass([this.element,this._checkImage],"checked");if(this._checkImage){this.element.removeChild(this._checkImage);}this._checkImage=null;}};YAHOO.widget.MenuItem.prototype.configSelected=function(_107,_108,_109){YAHOO.widget.MenuItem.superclass.configSelected.call(this,_107,_108,_109);if(!this.cfg.getProperty("disabled")&&this.cfg.getProperty("checked")){var _10a=_108[0];this._checkImage.src=this.imageRoot+(_10a?this.SELECTED_CHECKED_IMAGE_PATH:this.CHECKED_IMAGE_PATH);}};YAHOO.widget.MenuItem.prototype.configDisabled=function(_10b,_10c,_10d){YAHOO.widget.MenuItem.superclass.configDisabled.call(this,_10b,_10c,_10d);if(this.cfg.getProperty("checked")){var _10e=_10c[0],sAlt=this.CHECKED_IMAGE_ALT_TEXT,sSrc=this.CHECKED_IMAGE_PATH;if(_10e){sAlt=this.DISABLED_CHECKED_IMAGE_ALT_TEXT;sSrc=this.DISABLED_CHECKED_IMAGE_PATH;}this._checkImage.src=this.imageRoot+sSrc;this._checkImage.alt=sAlt;}};YAHOO.widget.MenuItem.prototype.initDefaultConfig=function(){YAHOO.widget.MenuItem.superclass.initDefaultConfig.call(this);this.cfg.addProperty("checked",{value:false,handler:this.configChecked,validator:this.cfg.checkBoolean,suppressEvent:true});};YAHOO.widget.ContextMenu=function(_10f,_110){if(arguments.length>0){YAHOO.widget.ContextMenu.superclass.constructor.call(this,_10f,_110);}};YAHOO.widget.ContextMenu.prototype=new YAHOO.widget.Menu();YAHOO.widget.ContextMenu.prototype.constructor=YAHOO.widget.ContextMenu;YAHOO.widget.ContextMenu.superclass=YAHOO.widget.Menu.prototype;YAHOO.widget.ContextMenu.prototype.init=function(_111,_112){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.ContextMenuItem;}YAHOO.widget.ContextMenu.superclass.init.call(this,_111);this.beforeInitEvent.fire(YAHOO.widget.ContextMenu);if(_112){this.cfg.applyConfig(_112,true);}this.initEvent.fire(YAHOO.widget.ContextMenu);};YAHOO.widget.ContextMenu.prototype._onDocumentMouseDown=function(_113,_114){var _115=this._oEventUtil.getTarget(_113,true);if(_115!=this._oTargetElement||!this._oDom.isAncestor(this._oTargetElement,_115)){this.hide();}};YAHOO.widget.ContextMenu.prototype._onTriggerClick=function(_116,_117){if(_116.ctrlKey){this._oEventUtil.stopEvent(_116);}};YAHOO.widget.ContextMenu.prototype._onTriggerContextMenu=function(_118,_119){if(_118.type=="mousedown"){if(!_118.ctrlKey){return;}this._oEventUtil.stopEvent(_118);}this.contextEventTarget=this._oEventUtil.getTarget(_118,true);var nX=this._oEventUtil.getPageX(_118),nY=this._oEventUtil.getPageY(_118);this.cfg.applyConfig({x:nX,y:nY,visible:true});this.cfg.fireQueue();this._oEventUtil.preventDefault(_118);};YAHOO.widget.ContextMenu.prototype.contextEventTarget=null;YAHOO.widget.ContextMenu.prototype.initDefaultConfig=function(){YAHOO.widget.ContextMenu.superclass.initDefaultConfig.call(this);this.cfg.addProperty("trigger",{handler:this.configTrigger});};YAHOO.widget.ContextMenu.prototype.configTrigger=function(_11b,_11c,_11d){var _11e=_11c[0];if(_11e){var _11f=(this.browser=="opera");var _120=_11f?"mousedown":"contextmenu";this._oEventUtil.addListener(_11e,_120,this._onTriggerContextMenu,this,true);if(_11f){this._oEventUtil.addListener(_11e,"click",this._onTriggerClick,this,true);}this._oEventUtil.addListener(document,"mousedown",this._onDocumentMouseDown,this,true);}};YAHOO.widget.ContextMenuItem=function(_121,_122){if(_121){YAHOO.widget.ContextMenuItem.superclass.constructor.call(this,_121,_122);}};YAHOO.widget.ContextMenuItem.prototype=new YAHOO.widget.MenuItem();YAHOO.widget.ContextMenuItem.prototype.constructor=YAHOO.widget.ContextMenuItem;YAHOO.widget.ContextMenuItem.superclass=YAHOO.widget.MenuItem.prototype;YAHOO.widget.ContextMenuItem.prototype.init=function(_123,_124){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.ContextMenu;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.ContextMenuItem;}YAHOO.widget.ContextMenuItem.superclass.init.call(this,_123);if(_124){this.cfg.applyConfig(_124,true);}this.cfg.fireQueue();};YAHOO.widget.MenuBar=function(_125,_126){if(arguments.length>0){YAHOO.widget.MenuBar.superclass.constructor.call(this,_125,_126);}};YAHOO.widget.MenuBar.prototype=new YAHOO.widget.MenuModule();YAHOO.widget.MenuBar.prototype.constructor=YAHOO.widget.MenuBar;YAHOO.widget.MenuBar.superclass=YAHOO.widget.MenuModule.prototype;YAHOO.widget.MenuBar.prototype.init=function(_127,_128){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuBarItem;}YAHOO.widget.MenuBar.superclass.init.call(this,_127);this.beforeInitEvent.fire(YAHOO.widget.MenuBar);if(!_128||(_128&&!_128.position)){this.cfg.queueProperty("position","static");}if(!_128||(_128&&!_128.submenualignment)){this.cfg.queueProperty("submenualignment",["tl","bl"]);}if(_128){this.cfg.applyConfig(_128,true);}this.initEvent.fire(YAHOO.widget.MenuBar);};YAHOO.widget.MenuBar.prototype.CSS_CLASS_NAME="yuimenubar";YAHOO.widget.MenuBarItem=function(_129,_12a){if(_129){YAHOO.widget.MenuBarItem.superclass.constructor.call(this,_129,_12a);}};YAHOO.widget.MenuBarItem.prototype=new YAHOO.widget.MenuModuleItem();YAHOO.widget.MenuBarItem.prototype.constructor=YAHOO.widget.MenuBarItem;YAHOO.widget.MenuBarItem.superclass=YAHOO.widget.MenuModuleItem.prototype;YAHOO.widget.MenuBarItem.prototype.init=function(_12b,_12c){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.MenuItem;}YAHOO.widget.MenuBarItem.superclass.init.call(this,_12b);this.keyDownEvent.subscribe(this._onKeyDown,this,true);if(_12c){this.cfg.applyConfig(_12c,true);}this.cfg.fireQueue();};YAHOO.widget.MenuBarItem.prototype.CSS_CLASS_NAME="yuimenubaritem";YAHOO.widget.MenuBarItem.prototype.SUBMENU_INDICATOR_IMAGE_PATH="nt/ic/ut/alt1/menuarodwn8_nrm_1.gif";YAHOO.widget.MenuBarItem.prototype.SELECTED_SUBMENU_INDICATOR_IMAGE_PATH="nt/ic/ut/alt1/menuarodwn8_hov_1.gif";YAHOO.widget.MenuBarItem.prototype.DISABLED_SUBMENU_INDICATOR_IMAGE_PATH="nt/ic/ut/alt1/menuarodwn8_dim_1.gif";YAHOO.widget.MenuBarItem.prototype._onKeyDown=function(_12d,_12e,_12f){var _130=_12e[0];switch(_130.keyCode){case 37:case 39:var _131=this.parent.activeItem;if(this==_131&&!this.cfg.getProperty("selected")){this.cfg.setProperty("selected",true);}else{var _132=(_130.keyCode==37)?this.getPreviousEnabledSibling():this.getNextEnabledSibling();if(_132){this.parent.clearActiveItem();_132.cfg.setProperty("selected",true);_132.focus();}}YAHOO.util.Event.preventDefault(_130);break;case 40:this.parent.clearActiveItem();this.cfg.setProperty("selected",true);this.focus();var _133=this.cfg.getProperty("submenu");if(_133){_133.show();_133.setInitialSelection();}YAHOO.util.Event.preventDefault(_130);break;}};