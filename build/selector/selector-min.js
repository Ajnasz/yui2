(function(){var A=function(){};var B=YAHOO.util;var D={IDENT:"-?[_a-z]+[-\\w]*",BEGIN:"^",END:"$",HYPHEN:"-",OR:"|",S:"\\s*",SP:"\\s+",};var H={SIMPLE:"-\\w_\\[\\]\\.\\|\\*\\'\\(\\)#:^~=$!\"",COMBINATORS:",>+~"};D.CAPTURE_IDENT="("+D.IDENT+")";D.BEGIN_SPACE="(?:"+D.BEGIN+D.OR+D.SP+")";D.END_SPACE="(?:"+D.SP+D.OR+D.END+")";D.SELECTOR="^("+D.CAPTURE_IDENT+"?(["+H.SIMPLE+"]*)?\\s*(["+H.COMBINATORS+"]?)?\\s*).*$";D.SIMPLE="("+D.CAPTURE_IDENT+"?(["+H.SIMPLE+"]*)*)?";A.prototype={selectors:{"id":{pattern:"#"+D.CAPTURE_IDENT,test:function(L,M){return L.id===M;}},"className":{pattern:"\\."+D.CAPTURE_IDENT,test:function(M,L){return G(D.BEGIN_SPACE+L+D.END_SPACE).test(M.className);}},"attribute":{pattern:"\\[([a-z]+\\w*)+([~\\|\\^\\$\\*!=]=?)?\"?([^\\]\"]*)\"?\\]",test:function(M,L,P,N){P=P||"";var O;switch(L){case"class":O=M.className;break;case"for":O=M.htmlFor;break;case"href":O=M.getAttributes("href",2);break;default:O=M[L];}if(O!==""){return B.Selector.operators[P](O,N);}}},"pseudo":{pattern:":"+D.CAPTURE_IDENT+"(?:\\({1}"+D.SIMPLE+"\\){1})*",test:function(L,M,N){return B.Selector.pseudos[M](L,N);}}},operators:{"=":function(L,M){return L===M;},"!=":function(L,M){return L!==M;},"~=":function(L,M){return G(D.BEGIN_SPACE+M+D.END_SPACE).test(L);},"|=":function(L,M){return G(D.BEGIN+M+"[-]?","g").test(L);},"^=":function(L,M){return L.indexOf(M)===0;},"$=":function(L,M){return L.lastIndexOf(M)===L.length-M.length;},"*=":function(L,M){return L.indexOf(M)>-1;},"":function(L,M){return L;}},pseudos:{"root":function(L){return L===L.ownerDocument.documentElement;},"nth-child":function(M,N){var L=B.Selector.combinators[">"](M.parentNode);return L[N-1]===M;},"nth-last-child":function(M,N){var L=B.Selector.combinators[">"](M.parentNode);return L[L.length-N]===M;},"nth-of-type":function(M,N){var L=B.Selector.combinators[">"](M.parentNode,M.tagName);return L[N-1]===M;},"nth-last-of-type":function(M,N){var L=B.Selector.combinators[">"](M.parentNode,M.tagName);return L[L.length-N]===M;},"first-child":function(L){return B.Selector.pseudos["nth-child"](L,1);},"last-child":function(L){return B.Selector.pseudos["nth-last-child"](L,1);},"first-of-type":function(L,M){return B.Selector.pseudos["nth-of-type"](L,1);},"last-of-type":function(L,M){return B.Selector.pseudos["nth-last-of-type"](L,1);},"only-child":function(L){return(!B.Dom.getPreviousSibling(L)&&!B.Dom.getNextSibling(L));},"only-of-type":function(M){var L=B.Selector.combinators[">"](M.parentNode,M.tagName);return(L.length===1);},"empty":function(L){return L.childNodes.length===0;},"not":function(L,M){return !B.Selector.simpleTest(L,M);},"contains":function(L,M){return L.indexOf(M)>-1;}},combinators:{" ":function(M,L){return M.getElementsByTagName(L);},">":function(){if(document.documentElement.children){return function(M,L){L=L||"*".toLowerCase();return M.children.tags(L);};}else{return function(M,L){return B.Dom.getChildrenBy(M,function(N){return(L)?N.tagName.toLowerCase()===L.toLowerCase():true;});};}}(),"+":function(N,L){var M=B.Dom.getNextSiblingBy(N);if(!L){return[M];}else{return((M&&M.tagName.toLowerCase()==L)?[M]:[]);}},"~":function(M,L){var N=[];B.Dom.getNextSiblingBy(M,function(O){if(!O._found&&testNode(O,token.next)){if(O.tagName.toUpperCase()===token.next.tagName.toUpperCase()){markFound(O);N.push(O);}}return false;});return N;}},simpleTest:function(L,N){var M=B.Selector.tokenize(N)[0];if(M.tag!="*"&&L.tagName.toLowerCase()!=M.tag){return false;}var T=B.Selector.selectors;var S=M.predicates;var Q;if(M.predicate){for(var R in S){if(!S[R]){continue;}for(var O=0,P=S[R].length;O<P;++O){Q=[L].concat(S[R][O]);if(!T[R].test.apply(null,Q)){return false;}}}}return true;},tokenize:function(N){var M,R=[];while(N.length&&G(D.SELECTOR).test(N)){M={previous:M,simple:RegExp.$1,tag:RegExp.$2.toLowerCase()||"*",predicate:RegExp.$3,combinator:RegExp.$4,predicates:{}};var T=B.Selector.selectors;var Q;if(M.predicate){var L;for(var S in T){L=M.predicate.match(G(T[S].pattern,"g"));if(L){M.predicates[S]=[];for(var O=0,P=L.length;O<P;++O){Q=new RegExp(T[S].pattern,"g").exec(L[O]);if(Q){Q.shift();M.predicates[S][O]=Q;}}}}}if(M.previous){M.previous.next=M;M.previous.combinator=M.previous.combinator||" ";}R[R.length]=M;N=F(N.substr(M.simple.length));}return R;},simpleFilter:function(N,P){var M=[];for(var O=0,L=N.length;O<L;++O){if(B.Selector.simpleTest(N[O],P)){M[M.length]=N[O];}}return M;},queryAll:function(N,O){O=O||document;var M=B.Selector.tokenize(N);var L;var Q=M.shift();var P=O.getElementsByTagName(Q.tag);console.log(Q);if(!Q.next){L=B.Selector.simpleFilter(P,N);}else{L=J(P,Q);}return L;}};var C=function(M,P,S){var W=[],U=[],L,N=B.Selector.tokens,V=B.Selector.combinators,O,Q;for(var R=0,T=M.length;R<T;++R){O=M[R];if((O._found)||!B.Selector.simpleTest(O,P.simple)){continue;}if(P.next&&P.combinator!==","){L=arguments.callee(V[P.combinator](O,P.next.tag),P.next,S);if(L.length){U=U.concat(L);}}else{if(!O._found){O._found=true;E.push(O);}W.push(O);}}return(W.length)?W:U;};var J=function(O,P,N,M){var L=C(O,P,M);if(P.next&&P.combinator&&P.combinator===","){var Q=arguments.callee(N.getElementsByTagName(P.next.tagName),P.next,N,M);if(Q.length){L=L.concat(Q);}}K();return L;};var E=[];var I={};var K=function(){for(var M=0,L=E.length;M<L;++M){delete E[M]._found;}E=[];};var G=function(N,L){L=L||"";var M=I[N];if(!M){M=new RegExp(N,L);I[N]=M;}return M;};var F=function(L){return L.replace(G(D.BEGIN+D.SP+D.OR+D.SP+D.END,"g"),"");};B.Selector=new A();})();YAHOO.register("selector",YAHOO.util.Selector,{version:"@VERSION@",build:"@BUILD@"});