<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Logger Widget :: Writing Logs</title>
<link rel="stylesheet" href="../../build/reset/reset.css" type="text/css" />
<link rel="stylesheet" href="../../build/fonts/fonts.css" type="text/css"  />
<link rel="stylesheet" href="../../build/logger/assets/logger.css" type="text/css" />
<link rel="stylesheet" href="./css/examples.css" type="text/css" />
</head>

<body>
<div id="hd">
    <div id="ylogo"><img src="./img/logo.gif" width="65" height="38" alt="Y!" /></div>
    <div id="title"><h1><a href="./index.html">Logger Widget</a> :: Writing Logs</h1></div>
</div>

<div id="bd">
    <!-- Logger begins -->
    <div id="mylogger"></div>
    <!-- Logger ends -->
    
    <!-- Content begins -->
    <div id="content">
        <h3>Writing Log Messages From Your Code</h3>
        <p>In this example, we instanatiate a simple LogReader to display log
        messages. We use the global method YAHOO.log() to write simple messages,
        and we also instantiate a LogWriter instance to write messages that are
        assigned to custom-named class.</p>

        <p><input id="ylog_inputinfo" class="ylog_input" type="text" value="Log an info message.">
            <button id="btn_loginfo">Log this message</button></p>
        <p><input id="ylog_inputwarn" class="ylog_input" type="text" value="Log a warning.">
            <button id="btn_logwarn">Log this message</button></p>
        <p><input id="ylog_inputerror" class="ylog_input" type="text" value="Log an error.">
            <button id="btn_logerror">Log this message</button></p>
        <p><input id="ylog_inputtime" class="ylog_input" type="text" value="Log a timing message.">
            <button id="btn_logtime">Log this message</button></p>
        <p><input id="ylog_inputwindow" class="ylog_input" type="text" value="Log a window error.">
            <button onclick="someUndefinedFunction();">Log this message</button></p>
        <p><input id="ylog_inputcustommsg" class="ylog_input" type="text" value="Log a custom type message.">
            <input id="ylog_inputcustomtype" type="text" value="myCategory">
            <button id="btn_logcustom">Log this message with this category</button></p>

        <p><input id="ylog_inputname" class="ylog_input" type="text" value="CustomWriter">
            <button id="btn_logname">Generate some messages from a named writer</button></p>

        <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Mauris erat.
        Sed eu enim in neque nonummy suscipit. Sed non metus. Aliquam pretium, massa
        quis vulputate aliquam, felis enim vehicula nisl, ut pharetra arcu nunc
        vitae leo. Morbi rhoncus ullamcorper quam. Maecenas vel velit. Praesent
        ultricies placerat mauris. Nunc posuere aliquam ligula. Nunc mi ligula,
        rutrum eget, consequat ac, cursus non, tortor. Pellentesque ante metus,
        mattis pharetra, lobortis in, pulvinar nec, felis. Cras fringilla. Cras
        consequat. Nullam faucibus. Vivamus tincidunt porttitor leo. Etiam est mi,
        dictum nec, vehicula id, ultricies ac, nibh. Mauris felis.</p>

        <p>Nulla sit amet mi eu lacus tempus volutpat. Phasellus tincidunt hendrerit
        quam. Maecenas lorem felis, viverra non, varius ut, ultrices et, mi.
        Phasellus vehicula nunc eu tellus. Duis rutrum justo eu odio. Ut facilisis
        nisl at purus. Maecenas turpis neque, adipiscing in, fringilla vitae, congue
        sed, ipsum. Sed condimentum eros eu leo dignissim ultricies. Pellentesque
        eros nulla, tempus ut, gravida at, vulputate at, metus. Maecenas enim metus,
        suscipit eget, commodo vel, euismod ac, leo. Curabitur id nulla. Phasellus
        euismod mi ut enim. Ut molestie bibendum odio.</p>
    </div>
    <!-- Content ends -->
    
<!-- Libary begins -->
<script src="../../build/yahoo/yahoo.js"></script>
<script src="../../build/dom/dom.js"></script>
<script src="../../build/event/event.js"></script>
<script src="../../build/dragdrop/dragdrop.js"></script>
<script src="../../build/logger/logger.js"></script>
<!-- Library ends -->

<script>
YAHOO.example.LogWriter = function() {
    var myLogReader;
    var myLogWriter;

    return {
        init: function() {
            // Instantiate a logreader and a logwriter
            myLogReader = new YAHOO.widget.LogReader();
            myLogWriter = new YAHOO.widget.LogWriter("myWriter");

            // You can call the global function YAHOO.log() anytime, anywhere
            YAHOO.log("Yahoo! is great"); // defaults to type "info"
            YAHOO.log("Here is a warning", "warn");
            YAHOO.log("Some error has occurred", "error");
            YAHOO.log("Use timers to profile your code", "time");
            YAHOO.log("Let's make up a custom category!", "foobar"); // custom

            // Define interesting moments that cause log messages to be written
            var oSelf = YAHOO.example.LogWriter;
            YAHOO.util.Event.addListener(document.getElementById('btn_loginfo'),'click',oSelf.onLogInfoClick);
            YAHOO.util.Event.addListener(document.getElementById('btn_logwarn'),'click',oSelf.onLogWarnClick);
            YAHOO.util.Event.addListener(document.getElementById('btn_logerror'),'click',oSelf.onLogErrorClick);
            YAHOO.util.Event.addListener(document.getElementById('btn_logtime'),'click',oSelf.onLogTimeClick);
            YAHOO.util.Event.addListener(document.getElementById('btn_logcustom'),'click',oSelf.onLogCustomClick);
            YAHOO.util.Event.addListener(document.getElementById('btn_logname'),'click',oSelf.onNameWriterClick);
        },

        hideAllReaders: function() {
            myLogReader.hide();
        },

        showAllReaders: function() {
            myLogReader.show();
        },

        createNewLogWriter: function(name) {
            // You can instantiate your own named logwriter and use it to write log messages
            var newWriter = new YAHOO.widget.LogWriter(name);
            newWriter.log("Doing great!"); // defaults to type "info"
            newWriter.log("Giving a warning", "warn");
            newWriter.log("Throwing an error", "error");
            newWriter.log("Timing some code", "time");
            newWriter.log("Need custom category", name+"error");
        },

        onNameWriterClick: function() {
            YAHOO.example.LogWriter.createNewLogWriter(document.getElementById('ylog_inputname').value);
        },

        onLogInfoClick: function() {
            myLogWriter.log(document.getElementById('ylog_inputinfo').value,'info');
        },

        onLogWarnClick: function() {
            myLogWriter.log(document.getElementById('ylog_inputwarn').value,'warn');
        },

        onLogErrorClick: function() {
            myLogWriter.log(document.getElementById('ylog_inputerror').value,'error');
        },

        onLogTimeClick: function() {
            myLogWriter.log(document.getElementById('ylog_inputtime').value,'time');
        },

        onLogCustomClick: function() {
            myLogWriter.log(document.getElementById('ylog_inputcustommsg').value,document.getElementById('ylog_inputcustomtype').value);
        }
    };
}();

YAHOO.util.Event.addListener(this,'load',YAHOO.example.LogWriter.init);
</script>
</div>
</body>
</html>
