<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>YAHOO.widget.FormDialog</title>

<script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/utils/2/yahoo_2.0.0-b3.js" ></script>
<script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/utils/2/event_2.0.0-b3.js" ></script>
<script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/utils/2/dom_2.0.2-b3.js" ></script>
<script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/utils/2/dragdrop_2.0.0-b3.js" ></script>
<script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/utils/2/animation_2.0.0-b3.js" ></script>
<script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/utils/2/connection_2.0.0-b2.js" ></script>

<link rel="stylesheet" type="text/css" href="http://us.js2.yimg.com/us.js.yimg.com/lib/common/fonts_0.9.0.css" />
<link rel="stylesheet" type="text/css" href="css/example.css" />

<link rel="stylesheet" type="text/css" href="../build/css/container.css" />
<script type="text/javascript" src="../build/js/container.js"></script>

<style>
#resp {
	font-family:courier;
	font-size:12px;
	margin-top:0px;
}

.box label {
	float:none;
}

.radioline {
	width:100%;
	clear:both;
}

.radioline.first {
	margin-top:10px;
}

.radioline.last {
	margin-bottom:10px;
}
</style>

<script language="javascript">
	var dlg;
	var data;

	function handleOK(e, obj) {
		obj.submit();
	}

	function handleCancel(e, obj) {
		obj.cancel();
	}

	function submitCallback(obj) {
		var response = obj.responseText;
		eval(response);
		document.getElementById("resp").innerHTML = response;
	}

	function init() {
		var handleEsc = function(type, args, obj) {
			this.cancel();
		}
		var handleEnter = function(type, args, obj) {
			this.submit();
		}
		

		dlg = new YAHOO.widget.FormDialog("dlg", { width:"350px", fixedcenter:true });
		
		var listeners = [new YAHOO.util.KeyListener(document, { keys : 27 }, {fn:handleEsc,scope:dlg,correctScope:true} ),
						 new YAHOO.util.KeyListener(document, { keys : 13 }, {fn:handleEnter,scope:dlg,correctScope:true} )];

		dlg.cfg.setProperty("keyListeners", listeners);

		dlg.cfg.setProperty("buttons", dlg.BUTTONS_SUBMITCANCEL);
		dlg.cfg.setProperty("onsuccess", submitCallback);
		
		var handleManual = function(type, args, obj) {
			alert("Manual submission of " + this.id + " detected");
		}

		dlg.manualSubmitEvent.subscribe(handleManual, dlg, true);
		dlg.render();
	}

	YAHOO.util.Event.addListener(window, "load", init);

</script>
</head>
<body>
	<div class="homeLink">
		<a href="index.html">&lt; Home</a>
	</div>

	<div class="box">
		<div class="hd">
			<h1>FormDialog Example</h1>
		</div>
		<div class="bd">
			<p>FormDialog is a Panel implementation that behaves similarly to Dialog, but is used for submitting forms. You can submit the form in three different ways: asynchronously, using the Connection utility, form-based submission, or you can handle the submission manually.</p>

			<p>The URLs for both asynchronous and form-based submission are taken from the form's action property.</p>

			<p><button onclick="dlg.show()">Enter your information</button>
				<div class="radioline first"><input type="radio" name="async" id="asyncon" checked onclick="dlg.cfg.setProperty('postmethod','async')"/><label for="asyncon">Submit asynchronously (Dynamic XmlHttpRequest, POST only)</label></div>
				<div class="radioline"><input type="radio" name="async" id="asyncoff" onclick="dlg.cfg.setProperty('postmethod','form')" /><label for="asyncoff">Standard form submit (GET or POST)</label></div>
				<div class="radioline last"><input type="radio" name="async" id="asyncoff" onclick="dlg.cfg.setProperty('postmethod','none')" /><label for="asyncoff">Do nothing and handle posts manually</label></div>
			<select>
				<option>This is a &lt;select&gt; element, helpul for testing the IFRAME shim</option>
			</select>
			</p>
		</div>
		<div class="ft"></div>
	</div>

	<div class="box" style="margin-top:25px">
		<div class="hd">
			<h2>Server Response</h1>
		</div>
		
		<div class="bd">
			<h3>Post Response Text</h2>
			<p id="resp">[ Server Response will be displayed here ]</p>
		</div>
	</div>

	<div id="dlg">
		<div class="hd">Please enter your information</div>
		<div class="bd">
			<form name="dlgForm" method="POST" action="php/post.php">
			<p>Please enter your personal contact information:</p>
					<label for="firstname">First Name:</label><input type="textbox" name="firstname" /><br/>
					<label for="lastname">Last Name:</label><input type="textbox" name="lastname" /><br/>
					<label for="email">E-mail:</label><input type="textbox" name="email" /><br/> 
					<label for="state[]">State:</label><select multiple name="state[]" ><option value="California">California</option><option value="New Jersey">New Jersey</option><option value="New York">New York</option></select><br/> 

					<label for="radiobuttons">Radio buttons:</label>
					<input type="radio" name="radiobuttons[]" value="1" checked/> 1
					<input type="radio" name="radiobuttons[]" value="2" /> 2<br/>

					<label for="check">Single checkbox:</label><input type="checkbox" name="check" value="1" /> 1<br/>
					
					<label for="textarea">Text area:</label><textarea name="textarea"></textarea><br/>

					<label for="cbarray">Multi checkbox:</label>
					<input type="checkbox" name="cbarray[]" value="1" /> 1
					<input type="checkbox" name="cbarray[]" value="2" /> 2
				</div>
			</form>
		</div>
	</div>



</body>
</html>
