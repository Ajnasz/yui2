<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Context Menu Example</title>

        <!-- Stanard fonts -->
        <link rel="stylesheet" type="text/css" href="http://us.js2.yimg.com/us.js.yimg.com/lib/common/css/fonts_2.0.0-b2.css">

        <!-- CSS for the menu -->
        <link rel="stylesheet" type="text/css" href="http://us.js2.yimg.com/us.js.yimg.com/lib/common/widgets/2/menu/css/menu_2.0.1-b2.css">

        <style type="text/css">

            #contextmenu {
    
                z-index:1;

            }

        </style>

        <!-- Namespace source file -->
        <script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/utils/2/yahoo_2.0.0-b2.js"></script>
        
        <!-- Dependency source files -->
        <script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/utils/2/dom_2.0.0-b2.js"></script>
        <script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/utils/2/event_2.0.0-b2.js"></script>
        <script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/widgets/2/container/container_core_2.0.0-b2.js"></script>
        
        <!-- Menu source file -->
        <script type="text/javascript" src="http://us.js2.yimg.com/us.js.yimg.com/lib/common/widgets/2/menu/menu_2.0.1-b2.js"></script>

        <script type="text/javascript">

            function CreatePageContextMenu() {

                var oContextMenu = new YAHOO.widget.Menu("contextmenu");


                // Create four logical grouping containers for the context menu

                oContextMenu.addSubmenu(new YAHOO.widget.Menu("group0"));
                oContextMenu.addSubmenu(new YAHOO.widget.Menu("group1"));
                oContextMenu.addSubmenu(new YAHOO.widget.Menu("group2"));
                oContextMenu.addSubmenu(new YAHOO.widget.Menu("group3"));


                // Add MenuItem instances to the first group

                oContextMenu.getSubmenu(0).addMenuItem(
                    new YAHOO.widget.MenuItem("Back")
                );

                oContextMenu.getSubmenu(0).addMenuItem(
                    new YAHOO.widget.MenuItem("Forward", { disabled:true })
                );


                oContextMenu.getSubmenu(0).addMenuItem(
                    new YAHOO.widget.MenuItem("Reload")
                );

                oContextMenu.getSubmenu(0).addMenuItem(
                    new YAHOO.widget.MenuItem("Stop", { disabled:true })
                );


                // Add MenuItem instances to the second group

                oContextMenu.getSubmenu(1).addMenuItem(
                    new YAHOO.widget.MenuItem("Bookmark This Page...")
                );

                oContextMenu.getSubmenu(1).addMenuItem(
                    new YAHOO.widget.MenuItem("Save Page As...")
                );

                oContextMenu.getSubmenu(1).addMenuItem(
                    new YAHOO.widget.MenuItem("Send Link...")
                );


                // Add MenuItem instances to the third group

                oContextMenu.getSubmenu(2).addMenuItem(
                    new YAHOO.widget.MenuItem(
                        "View Background Image", 
                        { disabled:true }
                    )
                );

                oContextMenu.getSubmenu(2).addMenuItem(
                    new YAHOO.widget.MenuItem("Select All")
                );


                // Add MenuItem instances to the fourth group

                oContextMenu.getSubmenu(3).addMenuItem(
                    new YAHOO.widget.MenuItem("View Page Source")
                );

                oContextMenu.getSubmenu(3).addMenuItem(
                    new YAHOO.widget.MenuItem("View Page Info")
                );


                oContextMenu.render(document.body);

            }


            function onDocumentClick(p_oEvent) {

                YAHOO.widget.MenuManager.hideVisibleMenus();

            }


            function onDocumentContextMenu(p_oEvent) {

                /*
                    Hide any other menus that might be visible for displaying
                    the context menu
                */
                YAHOO.widget.MenuManager.hideVisibleMenus();


                // Prevent the browser's default context menu from appearing
                YAHOO.util.Event.preventDefault(p_oEvent);

                var nX = YAHOO.util.Event.getPageX(p_oEvent),
                    nY = YAHOO.util.Event.getPageY(p_oEvent),
                    oContextMenu = 
                    YAHOO.widget.MenuManager.getMenu("contextmenu");


                // Position and display the context menu
                oContextMenu.cfg.applyConfig( { x:nX, y:nY, visible:true } );

            }
           

            function onWindowLoad(p_oEvent) {

                CreatePageContextMenu();

                YAHOO.util.Event.addListener(
                    document, 
                    "contextmenu", 
                    onDocumentContextMenu
                );

                YAHOO.util.Event.addListener(
                    document, 
                    "click", 
                    onDocumentClick
                );

            }


            YAHOO.util.Event.addListener(window, "load", onWindowLoad);
            
        </script>
    </head>
    <body>
        <h1>Context Menu Example</h1>
        <p>Right-click, or control-click on the page to see the context menu.</p>
    </body>
</html>
