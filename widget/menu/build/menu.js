YAHOO.widget.MenuManager=function(){var _1={},m_oVisibleMenus={},m_nMenuIds=0,m_sMenuIdBase="yuimenu";this.activeMenu=null;var me=this;function addItem(_3,_4){_3[_4.id]=_4;}function removeItem(_5,_6){if(_6){if(_6._Menu){oItem=removeItemByValue(_5,_6);}if(typeof _6=="string"){oItem=removeItemByKey(_5,_6);}if(oItem&&oItem===me.activeMenu){me.activeMenu=null;}}}function removeItemByKey(_7,_8){var _9=null;if(_7[_8]){_9=_7[_8];delete _7[_8];}return _9;}function removeItemByValue(_a,_b){var _c=null;for(var i in _a){if(_a[i]==_b){_c=_a[i];delete _a[i];break;}}return _c;}function onMenuShow(_e,_f,_10){if(_10){addItem(m_oVisibleMenus,_10);}}function onMenuHide(_11,_12,_13){removeItem(m_oVisibleMenus,_13);}function onMenuConfigVisible(_14,_15,_16){var _17=_15[0];if(_17){addItem(m_oVisibleMenus,_16);}else{removeItem(m_oVisibleMenus,_16);}}return {createMenuId:function(){var _18=(m_sMenuIdBase+(m_nMenuIds++));return _18;},addMenu:function(_19){if(_19){addItem(_1,_19);_19.showEvent.subscribe(onMenuShow,_19);_19.hideEvent.subscribe(onMenuHide,_19);_19.cfg.subscribeToConfigEvent("visible",onMenuConfigVisible,_19);}},removeMenu:function(_1a){removeItem(_1,_1a);removeItem(m_oVisibleMenus,_1a);},hideVisibleMenus:function(){for(var i in m_oVisibleMenus){m_oVisibleMenus[i].hide();}m_oVisibleMenus={};},getMenus:function(){return _1;},getMenu:function(_1c){if(_1c&&_1[_1c]){return _1[_1c];}},getVisibleMenus:function(){return m_oVisibleMenus;}};}();YAHOO.widget.Menu=function(_1d,_1e){if(arguments.length>0){YAHOO.widget.Menu.superclass.constructor.call(this,_1d,_1e);}};YAHOO.widget.Menu.prototype=new YAHOO.widget.Overlay();YAHOO.widget.Menu.prototype.constructor=YAHOO.widget.Menu;YAHOO.widget.Menu.superclass=YAHOO.widget.Overlay.prototype;YAHOO.widget.Menu.prototype.CSS_CLASS_NAME="yuimenu";YAHOO.widget.Menu.prototype._Menu=true;YAHOO.widget.Menu.prototype.index=null;YAHOO.widget.Menu.prototype.parent=null;YAHOO.widget.Menu.prototype.srcElement=null;YAHOO.widget.Menu.prototype.init=function(_1f,_20){this.SUBMENU_TYPE=YAHOO.widget.Menu;this.MENUITEM_TYPE=YAHOO.widget.MenuItem;var _21=[],m_aSubmenus=[],m_oListElement,m_oCurrentMenuItemLI,m_oCurrentMenuDIV,m_oEventUtil=YAHOO.util.Event,m_oMenuManager=YAHOO.widget.MenuManager,m_oDom=YAHOO.util.Dom,m_sUserAgent=navigator.userAgent.toLowerCase(),m_sBrowser=function(){var _22=navigator.userAgent.toLowerCase();if(_22.indexOf("opera")!=-1){return "opera";}else{if(_22.indexOf("msie")!=-1){return "ie";}else{if(_22.indexOf("safari")!=-1){return "safari";}else{if(_22.indexOf("gecko")!=-1){return "gecko";}else{return false;}}}}}(),m_oActiveMenuItem,me=this;function checkString(_23){return (typeof _23=="string");}function checkPosition(_24){if(checkString(_24)){var _25=_24.toLowerCase();return ("absolute,relative,static".indexOf(_25)!=-1);}}function addArrayItem(_26,_27,_28){if(typeof _28=="number"){_26.splice(_28,0,_27);_27.parent=me;updateArrayItemProperties(_26);}else{var _29=_26.length;_26[_29]=_27;_27.index=_29;_27.element.setAttribute("index",_29);_27.parent=me;if(_29===0){m_oDom.addClass(_27.element,"first");}}}function removeArrayItemByIndex(_2a,_2b){var _2c=_2a.splice(_2b,1);updateArrayItemProperties(_2a);return _2c[0];}function removeArrayItemByValue(_2d,_2e){var _2f=-1,i=_2d.length-1;do{if(_2d[i]==_2e){_2f=i;break;}}while(i--);if(_2f>-1){return removeArrayItemByIndex(_2d,_2f);}}function updateArrayItemProperties(_30){var i=_30.length-1;do{_30[i].index=i;_30[i].element.setAttribute("index",i);switch(i){case 0:m_oDom.addClass(_30[i].element,"first");break;default:m_oDom.removeClass(_30[i].element,"first");break;}}while(i--);}function initSubTree(_32){var _33,Menu=me.SUBMENU_TYPE,MenuItem=me.MENUITEM_TYPE;for(var i=0;(_33=_32[i]);i++){switch(_33.tagName){case "LI":case "OPTGROUP":case "OPTION":me.addMenuItem((new MenuItem(_33,{initsubmenus:(me.cfg.getProperty("initsubmenus"))})));break;case "UL":if(_33.parentNode&&_33.parentNode.parentNode&&_33.parentNode.parentNode.tagName=="DIV"&&m_oDom.hasClass(_33.parentNode.parentNode,"yuimenu")){var oLI;for(var n=0;(oLI=_33.childNodes[n]);n++){if(oLI.nodeType==1){me.addMenuItem((new MenuItem(oLI,{initsubmenus:(me.cfg.getProperty("initsubmenus"))})));}}}else{me.addSubmenu((new Menu(_33,{initsubmenus:(me.cfg.getProperty("initsubmenus"))})));}break;case "DIV":if(_33.parentNode&&_33.parentNode.tagName=="DIV"&&m_oDom.hasClass(_33.parentNode,"yuimenu")&&m_oDom.hasClass(_33,"bd")){return initSubTree(_33.childNodes);}else{me.addSubmenu((new Menu(_33,{initsubmenus:(me.cfg.getProperty("initsubmenus"))})));}break;}}}function onElementMouseOver(_37,_38){if(!me.parent||me.parent._MenuItem){m_oEventUtil.stopPropagation(_37);}var _39=m_oEventUtil.getTarget(_37,true);if(!m_oCurrentMenuDIV&&_39==this.element){m_oCurrentMenuDIV=this.element;me.mouseOverEvent.fire(_37);}if(!m_oCurrentMenuItemLI){var _3a=_39;do{if(_3a&&_3a.tagName=="LI"&&_3a.parentNode.parentNode.parentNode==me.element){m_oCurrentMenuItemLI=_3a;var _3b=parseInt(_3a.getAttribute("index"),10),oMenuItem=_21[_3b];if(oMenuItem&&!oMenuItem.cfg.getProperty("disabled")){oMenuItem.mouseDownEvent.fire(_37);var _3c=oMenuItem.parent.getActiveMenuItem();if(_3c&&_3c!=oMenuItem){if(_3c.cfg.getProperty("selected")){_3c.cfg.setProperty("selected",false);}var _3d=_3c.cfg.getProperty("submenu");if(_3d){_3d.hide();}}oMenuItem.cfg.setProperty("selected",true);oMenuItem.focus();onMenuItemLIMouseOver(oMenuItem);}break;}_3a=_3a.parentNode;}while(_3a);}}function onElementMouseOut(_3e,_3f){if(!me.parent||me.parent._MenuItem){m_oEventUtil.stopPropagation(_3e);}var _40=m_oEventUtil.getRelatedTarget(_3e),bLIMouseOut=true,bDIVMouseOut=true;if((m_oCurrentMenuItemLI||m_oCurrentMenuDIV)&&_40){var _41=_40;do{if(_41==m_oCurrentMenuItemLI&&_41.parentNode.parentNode.parentNode==me.element){bLIMouseOut=false;}if(_41==m_oCurrentMenuDIV){bDIVMouseOut=false;break;}_41=_41.parentNode;}while(_41);}if(m_oCurrentMenuItemLI&&bLIMouseOut){var _42=parseInt(m_oCurrentMenuItemLI.getAttribute("index"),10),oMenuItem=_21[_42];if(oMenuItem&&!oMenuItem.cfg.getProperty("disabled")){oMenuItem.mouseOutEvent.fire(_3e);oMenuItem.cfg.setProperty("selected",false);onMenuItemLIMouseOut(oMenuItem);}m_oCurrentMenuItemLI=null;}if(m_oCurrentMenuDIV&&bDIVMouseOut){me.mouseOutEvent.fire(_3e);m_oCurrentMenuDIV=null;}}function onElementMouseDown(_43,_44){if(!me.parent||me.parent._MenuItem){m_oEventUtil.stopPropagation(_43);}var _45=m_oEventUtil.getTarget(_43,true),oNode=_45;do{if(oNode&&oNode.tagName=="LI"&&oNode.parentNode.parentNode.parentNode==me.element){var _46=parseInt(oNode.getAttribute("index"),10),oMenuItem=_21[_46];if(oMenuItem&&!oMenuItem.cfg.getProperty("disabled")){oMenuItem.mouseDownEvent.fire(_43);}break;}oNode=oNode.parentNode;}while(oNode);me.mouseDownEvent.fire(_43);}function onElementMouseUp(_47,_48){if(!me.parent||me.parent._MenuItem){m_oEventUtil.stopPropagation(_47);}var _49=m_oEventUtil.getTarget(_47,true),oNode=_49;do{if(oNode&&oNode.tagName=="LI"&&oNode.parentNode.parentNode.parentNode==me.element){var _4a=parseInt(oNode.getAttribute("index"),10),oMenuItem=_21[_4a];if(oMenuItem&&!oMenuItem.cfg.getProperty("disabled")){oMenuItem.mouseUpEvent.fire(_47);}break;}oNode=oNode.parentNode;}while(oNode);me.mouseUpEvent.fire(_47);}function onElementClick(_4b,_4c){var _4d=m_oEventUtil.getTarget(_4b,true);if((!this.parent||this.parent._MenuItem)&&(_4d.tagName!="A"||(_4d.tagName=="A"&&_4d.getAttribute("href")=="#"))){m_oEventUtil.stopPropagation(_4b);}var _4e=_4d;do{if(_4e&&_4e.tagName=="LI"&&_4e.parentNode.parentNode.parentNode==me.element){var _4f=parseInt(_4e.getAttribute("index"),10),oMenuItem=_21[_4f];if(oMenuItem&&!oMenuItem.cfg.getProperty("disabled")){oMenuItem.clickEvent.fire(_4b);var _50=oMenuItem.cfg.getProperty("url");if(_4d.tagName=="A"){if(_50&&_50!="#"){return true;}else{m_oEventUtil.preventDefault(_4b);return false;}}else{var _51=oMenuItem.cfg.getProperty("submenu");if(_4d==oMenuItem.subMenuIndicator&&_51){if(_51.cfg.getProperty("visible")){oMenuItem.hideSubmenu();oMenuItem.focus();}else{oMenuItem.cfg.setProperty("selected",true);oMenuItem.showSubmenu();_51.setInitialSelection();_51.setInitialFocus();}}else{if(_50&&_50!="#"){document.location=_50;}}}}break;}_4e=_4e.parentNode;}while(_4e);me.clickEvent.fire(_4b);}function onElementKeyDown(_52,_53){if(!me.parent||me.parent._MenuItem){m_oEventUtil.stopPropagation(_52);}var _54=m_oEventUtil.getTarget(_52,true);if(_54.tagName=="A"&&_54.parentNode.parentNode.parentNode.parentNode==me.element){var _55=parseInt(_54.parentNode.getAttribute("index"),10),oMenuItem=_21[_55];if(oMenuItem&&!oMenuItem.cfg.getProperty("disabled")){oMenuItem.keyDownEvent.fire(_52);onMenuItemAnchorKeyDown(_52,oMenuItem);}}me.keyDownEvent.fire(_52);}function onElementKeyUp(_56,_57){if(!me.parent||me.parent._MenuItem){m_oEventUtil.stopPropagation(_56);}var _58=m_oEventUtil.getTarget(_56,true);if(_58.tagName=="A"&&_58.parentNode.parentNode.parentNode.parentNode==me.element){var _59=parseInt(_58.parentNode.getAttribute("index"),10),oMenuItem=_21[_59];if(oMenuItem&&!oMenuItem.cfg.getProperty("disabled")){oMenuItem.keyUpEvent.fire(_56);}}me.keyUpEvent.fire(_56);}function onElementKeyPress(_5a,_5b){if(!me.parent||me.parent._MenuItem){m_oEventUtil.stopPropagation(_5a);}var _5c=m_oEventUtil.getTarget(_5a,true);if(_5c.tagName=="A"&&_5c.parentNode.parentNode.parentNode.parentNode==me.element){var _5d=parseInt(_5c.parentNode.getAttribute("index"),10),oMenuItem=_21[_5d];if(oMenuItem&&!oMenuItem.cfg.getProperty("disabled")){oMenuItem.keyPressEvent.fire(_5a);}}me.keyPressEvent.fire(_5a);}function onMenuItemLIMouseOver(_5e){var _5f=_5e.cfg.getProperty("submenu");if(_5f){_5e.showSubmenu();}}function onMenuItemLIMouseOut(_60){var _61=_60.cfg.getProperty("submenu");if(_61){_61.hide();}}function onMenuItemAnchorKeyDown(_62,_63){switch(_62.keyCode){case 38:var _64=_63.parent.getActiveMenuItem();if(_63==_64&&!_63.cfg.getProperty("selected")){_63.cfg.setProperty("selected",true);}else{var _65=_63.getPreviousEnabledSibling();if(_65){var _66=_63.cfg.getProperty("submenu");if(_66){_66.hide();}_63.cfg.setProperty("selected",false);_65.cfg.setProperty("selected",true);_65.focus();}}break;case 9:case 40:var _64=_63.parent.getActiveMenuItem();if(_63==_64&&!_63.cfg.getProperty("selected")){_63.cfg.setProperty("selected",true);}else{var _65;if(_62.shiftKey){_65=_63.getPreviousEnabledSibling();}else{_65=_63.getNextEnabledSibling();}if(_65){var _66=_63.cfg.getProperty("submenu");if(_66){_66.hide();}_63.cfg.setProperty("selected",false);_65.cfg.setProperty("selected",true);_65.focus();}}break;case 39:var _66=_63.cfg.getProperty("submenu");if(_66){_63.showSubmenu();_66.setInitialSelection();_66.setInitialFocus();}break;case 37:case 27:var _67=_63.parent;if(_67.parent&&_67.parent._Menu){_67=_67.parent;}if(_67.cfg.getProperty("position")=="absolute"){_67.hide();}var _68=_67.parent;if(_68){_68.focus();}break;}}function onMenuItemFocus(_69,_6a,_6b){me.setActiveMenuItem(_6b);}function onMenuItemBlur(_6c,_6d,_6e){var _6f=_6e.cfg.getProperty("submenu");if(!_6f||(_6f&&!_6f.cfg.getProperty("visible"))){me.setActiveMenuItem(null);}}function onMenuItemConfigChange(_70,_71,_72){var _73=_71[0][0];switch(_73){case "text":case "helptext":me.cfg.refireEvent("width");break;}}this.addMenuItem=function(_74,_75){if(_74&&_74._MenuItem){_74.focusEvent.subscribe(onMenuItemFocus,_74);_74.blurEvent.subscribe(onMenuItemBlur,_74);_74.cfg.configChangedEvent.subscribe(onMenuItemConfigChange,_74);addArrayItem(_21,_74,_75);}};this.removeMenuItem=function(_76){if(typeof _76!="undefined"){var _77;if(_76._MenuItem){_77=removeArrayItemByValue(_21,_76);}else{if(typeof _76=="number"){_77=removeArrayItemByIndex(_21,_76);}}if(_77){_77.destroy();return _77;}}};this.getMenuItems=function(){return _21;};this.getMenuItem=function(_78){if(typeof _78=="number"){return _21[_78];}};this.addSubmenu=function(_79,_7a){if(_79&&_79._Menu&&((!this.parent||(this.parent&&this.parent._MenuItem))&&(_79.getSubmenus().length===0))){m_oDom.addClass(_79.element,"yuimenuddmenu");_79.cfg.setProperty("iframe",false);addArrayItem(m_aSubmenus,_79,_7a);this.cfg.refireEvent("constraintoviewport");}};this.removeSubmenu=function(_7b){if(typeof _7b!="undefined"){var _7c;if(_7b._Menu){_7c=removeArrayItemByValue(m_aSubmenus,_7b);}else{if(typeof _7b=="number"){_7c=removeArrayItemByIndex(m_aSubmenus,_7b);}}if(_7c){_7c.destroy();return _7c;}}};this.getSubmenus=function(){return m_aSubmenus;};this.getSubmenu=function(_7d){if(typeof _7d=="number"){return m_aSubmenus[_7d];}};this.renderMenuItems=function(){if(_21.length>0){var _7e=_21.length,i=0;do{m_oListElement.appendChild(_21[i].element);i++;}while(i<_7e);if(m_sBrowser=="opera"){var oUL=m_oListElement.cloneNode(true),oDIV=document.createElement("div"),oBody=oDIV.cloneNode(false);oDIV.className=this.CSS_CLASS_NAME;oBody.className="bd";oBody.appendChild(oUL);oDIV.appendChild(oBody);document.body.appendChild(oDIV);var _80=oUL.offsetWidth+"px";m_oListElement.style.width=_80;document.body.removeChild(oDIV);}i=_21.length-1;var _81;do{_81=_21[i].cfg.getProperty("submenu");if(_81){_81.render(_21[i].element);}}while(i--);}};this.renderSubmenus=function(){if(m_aSubmenus.length>0){var _82=m_aSubmenus.length;for(var i=0;i<_82;i++){this.appendToBody(m_aSubmenus[i].element);m_aSubmenus[i].render(this.body);}}};this.render=function(_84,_85){if(_21.length>0&&!m_oListElement){var oUL=document.createElement("ul");this.setBody(oUL);m_oListElement=oUL;}if(this.srcElement&&this.srcElement.tagName!="DIV"){if(_85){this.srcElement.style.display="none";}else{var _87=this.srcElement.parentNode;_87.removeChild(this.srcElement);}}this.renderMenuItems();this.renderSubmenus();YAHOO.widget.Menu.superclass.render.call(this,_84);};this.destroy=function(){m_oEventUtil.addListener(this.element,"mouseover",onElementMouseOver);m_oEventUtil.addListener(this.element,"mouseout",onElementMouseOut);m_oEventUtil.addListener(this.element,"mousedown",onElementMouseDown);m_oEventUtil.addListener(this.element,"mouseup",onElementMouseUp);m_oEventUtil.addListener(this.element,"click",onElementClick);m_oEventUtil.addListener(this.element,"keydown",onElementKeyDown);m_oEventUtil.addListener(this.element,"keyup",onElementKeyUp);m_oEventUtil.addListener(this.element,"keypress",onElementKeyPress);this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();this.beforeMoveEvent.unsubscribeAll();if(_21.length>0){var i=_21.length-1;do{_21[i].destroy();}while(i--);}if(m_aSubmenus.length>0){var i=m_aSubmenus.length-1;do{m_aSubmenus[i].destroy();}while(i--);}YAHOO.widget.Menu.superclass.destroy.call(this);};this.enforceConstraints=function(_89,_8a,obj){var pos=_8a[0];var bod=document.getElementsByTagName("body")[0];var htm=document.getElementsByTagName("html")[0];var _8f=YAHOO.util.Dom.getStyle(bod,"overflow");var _90=YAHOO.util.Dom.getStyle(htm,"overflow");var x=pos[0];var y=pos[1];var _93=this.element.offsetHeight;var _94=this.element.offsetWidth;var _95=YAHOO.util.Dom.getClientWidth();var _96=YAHOO.util.Dom.getClientHeight();var _97=window.scrollX||document.body.scrollLeft;var _98=window.scrollY||document.body.scrollTop;var _99=_98+10;var _9a=_97+10;var _9b=_98+_96-_93-10;var _9c=_97+_95-_94-10;var _9d=(this.parent&&this.parent._MenuItem);if(x<10){x=_9a;}else{if((x+_94)>_95){if(_9d&&((x-this.parent.element.offsetWidth)>_94)){x=(x-(this.parent.element.offsetWidth+_94));}else{x=_9c;}}}if(y<10){y=_99;}else{if(y>_9b){if(_9d&&(y>_93)){y=((y+this.parent.element.offsetHeight)-_93);}else{y=_9b;}}}this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);};this.initDefaultConfig=function(){YAHOO.widget.Menu.superclass.initDefaultConfig.call(this);this.cfg.addProperty("initsubmenus",true);this.cfg.addProperty("position","absolute",this.configPosition,checkPosition,this.element);};this.setInitialFocus=function(){var _9e;if(this.getSubmenus().length>0){_9e=this.getSubmenu(0).getMenuItem(0);}else{_9e=this.getMenuItem(0);}if(_9e){if(_9e.cfg.getProperty("disabled")){_9e=_9e.getNextEnabledSibling();}_9e.focus();}};this.setInitialSelection=function(){var _9f;if(this.getSubmenus().length>0){_9f=this.getSubmenu(0).getMenuItem(0);}else{_9f=this.getMenuItem(0);}if(_9f){if(_9f.cfg.getProperty("disabled")){_9f=_9f.getNextEnabledSibling();}_9f.cfg.setProperty("selected",true);}};this.setActiveMenuItem=function(_a0){if(this.parent&&this.parent._Menu){this.parent.setActiveMenuItem(_a0);}else{if(_a0&&_a0._MenuItem){m_oActiveMenuItem=_a0;m_oMenuManager.activeMenu=this;}else{m_oActiveMenuItem=null;m_oMenuManager.activeMenu=null;}}};this.getActiveMenuItem=function(){if(this.parent&&this.parent._Menu){return this.parent.getActiveMenuItem();}else{return m_oActiveMenuItem;}};this.configPosition=function(_a1,_a2,_a3){var _a4=_a2[0];if(_a4){m_oDom.setStyle(this.element,"position",_a4);}};this.configIframe=function(_a5,_a6,_a7){YAHOO.widget.Menu.superclass.configIframe.call(this,_a5,_a6,_a7);var _a8=m_oDom.getStyle(this.element,"position");if(this.iframe&&(_a8=="static"||_a8=="relative")){this.iframe.style.display="none";}};this.configConstrainToViewport=function(_a9,_aa,_ab){var _ac=_aa[0];if(_ac){this.beforeMoveEvent.subscribe(this.enforceConstraints,this,true);}else{this.beforeMoveEvent.unsubscribe(this.enforceConstraints,this);}if(_21.length>0){var i=_21.length-1,oSubmenu;do{oSubmenu=_21[i].cfg.getProperty("submenu");if(oSubmenu){oSubmenu.cfg.setProperty("constraintoviewport",_ac);}}while(i--);}if(m_aSubmenus.length>0){var n=m_aSubmenus.length-1;do{m_aSubmenus[n].cfg.setProperty("constraintoviewport",_ac);}while(i--);}};this.configWidth=function(_af,_b0,_b1){if(this.parent&&!this.parent._Menu){m_oDom.setStyle(this.element,"width","auto");var _b2=this.element.cloneNode(true);document.body.appendChild(_b2);var _b3=parseInt(m_oDom.getStyle(_b2,"borderLeftWidth"),10);_b3+=parseInt(m_oDom.getStyle(_b2,"borderRightWidth"),10);var _b4=parseInt(m_oDom.getStyle(_b2,"paddingLeft"),10);_b4+=parseInt(m_oDom.getStyle(_b2,"paddingRight"),10);var _b5=_b2.offsetWidth;if(document.compatMode&&document.compatMode=="CSS1Compat"){_b5=_b5-(_b3+_b4);}var _b6=_b5+"px";document.body.removeChild(_b2);_b0[0]=_b6;}else{_b0[0]=m_oDom.getStyle(this.element,"width");}YAHOO.widget.Menu.superclass.configWidth.call(this,_af,_b0,_b1);};this.configVisible=function(_b7,_b8,_b9){var _ba=_b8[0];if(_ba){this.cfg.refireEvent("width");YAHOO.widget.Menu.superclass.configVisible.call(this,_b7,_b8,_b9);}else{YAHOO.widget.Menu.superclass.configVisible.call(this,_b7,_b8,_b9);var _bb=this.getActiveMenuItem();if(_bb){if(_bb.cfg.getProperty("selected")){_bb.cfg.setProperty("selected",false);}var _bc=_bb.cfg.getProperty("submenu");if(_bc&&_bc.cfg.getProperty("visible")){_bc.hide();}}}};var _bd;if(typeof _1f=="string"){_bd=document.getElementById(_1f);}else{if(_1f.tagName){_bd=_1f;}}if(_bd){switch(_bd.tagName){case "DIV":if(m_oDom.hasClass(_bd,"yuimenu")){this.srcElement=_bd;if(!_bd.id){_bd.id=m_oMenuManager.createMenuId();}YAHOO.widget.Menu.superclass.init.call(this,_bd.id);if(this.body.firstChild&&this.body.firstChild.nodeType==1&&this.body.firstChild.tagName=="UL"){m_oListElement=this.body.firstChild;}else{if(this.body.childNodes[1]&&this.body.childNodes[1].nodeType==1&&this.body.childNodes[1].tagName=="UL"){m_oListElement=this.body.childNodes[1];}}var _be=m_oDom.getStyle(this.element,"position");this.cfg.setProperty("position",_be,true);}break;case "UL":case "SELECT":this.srcElement=_bd;var sId=m_oMenuManager.createMenuId();YAHOO.widget.Menu.superclass.init.call(this,sId);break;}}else{YAHOO.widget.Menu.superclass.init.call(this,_1f);}if(this.element){m_oDom.addClass(this.element,this.CSS_CLASS_NAME);m_oEventUtil.addListener(this.element,"mouseover",onElementMouseOver,this,true);m_oEventUtil.addListener(this.element,"mouseout",onElementMouseOut,this,true);m_oEventUtil.addListener(this.element,"mousedown",onElementMouseDown,this,true);m_oEventUtil.addListener(this.element,"mouseup",onElementMouseUp,this,true);m_oEventUtil.addListener(this.element,"click",onElementClick,this,true);m_oEventUtil.addListener(this.element,"keydown",onElementKeyDown,this,true);m_oEventUtil.addListener(this.element,"keyup",onElementKeyUp,this,true);m_oEventUtil.addListener(this.element,"keypress",onElementKeyPress,this,true);var _c0=YAHOO.util.CustomEvent;this.mouseOverEvent=new _c0("mouseOverEvent",this);this.mouseOutEvent=new _c0("mouseOutEvent",this);this.mouseDownEvent=new _c0("mouseDownEvent",this);this.mouseUpEvent=new _c0("mouseUpEvent",this);this.clickEvent=new _c0("clickEvent",this);this.keyPressEvent=new _c0("keyPressEvent",this);this.keyDownEvent=new _c0("keyDownEvent",this);this.keyUpEvent=new _c0("keyUpEvent",this);m_oMenuManager.addMenu(this);if(_20){this.cfg.applyConfig(_20);}if(this.srcElement){initSubTree(this.srcElement.childNodes);}}};YAHOO.widget.MenuItem=function(_c1,_c2){if(_c1){this.init(_c1,_c2);}};YAHOO.widget.MenuItem.prototype={SUBMENU_INDICATOR_IMAGE_URL:"http://us.i1.yimg.com/us.yimg.com/i/nt/ic/ut/alt1/menuarorght9_nrm_1.gif",SELECTED_SUBMENU_INDICATOR_IMAGE_URL:"http://us.i1.yimg.com/us.yimg.com/i/nt/ic/ut/alt1/menuarorght9_hov_1.gif",DISABLED_SUBMENU_INDICATOR_IMAGE_URL:"http://us.i1.yimg.com/us.yimg.com/i/nt/ic/ut/alt1/menuarorght9_dim_1.gif",COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT:"Collapsed.  Click to expand.",EXPANDED_SUBMENU_INDICATOR_ALT_TEXT:"Expanded.  Click to collapse.",DISABLED_SUBMENU_INDICATOR_ALT_TEXT:"Disabled.",CSS_CLASS_NAME:"yuimenuitem",_MenuItem:true,index:null,parent:null,element:null,srcElement:null,value:null,subMenuIndicator:null,init:function(_c3,_c4){this.SUBMENU_TYPE=YAHOO.widget.Menu;this.MENUITEM_TYPE=YAHOO.widget.MenuItem;var _c5=null,m_oText=null,m_oHelpTextEM=null,m_oSubmenu=null,m_oDom=YAHOO.util.Dom,m_oEventUtil=YAHOO.util.Event,m_sUserAgent=navigator.userAgent.toLowerCase(),m_sBrowser=function(){var _c6=navigator.userAgent.toLowerCase();if(_c6.indexOf("opera")!=-1){return "opera";}else{if(_c6.indexOf("msie")!=-1){return "ie";}else{if(_c6.indexOf("safari")!=-1){return "safari";}else{if(_c6.indexOf("gecko")!=-1){return "gecko";}else{return false;}}}}}(),me=this;function checkString(_c7){return (typeof _c7=="string");}function checkDOMNode(_c8){return (_c8&&_c8.tagName);}function createRootNodeStructure(){me.element=document.createElement("li");m_oText=document.createTextNode("");_c5=document.createElement("a");_c5.appendChild(m_oText);me.cfg.refireEvent("url");me.element.appendChild(_c5);}function initSubTree(){var _c9=me.srcElement.childNodes,nChildNodes=_c9.length,oMenuManager=YAHOO.widget.MenuManager,Menu=me.SUBMENU_TYPE,MenuItem=me.MENUITEM_TYPE;if(nChildNodes>0){var _ca,aULs=[],aOptions=[];for(var i=0;i<nChildNodes;i++){_ca=_c9[i];if(_ca.nodeType==1){switch(_ca.tagName){case "DIV":me.cfg.setProperty("submenu",(new Menu(_ca)));break;case "OPTION":aOptions[aOptions.length]=_ca;break;case "UL":aULs[aULs.length]=_ca;break;}}}if(aOptions.length>0){me.cfg.setProperty("submenu",(new Menu(oMenuManager.createMenuId())));var _cc=aOptions.length;for(var n=0;n<_cc;n++){m_oSubmenu.addMenuItem((new MenuItem(aOptions[n])));}}if(aULs.length>0){if(aULs.length>1){var _ce=new Menu(oMenuManager.createMenuId()),nULs=aULs.length;for(var n=0;n<nULs;n++){_ce.addSubmenu((new Menu(aULs[n])));}me.cfg.setProperty("submenu",_ce);}else{me.cfg.setProperty("submenu",(new Menu(aULs[0])));}}}}this.configText=function(_cf,_d0,_d1){var _d2=_d0[0];if(m_oText){m_oText.nodeValue=_d2;}};this.configHelpText=function(_d3,_d4,_d5){var _d6=_d4[0];function initHelpText(){m_oDom.addClass(me.element,"hashelptext");m_oDom.addClass(_c5,"hashelptext");if(me.cfg.getProperty("disabled")){me.cfg.refireEvent("disabled");}if(me.cfg.getProperty("selected")){me.cfg.refireEvent("selected");}}function removeHelpText(){m_oDom.removeClass(me.element,"hashelptext");m_oDom.removeClass(_c5,"hashelptext");me.element.removeChild(m_oHelpTextEM);m_oHelpTextEM=null;}if(checkDOMNode(_d6)){if(m_oHelpTextEM){var _d7=m_oHelpTextEM.parentNode;_d7.replaceChild(_d6,m_oHelpTextEM);}else{m_oHelpTextEM=_d6;this.element.insertBefore(m_oHelpTextEM,this.subMenuIndicator);}initHelpText();}else{if(checkString(_d6)){if(_d6.length===0){removeHelpText();}else{if(!m_oHelpTextEM){m_oHelpTextEM=document.createElement("em");this.element.insertBefore(m_oHelpTextEM,this.subMenuIndicator);}m_oHelpTextEM.innerHTML=_d6;initHelpText();}}else{if(!_d6&&m_oHelpTextEM){removeHelpText();}}}};this.configURL=function(_d8,_d9,_da){var _db=_d9[0];if(!_db){_db="#";}_c5.setAttribute("href",_db);};this.configEmphasis=function(_dc,_dd,_de){var _df=_dd[0];if(_df&&this.cfg.getProperty("strongemphasis")){this.cfg.setProperty("strongemphasis",false);}if(_c5){var oEM;if(_df){oEM=document.createElement("em");oEM.appendChild(m_oText);_c5.appendChild(oEM);}else{if(_c5.firstChild&&_c5.firstChild.nodeType==1&&_c5.firstChild.tagName=="EM"){oEM=_c5.firstChild;}else{if(_c5.childNodes[1]&&_c5.childNodes[1].nodeType==1&&_c5.childNodes[1].tagName=="EM"){oEM=_c5.childNodes[1];}}_c5.removeChild(oEM);_c5.appendChild(m_oText);}}};this.configStrongEmphasis=function(_e1,_e2,_e3){var _e4=_e2[0];if(_e4&&this.cfg.getProperty("emphasis")){this.cfg.setProperty("emphasis",false);}if(_c5){var _e5;if(_e4){_e5=document.createElement("strong");_e5.appendChild(m_oText);_c5.appendChild(_e5);}else{if(_c5.firstChild&&_c5.firstChild.nodeType==1&&_c5.firstChild.tagName=="STRONG"){_e5=_c5.firstChild;}else{if(_c5.childNodes[1]&&_c5.childNodes[1].nodeType==1&&_c5.childNodes[1].tagName=="STRONG"){_e5=_c5.childNodes[1];}}_c5.removeChild(_e5);_c5.appendChild(m_oText);}}};this.configDisabled=function(_e6,_e7,_e8){var _e9=_e7[0];if(_e9){this.cfg.setProperty("selected",false);_c5.removeAttribute("href");_c5.removeAttribute("tabIndex");m_oDom.addClass(this.element,"disabled");m_oDom.addClass(_c5,"disabled");if(m_oHelpTextEM){m_oDom.addClass(m_oHelpTextEM,"disabled");}if(this.subMenuIndicator){this.subMenuIndicator.src=this.DISABLED_SUBMENU_INDICATOR_IMAGE_URL;this.subMenuIndicator.alt=this.DISABLED_SUBMENU_INDICATOR_ALT_TEXT;}}else{_c5.setAttribute("href",this.cfg.getProperty("url"));_c5.setAttribute("tabIndex",0);m_oDom.removeClass(this.element,"disabled");m_oDom.removeClass(_c5,"disabled");if(m_oHelpTextEM){m_oDom.removeClass(m_oHelpTextEM,"disabled");}if(this.subMenuIndicator){this.subMenuIndicator.src=this.SUBMENU_INDICATOR_IMAGE_URL;this.subMenuIndicator.alt=this.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;}}};this.configSelected=function(_ea,_eb,_ec){var _ed=_eb[0];if(_ed){m_oDom.addClass(this.element,"selected");m_oDom.addClass(_c5,"selected");if(m_oHelpTextEM){m_oDom.addClass(m_oHelpTextEM,"selected");}if(this.subMenuIndicator){this.subMenuIndicator.src=this.SELECTED_SUBMENU_INDICATOR_IMAGE_URL;}}else{m_oDom.removeClass(this.element,"selected");m_oDom.removeClass(_c5,"selected");if(m_oHelpTextEM){m_oDom.removeClass(m_oHelpTextEM,"selected");}if(this.subMenuIndicator){this.subMenuIndicator.src=this.SUBMENU_INDICATOR_IMAGE_URL;}}};this.configSubmenu=function(_ee,_ef,_f0){var _f1=_ef[0];if(_f1){_f1.parent=this;m_oSubmenu=_f1;m_oDom.addClass(this.element,"hassubmenu");m_oDom.addClass(_c5,"hassubmenu");if(!this.subMenuIndicator){this.subMenuIndicator=document.createElement("img");this.element.appendChild(this.subMenuIndicator);this.subMenuIndicator.src=this.SUBMENU_INDICATOR_IMAGE_URL;this.subMenuIndicator.alt=this.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;if(this.cfg.getProperty("disabled")){this.cfg.refireEvent("disabled");}if(this.cfg.getProperty("selected")){this.cfg.refireEvent("selected");}}if(!m_oSubmenu.element.parentNode){this.element.appendChild(m_oSubmenu.element);}}else{m_oDom.removeClass(this.element,"hassubmenu");m_oDom.removeClass(oAnchor,"hassubmenu");if(this.subMenuIndicator){this.element.removeChild(this.subMenuIndicator);}if(m_oSubmenu){this.element.removeChild(m_oSubmenu);}}};this.getNextEnabledSibling=function(){var _f2;if(this.index<(this.parent.getMenuItems().length-1)){_f2=this.parent.getMenuItem((this.index+1));}else{var _f3=this.parent.parent;if(_f3&&_f3._Menu){var _f4,nNextMenuIndex;if(this.parent.index<(_f3.getSubmenus().length-1)){nNextMenuIndex=this.parent.index+1;}else{nNextMenuIndex=0;}_f4=_f3.getSubmenu(nNextMenuIndex);if(_f4){_f2=_f4.getMenuItem(0);}}else{_f2=this.parent.getMenuItem(0);}}if(_f2){if(_f2.cfg.getProperty("disabled")){return _f2.getNextEnabledSibling();}else{return _f2;}}};this.getPreviousEnabledSibling=function(){var _f5;if(this.index>0){_f5=this.parent.getMenuItem((this.index-1));}else{var _f6=this.parent.parent;if(_f6&&_f6._Menu){var _f7,nPreviousMenuIndex;if(this.parent.index>0){nPreviousMenuIndex=this.parent.index-1;}else{nPreviousMenuIndex=_f6.getSubmenus().length-1;}_f7=_f6.getSubmenu(nPreviousMenuIndex);if(_f7){_f5=_f7.getMenuItem((_f7.getMenuItems().length-1));}}else{_f5=this.parent.getMenuItem((this.parent.getMenuItems().length-1));}}if(_f5){if(_f5.cfg.getProperty("disabled")){return _f5.getPreviousEnabledSibling();}else{return _f5;}}};this.focus=function(){if(!this.cfg.getProperty("disabled")&&_c5){var _f8=this.parent.getActiveMenuItem();if(_f8){_f8.blur();}_c5.focus();this.focusEvent.fire();}};this.blur=function(){if(!this.cfg.getProperty("disabled")&&_c5){_c5.blur();this.blurEvent.fire();}};this.showSubmenu=function(){if(m_oSubmenu){var _f9=m_oDom.getXY(this.element),aSubmenuPosition=[];aSubmenuPosition[0]=(_f9[0]+this.element.offsetWidth);aSubmenuPosition[1]=_f9[1];m_oSubmenu.cfg.setProperty("xy",aSubmenuPosition);m_oSubmenu.show();this.subMenuIndicator.alt=this.EXPANDED_SUBMENU_INDICATOR_ALT_TEXT;}};this.hideSubmenu=function(){if(m_oSubmenu){this.subMenuIndicator.alt=this.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;m_oSubmenu.hide();}};this.cfg=new YAHOO.util.Config(this);this.cfg.addProperty("text",null,this.configText,checkString);this.cfg.addProperty("helptext",null,this.configHelpText);this.cfg.addProperty("url","#",this.configURL);this.cfg.addProperty("emphasis",false,this.configEmphasis,this.cfg.checkBoolean);this.cfg.addProperty("strongemphasis",false,this.configStrongEmphasis,this.cfg.checkBoolean);this.cfg.addProperty("disabled",false,this.configDisabled,this.cfg.checkBoolean);this.cfg.addProperty("selected",false,this.configSelected,this.cfg.checkBoolean);this.cfg.addProperty("submenu",null,this.configSubmenu);this.cfg.addProperty("initsubmenus",((_c4&&(!_c4.initsubmenus))?false:true));if(checkString(_c3)){createRootNodeStructure();this.cfg.setProperty("text",_c3);}else{if(checkDOMNode(_c3)){switch(_c3.tagName){case "OPTION":createRootNodeStructure();this.cfg.setProperty("text",_c3.text);this.cfg.setProperty("value",_c3.value);this.srcElement=_c3;if(_c3.disabled||_c3.parentNode.disabled){this.cfg.setProperty("disabled",true);}if(_c3.selected){this.cfg.setProperty("selected",true);}break;case "OPTGROUP":createRootNodeStructure();this.cfg.setProperty("text",_c3.label);this.srcElement=_c3;if(_c3.disabled||_c3.parentNode.disabled){this.cfg.setProperty("disabled",true);}if(this.cfg.getProperty("initsubmenus")){initSubTree();}break;case "LI":var _fa=null,sURL=null,sText=null;if(_c3.firstChild&&_c3.firstChild.nodeType==1&&_c3.firstChild.tagName=="A"){_fa=_c3.firstChild;}else{if(_c3.childNodes[1]&&_c3.childNodes[1].nodeType==1&&_c3.childNodes[1].tagName=="A"){_fa=_c3.childNodes[1];}}if(_fa){sURL=_fa.getAttribute("href");if(_fa.innerText){sText=_fa.innerText;}else{var _fb=_fa.ownerDocument.createRange();_fb.selectNodeContents(_fa);sText=_fb.toString();}}else{sText=_c3.firstChild.nodeValue;}this.srcElement=_c3;if(_fa&&_c3.parentNode&&_c3.parentNode.parentNode&&_c3.parentNode.parentNode.tagName=="DIV"&&m_oDom.hasClass(_c3.parentNode.parentNode,"bd")&&_c3.parentNode.parentNode.parentNode&&_c3.parentNode.parentNode.parentNode.tagName=="DIV"&&m_oDom.hasClass(_c3.parentNode.parentNode.parentNode,"yuimenu")){this.element=_c3;_c5=_fa;var _fc=m_oDom.hasClass(this.element,"disabled");var _fd=m_oDom.hasClass(this.element,"selected");var _fe;if(_fa.firstChild&&_fa.firstChild.nodeType==1){_fe=_fa.firstChild;}else{if(_fa.childNodes[1]&&_fa.childNodes[1].nodeType==1){_fe=_fa.childNodes[1];}}var _ff=false,bStrongEmphasis=false;if(_fe){m_oText=_fe.firstChild;switch(_fe.tagName){case "EM":_ff=true;break;case "STRONG":bStrongEmphasis=true;break;}}else{m_oText=_fa.firstChild;}var _100=null;if(_fa.nextSibling&&_fa.nextSibling.nodeType==1&&_fa.nextSibling.tagName=="EM"){_100=_fa.nextSibling;}else{if(_fa.nextSibling&&_fa.nextSibling.nextSibling&&_fa.nextSibling.nextSibling.nodeType==1&&_fa.nextSibling.nextSibling.tagName=="EM"){_100=_fa.nextSibling.nextSibling;}}if(_100){m_oHelpTextEM=_100;m_oDom.addClass(this.element,"hashelptext");m_oDom.addClass(_fa,"hashelptext");}else{m_oDom.removeClass(this.element,"hashelptext");m_oDom.removeClass(_fa,"hashelptext");}this.cfg.setProperty("text",sText,true);this.cfg.setProperty("helptext",_100,true);this.cfg.setProperty("url",sURL,true);this.cfg.setProperty("emphasis",_ff,true);this.cfg.setProperty("strongemphasis",bStrongEmphasis,true);this.cfg.setProperty("selected",_fd);this.cfg.setProperty("disabled",_fc);}else{createRootNodeStructure();this.cfg.setProperty("text",sText);this.cfg.setProperty("url",sURL);}if(this.cfg.getProperty("initsubmenus")){initSubTree();}break;}}}if(this.element){m_oDom.addClass(this.element,this.CSS_CLASS_NAME);var _101=YAHOO.util.CustomEvent;this.destroyEvent=new _101("destroyEvent",this);this.mouseOverEvent=new _101("mouseOverEvent",this);this.mouseOutEvent=new _101("mouseOutEvent",this);this.mouseDownEvent=new _101("mouseDownEvent",this);this.mouseUpEvent=new _101("mouseUpEvent",this);this.clickEvent=new _101("clickEvent",this);this.keyPressEvent=new _101("keyPressEvent",this);this.keyDownEvent=new _101("keyDownEvent",this);this.keyUpEvent=new _101("keyUpEvent",this);this.focusEvent=new _101("focusEvent",this);this.blurEvent=new _101("blurEvent",this);if(_c4){this.cfg.applyConfig(_c4);}}},destroy:function(){if(this.element){this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();this.focusEvent.unsubscribeAll();this.blurEvent.unsubscribeAll();this.cfg.configChangedEvent.unsubscribeAll();var _102=this.element.parentNode;if(_102){_102.removeChild(this.element);this.destroyEvent.fire();}this.destroyEvent.unsubscribeAll();}}};