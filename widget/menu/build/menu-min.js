YAHOO.widget.MenuModule=function(_1,_2){if(arguments.length>0){YAHOO.widget.MenuModule.superclass.constructor.call(this,_1,_2);}};YAHOO.widget.MenuModule.prototype=new YAHOO.widget.Overlay();YAHOO.widget.MenuModule.prototype.constructor=YAHOO.widget.MenuModule;YAHOO.widget.MenuModule.superclass=YAHOO.widget.Overlay.prototype;YAHOO.widget.MenuModule.prototype.CSS_CLASS_NAME="yuimenu";YAHOO.widget.MenuModule.prototype.ITEM_TYPE=null;YAHOO.widget.MenuModule.prototype.GROUP_TITLE_TAG_NAME="H6";YAHOO.widget.MenuModule.prototype._aGroupTitleElements=null;YAHOO.widget.MenuModule.prototype._aItemGroups=null;YAHOO.widget.MenuModule.prototype._aListElements=null;YAHOO.widget.MenuModule.prototype._oEventUtil=YAHOO.util.Event;YAHOO.widget.MenuModule.prototype._oDom=YAHOO.util.Dom;YAHOO.widget.MenuModule.prototype._oCurrentItem=null;YAHOO.widget.MenuModule.prototype._bFiredMouseOverEvent=false;YAHOO.widget.MenuModule.prototype._bFiredMouseOutEvent=false;YAHOO.widget.MenuModule.prototype.activeItem=null;YAHOO.widget.MenuModule.prototype.parent=null;YAHOO.widget.MenuModule.prototype.srcElement=null;YAHOO.widget.MenuModule.prototype.mouseOverEvent=null;YAHOO.widget.MenuModule.prototype.mouseOutEvent=null;YAHOO.widget.MenuModule.prototype.mouseDownEvent=null;YAHOO.widget.MenuModule.prototype.mouseUpEvent=null;YAHOO.widget.MenuModule.prototype.clickEvent=null;YAHOO.widget.MenuModule.prototype.keyPressEvent=null;YAHOO.widget.MenuModule.prototype.keyDownEvent=null;YAHOO.widget.MenuModule.prototype.keyUpEvent=null;YAHOO.widget.MenuModule.prototype.init=function(_3,_4){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuModuleItem;}this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];var _5;if(typeof _3=="string"){_5=document.getElementById(_3);}else{if(_3.tagName){_5=_3;}}if(_5){switch(_5.tagName){case "DIV":this.srcElement=_5;YAHOO.widget.MenuModule.superclass.init.call(this,_5);this.beforeInitEvent.fire(YAHOO.widget.MenuModule);var _6=this.body.firstChild,i=0;do{switch(_6.tagName){case this.GROUP_TITLE_TAG_NAME:this._aGroupTitleElements[i]=_6;break;case "UL":this._aListElements[i]=_6;this._aItemGroups[i]=[];i++;break;}}while((_6=_6.nextSibling));if(this._aListElements[0]){this._oDom.addClass(this._aListElements[0],"first");}break;case "SELECT":this.srcElement=_5;var _7=this._oDom.generateId();YAHOO.widget.MenuModule.superclass.init.call(this,_7);this.beforeInitEvent.fire(YAHOO.widget.MenuModule);break;}}else{YAHOO.widget.MenuModule.superclass.init.call(this,_3);this.beforeInitEvent.fire(YAHOO.widget.MenuModule);}if(this.element){this._oDom.addClass(this.element,this.CSS_CLASS_NAME);this._oEventUtil.addListener(this.element,"mouseover",this._onElementMouseOver,this,true);this._oEventUtil.addListener(this.element,"mouseout",this._onElementMouseOut,this,true);this._oEventUtil.addListener(this.element,"mousedown",this._onDOMEvent,this,true);this._oEventUtil.addListener(this.element,"mouseup",this._onDOMEvent,this,true);this._oEventUtil.addListener(this.element,"click",this._onElementClick,this,true);this._oEventUtil.addListener(this.element,"keydown",this._onDOMEvent,this,true);this._oEventUtil.addListener(this.element,"keyup",this._onDOMEvent,this,true);this._oEventUtil.addListener(this.element,"keypress",this._onDOMEvent,this,true);var _8=YAHOO.util.CustomEvent;this.mouseOverEvent=new _8("mouseOverEvent",this);this.mouseOutEvent=new _8("mouseOutEvent",this);this.mouseDownEvent=new _8("mouseDownEvent",this);this.mouseUpEvent=new _8("mouseUpEvent",this);this.clickEvent=new _8("clickEvent",this);this.keyPressEvent=new _8("keyPressEvent",this);this.keyDownEvent=new _8("keyDownEvent",this);this.keyUpEvent=new _8("keyUpEvent",this);this.beforeRenderEvent.subscribe(this._onBeforeRender,this,true);this.renderEvent.subscribe(this._onRender,this,true);this.showEvent.subscribe(this._onShow,this,true);this.hideEvent.subscribe(this._onHide,this,true);if(_4){this.cfg.applyConfig(_4,true);}this.cfg.queueProperty("visible",false);if(this.srcElement){this._initSubTree();}}this.initEvent.fire(YAHOO.widget.MenuModule);};YAHOO.widget.MenuModule.prototype._getFirstEnabledItem=function(){var _9=this._aItemGroups.length,oItem,aItemGroup;for(var i=0;i<_9;i++){aItemGroup=this._aItemGroups[i];if(aItemGroup){var _b=aItemGroup.length;for(var n=0;n<_b;n++){oItem=aItemGroup[n];if(!oItem.cfg.getProperty("disabled")){return oItem;}oItem=null;}}}};YAHOO.widget.MenuModule.prototype._checkPosition=function(_d){if(typeof _d=="string"){var _e=_d.toLowerCase();return ("dynamic,static".indexOf(_e)!=-1);}};YAHOO.widget.MenuModule.prototype._addItemToGroup=function(_f,_10,_11){if(typeof _11=="number"){var _12=typeof _f=="number"?_f:0,aGroup=this._getItemGroup(_12);if(!aGroup){aGroup=this._createItemGroup(_12);}var _13=(_11>=aGroup.length);if(aGroup[_11]){aGroup.splice(_11,0,_10);}else{aGroup[_11]=_10;}var _14=aGroup[_11];if(_14){if(_13&&!_14.element.parentNode){this._aListElements[_12].appendChild(_14.element);}else{function getNextItemSibling(_15,_16){return (_15[_16]||getNextItemSibling(_15,(_16+1)));}var _17=getNextItemSibling(aGroup,(_11+1));if(_17&&!_14.element.parentNode){this._aListElements[_12].insertBefore(_14.element,_17.element);}}_14.parent=this;this._subscribeToItemEvents(_14);this._configureItemSubmenuModule(_14);this._updateItemProperties(_12);return _14;}}else{var _12=typeof _f=="number"?_f:0,aGroup=this._getItemGroup(_12);if(!aGroup){aGroup=this._createItemGroup(_12);}var _18=aGroup.length;aGroup[_18]=_10;var _14=aGroup[_18];if(_14){if(!this._oDom.isAncestor(this._aListElements[_12],_14.element)){this._aListElements[_12].appendChild(_14.element);}_14.element.setAttribute("groupindex",_12);_14.element.setAttribute("index",_18);_14.parent=this;_14.index=_18;_14.groupIndex=_12;this._subscribeToItemEvents(_14);this._configureItemSubmenuModule(_14);if(_18===0){this._oDom.addClass(_14.element,"first");}return _14;}}};YAHOO.widget.MenuModule.prototype._removeItemFromGroupByIndex=function(_19,_1a){var _1b=typeof _19=="number"?_19:0,aGroup=this._getItemGroup(_1b);if(aGroup){var _1c=aGroup.splice(_1a,1),oItem=_1c[0];if(oItem){this._updateItemProperties(_1b);if(aGroup.length===0){var oUL=this._aListElements[_1b];if(this.body&&oUL){this.body.removeChild(oUL);}this._aItemGroups.splice(_1b,1);this._aListElements.splice(_1b,1);oUL=this._aListElements[0];if(oUL){this._oDom.addClass(oUL,"first");}}return oItem;}}};YAHOO.widget.MenuModule.prototype._removeItemFromGroupByValue=function(_1e,_1f){var _20=this._getItemGroup(_1e);if(_20){var _21=_20.length,nItemIndex=-1;if(_21>0){var i=_21-1;do{if(_20[i]==_1f){nItemIndex=i;break;}}while(i--);if(nItemIndex>-1){return this._removeItemFromGroupByIndex(_1e,nItemIndex);}}}};YAHOO.widget.MenuModule.prototype._updateItemProperties=function(_23){var _24=this._getItemGroup(_23),nItems=_24.length;if(nItems>0){var i=nItems-1,oItem,oLI;do{oItem=_24[i];if(oItem){oLI=oItem.element;oItem.index=i;oItem.groupIndex=_23;oLI.setAttribute("groupindex",_23);oLI.setAttribute("index",i);this._oDom.removeClass(oLI,"first");}}while(i--);if(oLI){this._oDom.addClass(oLI,"first");}}};YAHOO.widget.MenuModule.prototype._createItemGroup=function(_26){if(!this._aItemGroups[_26]){this._aItemGroups[_26]=[];var oUL=document.createElement("ul");this._aListElements[_26]=oUL;return this._aItemGroups[_26];}};YAHOO.widget.MenuModule.prototype._getItemGroup=function(_28){var _29=((typeof _28=="number")?_28:0);return this._aItemGroups[_29];};YAHOO.widget.MenuModule.prototype._configureItemSubmenuModule=function(_2a){var _2b=_2a.cfg.getProperty("submenu");if(_2b){this.cfg.configChangedEvent.subscribe(this._onParentMenuModuleConfigChange,_2b,true);this.renderEvent.subscribe(this._onParentMenuModuleRender,_2b,true);_2b.beforeShowEvent.subscribe(this._onSubmenuBeforeShow,_2b,true);_2b.showEvent.subscribe(this._onSubmenuShow,_2b,true);_2b.hideEvent.subscribe(this._onSubmenuHide,_2b,true);}};YAHOO.widget.MenuModule.prototype._subscribeToItemEvents=function(_2c){var _2d=[this,_2c];_2c.focusEvent.subscribe(this._onItemFocus,_2d);_2c.blurEvent.subscribe(this._onItemBlur,_2d);_2c.cfg.configChangedEvent.subscribe(this._onItemConfigChange,_2d);};YAHOO.widget.MenuModule.prototype._getOffsetWidth=function(){var _2e=this.element.cloneNode(true);this._oDom.setStyle(_2e,"width","");document.body.appendChild(_2e);var _2f=_2e.offsetWidth;document.body.removeChild(_2e);return _2f;};YAHOO.widget.MenuModule.prototype._fireItemEvent=function(_30,_31,_32){var me=this;function getItemElement(_34){if(_34==me.element){return;}else{if(_34.tagName=="LI"){return _34;}else{if(_34.parentNode){return getItemElement(_34.parentNode);}}}}var _35=getItemElement(_30);if(_35){var _36=parseInt(_35.getAttribute("groupindex"),10),nIndex=parseInt(_35.getAttribute("index"),10),oItem=this._aItemGroups[_36][nIndex];if(!oItem.cfg.getProperty("disabled")){oItem[_31].fire(_32);return oItem;}}};YAHOO.widget.MenuModule.prototype._onDOMEvent=function(_37,_38){var _39={"mousedown":"mouseDownEvent","mouseup":"mouseUpEvent","keydown":"keyDownEvent","keyup":"keyUpEvent","keypress":"keyPressEvent"},sCustomEventType=_39[_37.type],oTarget=this._oEventUtil.getTarget(_37,true);this._fireItemEvent(oTarget,sCustomEventType,_37);this[sCustomEventType].fire(_37);this._oEventUtil.stopPropagation(_37);};YAHOO.widget.MenuModule.prototype._onElementMouseOver=function(_3a,_3b){var _3c=this._oEventUtil.getTarget(_3a,true);if((_3c==this.element||this._oDom.isAncestor(this.element,_3c))&&!this._bFiredMouseOverEvent){this.mouseOverEvent.fire(_3a);this._bFiredMouseOverEvent=true;this._bFiredMouseOutEvent=false;}if(!this._oCurrentItem){this._oCurrentItem=this._fireItemEvent(_3c,"mouseOverEvent",_3a);}this._oEventUtil.stopPropagation(_3a);};YAHOO.widget.MenuModule.prototype._onElementMouseOut=function(_3d,_3e){var _3f=this._oEventUtil.getRelatedTarget(_3d),bLIMouseOut=true,bMovingToSubmenu=false;if(this._oCurrentItem&&_3f){if(_3f==this._oCurrentItem.element||this._oDom.isAncestor(this._oCurrentItem.element,_3f)){bLIMouseOut=false;}var _40=this._oCurrentItem.cfg.getProperty("submenu");if(_40&&(_3f==_40.element||this._oDom.isAncestor(_40.element,_3f))){bMovingToSubmenu=true;}}if(this._oCurrentItem&&(bLIMouseOut||bMovingToSubmenu)){this._oCurrentItem.mouseOutEvent.fire(_3d);this._oCurrentItem=null;}if(!this._bFiredMouseOutEvent&&(!this._oDom.isAncestor(this.element,_3f)||bMovingToSubmenu)){this.mouseOutEvent.fire(_3d);this._bFiredMouseOutEvent=true;this._bFiredMouseOverEvent=false;}this._oEventUtil.stopPropagation(_3d);};YAHOO.widget.MenuModule.prototype._onElementClick=function(_41,_42){var _43=this._oEventUtil.getTarget(_41,true),oItem=this._fireItemEvent(_43,"clickEvent",_41),bCurrentPageURL;if(oItem){var _44=oItem.cfg.getProperty("url"),oSubmenu=oItem.cfg.getProperty("submenu");bCurrentPageURL=(_44.substr((_44.length-1),1)=="#");if(_43==oItem.subMenuIndicator&&oSubmenu){if(oSubmenu.cfg.getProperty("visible")){oSubmenu.hide();}else{oItem.cfg.setProperty("selected",true);oSubmenu.show();oSubmenu.setInitialSelection();}}else{if(!bCurrentPageURL){document.location=_44;}}}switch(_43.tagName){case "A":if(bCurrentPageURL){this._oEventUtil.preventDefault(_41);}else{break;}default:this._oEventUtil.stopPropagation(_41);break;}this.clickEvent.fire(_41);};YAHOO.widget.MenuModule.prototype._initSubTree=function(){var _45;switch(this.srcElement.tagName){case "DIV":if(this._aListElements.length>0){var i=this._aListElements.length-1;do{_45=this._aListElements[i].firstChild;do{switch(_45.tagName){case "LI":this.addItem(new this.ITEM_TYPE(_45),i);break;}}while((_45=_45.nextSibling));}while(i--);}break;case "SELECT":_45=this.srcElement.firstChild;do{switch(_45.tagName){case "OPTGROUP":case "OPTION":this.addItem(new this.ITEM_TYPE(_45));break;}}while((_45=_45.nextSibling));break;}};YAHOO.widget.MenuModule.prototype._onBeforeRender=function(_47,_48,_49){if(this.cfg.getProperty("position")=="static"){this.cfg.queueProperty("iframe",false);this.cfg.queueProperty("visible",true);}var _4a=this._aListElements.length;if(_4a>0){var i=0,bFirstList=true,oUL,oGroupTitle;do{oUL=this._aListElements[i];if(oUL){if(bFirstList){this._oDom.addClass(oUL,"first");bFirstList=false;}if(!this._oDom.isAncestor(this.element,oUL)){this.appendToBody(oUL);}oGroupTitle=this._aGroupTitleElements[i];if(oGroupTitle){if(!this._oDom.isAncestor(this.element,oGroupTitle)){oUL.parentNode.insertBefore(oGroupTitle,oUL);}this._oDom.addClass(oUL,"hastitle");}}i++;}while(i<_4a);}};YAHOO.widget.MenuModule.prototype._onRender=function(_4c,_4d,_4e){if(this.cfg.getProperty("position")=="dynamic"){var _4f=this.element.parentNode.tagName=="BODY"?this.element.offsetWidth:this._getOffsetWidth();this.cfg.setProperty("width",(_4f+"px"));}};YAHOO.widget.MenuModule.prototype._onShow=function(_50,_51,_52){this.setInitialFocus();};YAHOO.widget.MenuModule.prototype._onHide=function(_53,_54,_55){if(this.activeItem){if(this.activeItem.cfg.getProperty("selected")){this.activeItem.cfg.setProperty("selected",false);this.activeItem.blur();}var _56=this.activeItem.cfg.getProperty("submenu");if(_56&&_56.cfg.getProperty("visible")){_56.hide();}}};YAHOO.widget.MenuModule.prototype._onParentMenuModuleConfigChange=function(_57,_58,_59){var _5a=_58[0][0],oPropertyValue=_58[0][1];switch(_5a){case "iframe":case "constraintoviewport":case "submenualignment":_59.cfg.setProperty(_5a,oPropertyValue);break;}};YAHOO.widget.MenuModule.prototype._onParentMenuModuleRender=function(_5b,_5c,_5d){var _5e=_5d.parent.parent;_5d.cfg.applyConfig({constraintoviewport:_5e.cfg.getProperty("constraintoviewport"),xy:[0,0],iframe:_5e.cfg.getProperty("iframe")});if(this._oDom.inDocument(this.element)){this.render();}else{this.render(this.parent.element);}};YAHOO.widget.MenuModule.prototype._onSubmenuBeforeShow=function(_5f,_60,_61){var _62=this.parent.parent.cfg.getProperty("submenualignment");this.cfg.setProperty("context",[this.parent.element,_62[0],_62[1]]);this.parent.subMenuIndicator.alt=this.parent.EXPANDED_SUBMENU_INDICATOR_ALT_TEXT;};YAHOO.widget.MenuModule.prototype._onSubmenuShow=function(_63,_64,_65){this.parent.subMenuIndicator.alt=this.parent.EXPANDED_SUBMENU_INDICATOR_ALT_TEXT;};YAHOO.widget.MenuModule.prototype._onSubmenuHide=function(_66,_67,_68){if(this.parent.parent.cfg.getProperty("visible")){this.parent.cfg.setProperty("selected",false);this.parent.focus();}this.parent.subMenuIndicator.alt=this.parent.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;};YAHOO.widget.MenuModule.prototype._onItemFocus=function(_69,_6a,_6b){var me=_6b[0],oItem=_6b[1];me.activeItem=oItem;};YAHOO.widget.MenuModule.prototype._onItemBlur=function(_6d,_6e,_6f){var me=_6f[0],oItem=_6f[1],oSubmenu=oItem.cfg.getProperty("submenu");if(!oSubmenu||(oSubmenu&&!oSubmenu.cfg.getProperty("visible"))){me.activeItem=null;}};YAHOO.widget.MenuModule.prototype._onItemConfigChange=function(_71,_72,_73){var _74=_72[0][0],me=_73[0],oItem=_73[1];switch(_74){case "submenu":var _75=_72[0][1];if(_75){me._configureItemSubmenuModule(oItem);}break;case "text":case "helptext":if(me.element.style.width){var _76=me._getOffsetWidth()+"px";me._oDom.setStyle(me.element,"width",_76);}break;}};YAHOO.widget.MenuModule.prototype.enforceConstraints=function(_77,_78,obj){var pos=_78[0],x=pos[0],y=pos[1],bod=document.getElementsByTagName("body")[0],htm=document.getElementsByTagName("html")[0],bodyOverflow=YAHOO.util.Dom.getStyle(bod,"overflow"),htmOverflow=YAHOO.util.Dom.getStyle(htm,"overflow"),offsetHeight=this.element.offsetHeight,offsetWidth=this.element.offsetWidth,viewPortWidth=YAHOO.util.Dom.getClientWidth(),viewPortHeight=YAHOO.util.Dom.getClientHeight(),scrollX=window.scrollX||document.body.scrollLeft,scrollY=window.scrollY||document.body.scrollTop,topConstraint=scrollY+10,leftConstraint=scrollX+10,bottomConstraint=scrollY+viewPortHeight-offsetHeight-10,rightConstraint=scrollX+viewPortWidth-offsetWidth-10,aContext=this.cfg.getProperty("context"),oContextElement=aContext?aContext[0]:null;if(x<10){x=leftConstraint;}else{if((x+offsetWidth)>viewPortWidth){if(oContextElement&&((x-oContextElement.offsetWidth)>offsetWidth)){x=(x-(oContextElement.offsetWidth+offsetWidth));}else{x=rightConstraint;}}}if(y<10){y=topConstraint;}else{if(y>bottomConstraint){if(oContextElement&&(y>offsetHeight)){y=((y+oContextElement.offsetHeight)-offsetHeight);}else{y=bottomConstraint;}}}this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);};YAHOO.widget.MenuModule.prototype.configPosition=function(_7b,_7c,_7d){var _7e=_7c[0]=="static"?"static":"absolute";this._oDom.setStyle(this.element,"position",_7e);};YAHOO.widget.MenuModule.prototype.setItemGroupTitle=function(_7f,_80){if(typeof _7f=="string"&&_7f.length>0){var _81=typeof _80=="number"?_80:0,oTitle=this._aGroupTitleElements[_81];if(oTitle){oTitle.innerHTML=_7f;}else{oTitle=document.createElement(this.GROUP_TITLE_TAG_NAME);oTitle.innerHTML=_7f;this._aGroupTitleElements[_81]=oTitle;}var i=this._aGroupTitleElements.length-1,nFirstIndex;do{if(this._aGroupTitleElements[i]){this._oDom.removeClass(this._aGroupTitleElements[i],"first");nFirstIndex=i;}}while(i--);if(nFirstIndex!==null){this._oDom.addClass(this._aGroupTitleElements[nFirstIndex],"first");}}};YAHOO.widget.MenuModule.prototype.addItem=function(_83,_84){if(_83&&_83 instanceof YAHOO.widget.MenuModuleItem){return this._addItemToGroup(_84,_83);}};YAHOO.widget.MenuModule.prototype.insertItem=function(_85,_86,_87){if(_85&&_85 instanceof YAHOO.widget.MenuModuleItem){return this._addItemToGroup(_87,_85,_86);}};YAHOO.widget.MenuModule.prototype.removeItem=function(_88,_89){if(typeof _88!="undefined"){var _8a;if(_88 instanceof YAHOO.widget.MenuModuleItem){_8a=this._removeItemFromGroupByValue(_89,_88);}else{if(typeof _88=="number"){_8a=this._removeItemFromGroupByIndex(_89,_88);}}if(_8a){_8a.destroy();return _8a;}}};YAHOO.widget.MenuModule.prototype.getItemGroups=function(){return this._aItemGroups;};YAHOO.widget.MenuModule.prototype.getItem=function(_8b,_8c){if(typeof _8b=="number"){var _8d=this._getItemGroup(_8c);if(_8d){return _8d[_8b];}}};YAHOO.widget.MenuModule.prototype.destroy=function(){this._oEventUtil.removeListener(this.element,"mouseover",this._onElementMouseOver);this._oEventUtil.removeListener(this.element,"mouseout",this._onElementMouseOut);this._oEventUtil.removeListener(this.element,"click",this._onElementClick);this._oEventUtil.removeListener(this.element,"mousedown",this._onDOMEvent);this._oEventUtil.removeListener(this.element,"mouseup",this._onDOMEvent);this._oEventUtil.removeListener(this.element,"keydown",this._onDOMEvent);this._oEventUtil.removeListener(this.element,"keyup",this._onDOMEvent);this._oEventUtil.removeListener(this.element,"keypress",this._onDOMEvent);this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();this.beforeMoveEvent.unsubscribeAll();var _8e=this._aItemGroups.length,nItems,i,n;if(_8e>0){i=_8e-1;do{if(this._aItemGroups[i]){nItems=this._aItemGroups[i].length;if(nItems>0){n=nItems-1;do{if(this._aItemGroups[i][n]){this._aItemGroups[i][n].destroy();}}while(n--);}}}while(i--);}YAHOO.widget.MenuModule.superclass.destroy.call(this);};YAHOO.widget.MenuModule.prototype.setInitialFocus=function(){var _8f=this._getFirstEnabledItem();if(_8f){_8f.focus();}};YAHOO.widget.MenuModule.prototype.setInitialSelection=function(){var _90=this._getFirstEnabledItem();if(_90){_90.cfg.setProperty("selected",true);}};YAHOO.widget.MenuModule.prototype.clearActiveItem=function(){var _91=this.activeItem;if(_91){_91.cfg.setProperty("selected",false);var _92=_91.cfg.getProperty("submenu");if(_92){_92.hide();}}};YAHOO.widget.MenuModule.prototype.initDefaultConfig=function(){YAHOO.widget.MenuModule.superclass.initDefaultConfig.call(this);this.cfg.addProperty("position",{value:"dynamic",handler:this.configPosition,validator:this._checkPosition});this.cfg.addProperty("submenualignment",{value:["tl","tr"]});};YAHOO.widget.MenuModuleItem=function(_93,_94){if(_93){this.init(_93,_94);}};YAHOO.widget.MenuModuleItem.prototype={SUBMENU_INDICATOR_IMAGE_PATH:"nt/ic/ut/alt1/menuarorght9_nrm_1.gif",SELECTED_SUBMENU_INDICATOR_IMAGE_PATH:"nt/ic/ut/alt1/menuarorght9_hov_1.gif",DISABLED_SUBMENU_INDICATOR_IMAGE_PATH:"nt/ic/ut/alt1/menuarorght9_dim_1.gif",COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT:"Collapsed.  Click to expand.",EXPANDED_SUBMENU_INDICATOR_ALT_TEXT:"Expanded.  Click to collapse.",DISABLED_SUBMENU_INDICATOR_ALT_TEXT:"Disabled.",CSS_CLASS_NAME:"yuimenuitem",SUBMENU_TYPE:null,SUBMENU_ITEM_TYPE:null,_oAnchor:null,_oText:null,_oHelpTextEM:null,_oSubmenu:null,_oDom:YAHOO.util.Dom,_sUserAgent:window.navigator.userAgent.toLowerCase(),constructor:YAHOO.widget.MenuModuleItem,imageRoot:YAHOO.widget.Module.IMG_ROOT,isSecure:function(){if(window.location.href.toLowerCase().indexOf("https")===0){this.imageRoot=YAHOO.widget.Module.IMG_ROOT_SSL;return true;}else{return false;}}(),index:null,groupIndex:null,parent:null,element:null,srcElement:null,value:null,subMenuIndicator:null,browser:function(){var _95=navigator.userAgent.toLowerCase();if(_95.indexOf("opera")!=-1){return "opera";}else{if(_95.indexOf("msie 7")!=-1){return "ie7";}else{if(_95.indexOf("msie")!=-1){return "ie";}else{if(_95.indexOf("safari")!=-1){return "safari";}else{if(_95.indexOf("gecko")!=-1){return "gecko";}else{return false;}}}}}}(),destroyEvent:null,mouseOverEvent:null,mouseOutEvent:null,mouseDownEvent:null,mouseUpEvent:null,clickEvent:null,keyPressEvent:null,keyDownEvent:null,keyUpEvent:null,focusEvent:null,blurEvent:null,init:function(_96,_97){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.MenuModule;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.MenuModuleItem;}this.cfg=new YAHOO.util.Config(this);this.cfg.addProperty("text",{value:"",handler:this.configText,validator:this._checkString,suppressEvent:true});this.cfg.addProperty("helptext",{handler:this.configHelpText});this.cfg.addProperty("url",{value:"#",handler:this.configURL,suppressEvent:true});this.cfg.addProperty("emphasis",{value:false,handler:this.configEmphasis,validator:this.cfg.checkBoolean,suppressEvent:true});this.cfg.addProperty("strongemphasis",{value:false,handler:this.configStrongEmphasis,validator:this.cfg.checkBoolean,suppressEvent:true});this.cfg.addProperty("disabled",{value:false,handler:this.configDisabled,validator:this.cfg.checkBoolean,suppressEvent:true});this.cfg.addProperty("selected",{value:false,handler:this.configSelected,validator:this.cfg.checkBoolean,suppressEvent:true});this.cfg.addProperty("submenu",{handler:this.configSubmenu});if(this._checkString(_96)){this._createRootNodeStructure();this.cfg.setProperty("text",_96);}else{if(this._checkDOMNode(_96)){switch(_96.tagName){case "OPTION":this._createRootNodeStructure();this.cfg.setProperty("text",_96.text);this.srcElement=_96;break;case "OPTGROUP":this._createRootNodeStructure();this.cfg.setProperty("text",_96.label);this.srcElement=_96;this._initSubTree();break;case "LI":var _98=this._getFirstElement(_96,"A"),sURL=null,sText=null;if(_98){sURL=_98.getAttribute("href");if(_98.innerText){sText=_98.innerText;}else{var _99=_98.ownerDocument.createRange();_99.selectNodeContents(_98);sText=_99.toString();}}else{sText=_96.firstChild.nodeValue;}this.srcElement=_96;this.element=_96;this._oAnchor=_98;var _9a=this._getFirstElement(_98),bEmphasis=false,bStrongEmphasis=false;if(_9a){this._oText=_9a.firstChild;switch(_9a.tagName){case "EM":bEmphasis=true;break;case "STRONG":bStrongEmphasis=true;break;}}else{this._oText=_98.firstChild;}this.cfg.setProperty("text",sText,true);this.cfg.setProperty("url",sURL,true);this.cfg.setProperty("emphasis",bEmphasis,true);this.cfg.setProperty("strongemphasis",bStrongEmphasis,true);this._initSubTree();break;}}}if(this.element){this._oDom.addClass(this.element,this.CSS_CLASS_NAME);var _9b=YAHOO.util.CustomEvent;this.destroyEvent=new _9b("destroyEvent",this);this.mouseOverEvent=new _9b("mouseOverEvent",this);this.mouseOutEvent=new _9b("mouseOutEvent",this);this.mouseDownEvent=new _9b("mouseDownEvent",this);this.mouseUpEvent=new _9b("mouseUpEvent",this);this.clickEvent=new _9b("clickEvent",this);this.keyPressEvent=new _9b("keyPressEvent",this);this.keyDownEvent=new _9b("keyDownEvent",this);this.keyUpEvent=new _9b("keyUpEvent",this);this.focusEvent=new _9b("focusEvent",this);this.blurEvent=new _9b("blurEvent",this);if(_97){this.cfg.applyConfig(_97);}this.cfg.fireQueue();}},_getFirstElement:function(_9c,_9d){var _9e;if(_9c.firstChild&&_9c.firstChild.nodeType==1){_9e=_9c.firstChild;}else{if(_9c.firstChild&&_9c.firstChild.nextSibling&&_9c.firstChild.nextSibling.nodeType==1){_9e=_9c.firstChild.nextSibling;}}if(_9d){return (_9e&&_9e.tagName==_9d)?_9e:false;}return _9e;},_checkString:function(_9f){return (typeof _9f=="string");},_checkDOMNode:function(_a0){return (_a0&&_a0.tagName);},_createRootNodeStructure:function(){this.element=document.createElement("li");this._oText=document.createTextNode("");this._oAnchor=document.createElement("a");this._oAnchor.appendChild(this._oText);this.cfg.refireEvent("url");this.element.appendChild(this._oAnchor);},_initSubTree:function(){var _a1=this.SUBMENU_TYPE,MenuModuleItem=this.SUBMENU_ITEM_TYPE;if(this.srcElement.childNodes.length>0){var _a2=this.srcElement.firstChild,aOptions=[];do{switch(_a2.tagName){case "DIV":this.cfg.setProperty("submenu",(new _a1(_a2)));break;case "OPTION":aOptions[aOptions.length]=_a2;break;}}while((_a2=_a2.nextSibling));var _a3=aOptions.length;if(_a3>0){this.cfg.setProperty("submenu",(new _a1(this._oDom.generateId())));for(var n=0;n<_a3;n++){this._oSubmenu.addItem((new MenuModuleItem(aOptions[n])));}}}},configText:function(_a5,_a6,_a7){var _a8=_a6[0];if(this._oText){this._oText.nodeValue=_a8;}},configHelpText:function(_a9,_aa,_ab){var _ac=_aa[0],aNodes=[this.element,this._oAnchor],me=this;function initHelpText(){me._oDom.addClass(aNodes,"hashelptext");if(me.cfg.getProperty("disabled")){me.cfg.refireEvent("disabled");}if(me.cfg.getProperty("selected")){me.cfg.refireEvent("selected");}}function removeHelpText(){me._oDom.removeClass(aNodes,"hashelptext");me.element.removeChild(me._oHelpTextEM);me._oHelpTextEM=null;}if(this._checkDOMNode(_ac)){if(this._oHelpTextEM){var _ad=this._oHelpTextEM.parentNode;_ad.replaceChild(_ac,this._oHelpTextEM);}else{this._oHelpTextEM=_ac;this.element.insertBefore(this._oHelpTextEM,this.subMenuIndicator);}initHelpText();}else{if(this._checkString(_ac)){if(_ac.length===0){removeHelpText();}else{if(!this._oHelpTextEM){this._oHelpTextEM=document.createElement("em");this.element.insertBefore(this._oHelpTextEM,this.subMenuIndicator);}this._oHelpTextEM.innerHTML=_ac;initHelpText();}}else{if(!_ac&&this._oHelpTextEM){removeHelpText();}}}},configURL:function(_ae,_af,_b0){var _b1=_af[0];if(!_b1){_b1="#";}this._oAnchor.setAttribute("href",_b1);},configEmphasis:function(_b2,_b3,_b4){var _b5=_b3[0];if(_b5&&this.cfg.getProperty("strongemphasis")){this.cfg.setProperty("strongemphasis",false);}if(this._oAnchor){var oEM;if(_b5){oEM=document.createElement("em");oEM.appendChild(this._oText);this._oAnchor.appendChild(oEM);}else{oEM=this._getFirstElement(this._oAnchor,"EM");this._oAnchor.removeChild(oEM);this._oAnchor.appendChild(this._oText);}}},configStrongEmphasis:function(_b7,_b8,_b9){var _ba=_b8[0];if(_ba&&this.cfg.getProperty("emphasis")){this.cfg.setProperty("emphasis",false);}if(this._oAnchor){var _bb;if(_ba){_bb=document.createElement("strong");_bb.appendChild(this._oText);this._oAnchor.appendChild(_bb);}else{_bb=this._getFirstElement(this._oAnchor,"STRONG");this._oAnchor.removeChild(_bb);this._oAnchor.appendChild(this._oText);}}},configDisabled:function(_bc,_bd,_be){var _bf=_bd[0],aNodes=[this.element,this._oAnchor],sImageId,sImageAlt;if(this._oHelpTextEM){aNodes[2]=this._oHelpTextEM;}if(_bf){if(this.cfg.getProperty("selected")){this.cfg.setProperty("selected",false);}this._oAnchor.removeAttribute("href");this._oAnchor.removeAttribute("tabIndex");this._oDom.addClass(aNodes,"disabled");sImageId="yuidisabledsubmenuindicator";sImageAlt=this.DISABLED_SUBMENU_INDICATOR_ALT_TEXT;}else{this._oAnchor.setAttribute("href",this.cfg.getProperty("url"));this._oAnchor.setAttribute("tabIndex",0);this._oDom.removeClass(aNodes,"disabled");sImageId="yuisubmenuindicator";sImageAlt=this.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;}if(this.subMenuIndicator){this.subMenuIndicator.src=document.getElementById(sImageId).src;this.subMenuIndicator.alt=sImageAlt;}},configSelected:function(_c0,_c1,_c2){var _c3=_c1[0],aNodes=[this.element,this._oAnchor],sImageId;if(this._oHelpTextEM){aNodes[2]=this._oHelpTextEM;}if(_c3){this._oDom.addClass(aNodes,"selected");sImageId="yuiselectedsubmenuindicator";}else{this._oDom.removeClass(aNodes,"selected");sImageId="yuisubmenuindicator";}if(this.subMenuIndicator){this.subMenuIndicator.src=document.getElementById(sImageId).src;}},configSubmenu:function(_c4,_c5,_c6){var _c7=_c5[0],aNodes=[this.element,this._oAnchor];if(_c7){_c7.parent=this;this._oSubmenu=_c7;if(!this.subMenuIndicator){var _c8=document.getElementById("yuisubmenuindicator");if(!_c8){_c8=document.createElement("img");_c8.src=(this.imageRoot+this.SUBMENU_INDICATOR_IMAGE_PATH);_c8.alt=this.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;_c8.id="yuisubmenuindicator";var _c9=document.createElement("img");_c9.src=(this.imageRoot+this.SELECTED_SUBMENU_INDICATOR_IMAGE_PATH);_c9.id="yuiselectedsubmenuindicator";var _ca=document.createElement("img");_ca.src=(this.imageRoot+this.DISABLED_SUBMENU_INDICATOR_IMAGE_PATH);_ca.id="yuidisabledsubmenuindicator";var _cb=document.createElement("div");_cb.style.position="absolute";_cb.style.left="-1000px";_cb.appendChild(_c8);_cb.appendChild(_c9);_cb.appendChild(_ca);document.body.appendChild(_cb);}var _cc=_c8.cloneNode(false);_cc.removeAttribute("id");this.subMenuIndicator=_cc;this.element.appendChild(this.subMenuIndicator);this._oDom.addClass(aNodes,"hassubmenu");if(this.cfg.getProperty("disabled")){this.cfg.refireEvent("disabled");}if(this.cfg.getProperty("selected")){this.cfg.refireEvent("selected");}}}else{this._oDom.removeClass(aNodes,"hassubmenu");if(this.subMenuIndicator){this.element.removeChild(this.subMenuIndicator);}if(this._oSubmenu){this._oSubmenu.destroy();}}},getNextEnabledSibling:function(){if(this.parent instanceof YAHOO.widget.MenuModule){function getNextArrayItem(_cd,_ce){return _cd[_ce]||getNextArrayItem(_cd,(_ce+1));}var _cf=this.parent.getItemGroups(),oNextItem;if(this.index<(_cf[this.groupIndex].length-1)){oNextItem=getNextArrayItem(_cf[this.groupIndex],(this.index+1));}else{var _d0;if(this.groupIndex<(_cf.length-1)){_d0=this.groupIndex+1;}else{_d0=0;}var _d1=getNextArrayItem(_cf,_d0);oNextItem=getNextArrayItem(_d1,0);}return oNextItem.cfg.getProperty("disabled")?oNextItem.getNextEnabledSibling():oNextItem;}},getPreviousEnabledSibling:function(){if(this.parent instanceof YAHOO.widget.MenuModule){function getPreviousArrayItem(_d2,_d3){return _d2[_d3]||getPreviousArrayItem(_d2,(_d3-1));}function getFirstItemIndex(_d4,_d5){return _d4[_d5]?_d5:getFirstItemIndex(_d4,(_d5+1));}var _d6=this.parent.getItemGroups(),oPreviousItem;if(this.index>getFirstItemIndex(_d6[this.groupIndex],0)){oPreviousItem=getPreviousArrayItem(_d6[this.groupIndex],(this.index-1));}else{var _d7;if(this.groupIndex>getFirstItemIndex(_d6,0)){_d7=this.groupIndex-1;}else{_d7=_d6.length-1;}var _d8=getPreviousArrayItem(_d6,_d7);oPreviousItem=getPreviousArrayItem(_d8,(_d8.length-1));}return oPreviousItem.cfg.getProperty("disabled")?oPreviousItem.getPreviousEnabledSibling():oPreviousItem;}},focus:function(){if(!this.cfg.getProperty("disabled")&&this.parent&&this.parent.cfg.getProperty("visible")){var _d9=this.parent.activeItem;if(_d9){_d9.blur();}this._oAnchor.focus();if(this.parent&&this.parent.browser=="opera"&&this._oSubmenu){this._oAnchor.focus();}this.focusEvent.fire();}},blur:function(){if(!this.cfg.getProperty("disabled")&&this.parent&&this.parent.cfg.getProperty("visible")){this._oAnchor.blur();this.blurEvent.fire();}},destroy:function(){if(this.element){this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();this.focusEvent.unsubscribeAll();this.blurEvent.unsubscribeAll();this.cfg.configChangedEvent.unsubscribeAll();var _da=this.element.parentNode;if(_da){_da.removeChild(this.element);this.destroyEvent.fire();}this.destroyEvent.unsubscribeAll();}}};YAHOO.widget.Menu=function(_db,_dc){if(arguments.length>0){YAHOO.widget.Menu.superclass.constructor.call(this,_db,_dc);}};YAHOO.widget.Menu.prototype=new YAHOO.widget.MenuModule();YAHOO.widget.Menu.prototype.constructor=YAHOO.widget.Menu;YAHOO.widget.Menu.superclass=YAHOO.widget.MenuModule.prototype;YAHOO.widget.Menu.prototype.init=function(_dd,_de){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuItem;}YAHOO.widget.Menu.superclass.init.call(this,_dd);this.beforeInitEvent.fire(YAHOO.widget.Menu);this.mouseOverEvent.subscribe(this._onMouseOver,this,true);this.keyDownEvent.subscribe(this._onKeyDown,this,true);if(_de){this.cfg.applyConfig(_de,true);}this.initEvent.fire(YAHOO.widget.Menu);};YAHOO.widget.Menu.prototype._onMouseOver=function(_df,_e0,_e1){if(this.parent){this.parent.cfg.setProperty("selected",true);}};YAHOO.widget.Menu.prototype._onKeyDown=function(_e2,_e3,_e4){if(this.cfg.getProperty("position")=="dynamic"){var _e5=_e3[0];if(_e5.keyCode==27){this.hide();if(this.parent){this.parent.focus();this.parent.cfg.setProperty("selected",true);}}}};YAHOO.widget.MenuItem=function(_e6,_e7){if(_e6){YAHOO.widget.MenuItem.superclass.constructor.call(this,_e6,_e7);}};YAHOO.widget.MenuItem.prototype=new YAHOO.widget.MenuModuleItem();YAHOO.widget.MenuItem.prototype.constructor=YAHOO.widget.MenuItem;YAHOO.widget.MenuItem.superclass=YAHOO.widget.MenuModuleItem.prototype;YAHOO.widget.MenuItem.prototype.init=function(_e8,_e9){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.MenuItem;}YAHOO.widget.MenuItem.superclass.init.call(this,_e8);this.keyDownEvent.subscribe(this._onKeyDown,this,true);this.mouseOverEvent.subscribe(this._onMouseOver,this,true);this.mouseOutEvent.subscribe(this._onMouseOut,this,true);if(_e9){this.cfg.applyConfig(_e9,true);}this.cfg.fireQueue();};YAHOO.widget.MenuItem.prototype._onKeyDown=function(_ea,_eb,_ec){var _ed=_eb[0];switch(_ed.keyCode){case 38:case 40:var _ee=this.parent.activeItem;if(this==_ee&&!this.cfg.getProperty("selected")){this.cfg.setProperty("selected",true);}else{var _ef=(_ed.keyCode==38)?this.getPreviousEnabledSibling():this.getNextEnabledSibling();if(_ef){this.parent.clearActiveItem();_ef.cfg.setProperty("selected",true);_ef.focus();}}YAHOO.util.Event.preventDefault(_ed);break;case 39:this.parent.clearActiveItem();this.cfg.setProperty("selected",true);this.focus();var _f0=this.cfg.getProperty("submenu");if(_f0){_f0.show();_f0.setInitialSelection();}else{if(YAHOO.widget.MenuBarItem&&this.parent.parent&&this.parent.parent instanceof YAHOO.widget.MenuBarItem){this.parent.hide();var _f1=this.parent.parent;if(_f1){_f1.focus();_f1.cfg.setProperty("selected",true);}}}YAHOO.util.Event.preventDefault(_ed);break;case 37:if(this.parent.parent){this.parent.hide();var _f1=this.parent.parent;if(_f1){_f1.focus();_f1.cfg.setProperty("selected",true);}}YAHOO.util.Event.preventDefault(_ed);break;}};YAHOO.widget.MenuItem.prototype._onMouseOver=function(_f2,_f3,_f4){var _f5=this.parent.activeItem;if(_f5&&_f5!=this){this.parent.clearActiveItem();}this.cfg.setProperty("selected",true);this.focus();var _f6=this.cfg.getProperty("submenu");if(_f6){_f6.show();}};YAHOO.widget.MenuItem.prototype._onMouseOut=function(_f7,_f8,_f9){this.cfg.setProperty("selected",false);var _fa=this.cfg.getProperty("submenu");if(_fa){var _fb=_f8[0],oRelatedTarget=YAHOO.util.Event.getRelatedTarget(_fb);if(!(oRelatedTarget==_fa.element||this._oDom.isAncestor(_fa.element,oRelatedTarget))){_fa.hide();}}};YAHOO.widget.MenuBar=function(_fc,_fd){if(arguments.length>0){YAHOO.widget.MenuBar.superclass.constructor.call(this,_fc,_fd);}};YAHOO.widget.MenuBar.prototype=new YAHOO.widget.MenuModule();YAHOO.widget.MenuBar.prototype.constructor=YAHOO.widget.MenuBar;YAHOO.widget.MenuBar.superclass=YAHOO.widget.MenuModule.prototype;YAHOO.widget.MenuBar.prototype.init=function(_fe,_ff){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuBarItem;}YAHOO.widget.MenuBar.superclass.init.call(this,_fe);this.beforeInitEvent.fire(YAHOO.widget.MenuBar);if(!_ff||(_ff&&!_ff.position)){this.cfg.queueProperty("position","static");}if(!_ff||(_ff&&!_ff.submenualignment)){this.cfg.queueProperty("submenualignment",["tl","bl"]);}if(_ff){this.cfg.applyConfig(_ff,true);}this.initEvent.fire(YAHOO.widget.MenuBar);};YAHOO.widget.MenuBar.prototype.CSS_CLASS_NAME="yuimenubar";YAHOO.widget.MenuBarItem=function(_100,_101){if(_100){YAHOO.widget.MenuBarItem.superclass.constructor.call(this,_100,_101);}};YAHOO.widget.MenuBarItem.prototype=new YAHOO.widget.MenuModuleItem();YAHOO.widget.MenuBarItem.prototype.constructor=YAHOO.widget.MenuBarItem;YAHOO.widget.MenuBarItem.superclass=YAHOO.widget.MenuModuleItem.prototype;YAHOO.widget.MenuBarItem.prototype.init=function(_102,_103){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.MenuItem;}YAHOO.widget.MenuBarItem.superclass.init.call(this,_102);this.keyDownEvent.subscribe(this._onKeyDown,this,true);this.mouseOverEvent.subscribe(this._onMouseOver,this,true);this.mouseOutEvent.subscribe(this._onMouseOut,this,true);if(_103){this.cfg.applyConfig(_103,true);}this.cfg.fireQueue();};YAHOO.widget.MenuBarItem.prototype.CSS_CLASS_NAME="yuimenubaritem";YAHOO.widget.MenuBarItem.prototype.SUBMENU_INDICATOR_IMAGE_PATH="nt/ic/ut/bsc/menuarodwn9_nrm_1.gif";YAHOO.widget.MenuBarItem.prototype.SELECTED_SUBMENU_INDICATOR_IMAGE_PATH="nt/ic/ut/bsc/menuarodwn9_clk_1.gif";YAHOO.widget.MenuBarItem.prototype.DISABLED_SUBMENU_INDICATOR_IMAGE_PATH="nt/ic/ut/bsc/menuarodwn9_dim_1.gif";YAHOO.widget.MenuBarItem.prototype._onMouseOver=YAHOO.widget.MenuItem.prototype._onMouseOver;YAHOO.widget.MenuBarItem.prototype._onMouseOut=YAHOO.widget.MenuItem.prototype._onMouseOut;YAHOO.widget.MenuBarItem.prototype._onKeyDown=function(_104,_105,_106){var _107=_105[0];switch(_107.keyCode){case 37:case 39:var _108=this.parent.activeItem;if(this==_108&&!this.cfg.getProperty("selected")){this.cfg.setProperty("selected",true);}else{var _109=(_107.keyCode==37)?this.getPreviousEnabledSibling():this.getNextEnabledSibling();if(_109){this.parent.clearActiveItem();_109.cfg.setProperty("selected",true);_109.focus();}}YAHOO.util.Event.preventDefault(_107);break;case 40:this.parent.clearActiveItem();this.cfg.setProperty("selected",true);this.focus();var _10a=this.cfg.getProperty("submenu");if(_10a){_10a.show();_10a.setInitialSelection();}YAHOO.util.Event.preventDefault(_107);break;}};YAHOO.widget.ContextMenu=function(_10b,_10c){if(arguments.length>0){YAHOO.widget.ContextMenu.superclass.constructor.call(this,_10b,_10c);}};YAHOO.widget.ContextMenu.prototype=new YAHOO.widget.Menu();YAHOO.widget.ContextMenu.prototype.constructor=YAHOO.widget.ContextMenu;YAHOO.widget.ContextMenu.superclass=YAHOO.widget.Menu.prototype;YAHOO.widget.ContextMenu.prototype.init=function(_10d,_10e){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.ContextMenuItem;}YAHOO.widget.ContextMenu.superclass.init.call(this,_10d);this.beforeInitEvent.fire(YAHOO.widget.ContextMenu);if(_10e){this.cfg.applyConfig(_10e,true);}this.initEvent.fire(YAHOO.widget.ContextMenu);};YAHOO.widget.ContextMenu.prototype._onDocumentMouseDown=function(_10f,_110){var _111=this._oEventUtil.getTarget(_10f,true);if(_111!=this._oTargetElement||!this._oDom.isAncestor(this._oTargetElement,_111)){this.hide();}};YAHOO.widget.ContextMenu.prototype._onTriggerClick=function(_112,_113){if(_112.ctrlKey){this._oEventUtil.stopEvent(_112);}};YAHOO.widget.ContextMenu.prototype._onTriggerContextMenu=function(_114,_115){if(_114.type=="mousedown"){if(!_114.ctrlKey){return;}this._oEventUtil.stopEvent(_114);}this.contextEventTarget=this._oEventUtil.getTarget(_114,true);var nX=this._oEventUtil.getPageX(_114),nY=this._oEventUtil.getPageY(_114);this.cfg.applyConfig({x:nX,y:nY,visible:true});this.cfg.fireQueue();this._oEventUtil.preventDefault(_114);};YAHOO.widget.ContextMenu.prototype.contextEventTarget=null;YAHOO.widget.ContextMenu.prototype.initDefaultConfig=function(){YAHOO.widget.ContextMenu.superclass.initDefaultConfig.call(this);this.cfg.addProperty("trigger",{handler:this.configTrigger});};YAHOO.widget.ContextMenu.prototype.configTrigger=function(_117,_118,_119){var _11a=_118[0];if(_11a){var _11b=(this.browser=="opera");var _11c=_11b?"mousedown":"contextmenu";this._oEventUtil.addListener(_11a,_11c,this._onTriggerContextMenu,this,true);if(_11b){this._oEventUtil.addListener(_11a,"click",this._onTriggerClick,this,true);}this._oEventUtil.addListener(document,"mousedown",this._onDocumentMouseDown,this,true);}};YAHOO.widget.ContextMenuItem=function(_11d,_11e){if(_11d){YAHOO.widget.ContextMenuItem.superclass.constructor.call(this,_11d,_11e);}};YAHOO.widget.ContextMenuItem.prototype=new YAHOO.widget.MenuItem();YAHOO.widget.ContextMenuItem.prototype.constructor=YAHOO.widget.ContextMenuItem;YAHOO.widget.ContextMenuItem.superclass=YAHOO.widget.MenuItem.prototype;YAHOO.widget.ContextMenuItem.prototype.init=function(_11f,_120){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.ContextMenu;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.ContextMenuItem;}YAHOO.widget.ContextMenuItem.superclass.init.call(this,_11f);if(_120){this.cfg.applyConfig(_120,true);}this.cfg.fireQueue();};