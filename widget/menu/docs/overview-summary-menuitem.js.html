
<html>
<head>
	<title>JavaScript Documentation - menuitem.js</title>
	<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>

<body>

<div id="header">
	<h1>JavaScript Documentation</h1>
	<h3><a href="./index.html">Menu</a></h3>

	<div class="breadcrumbs">
					
			
			
			
				<a href="./index.html">Menu</a>
				&gt;
				<strong>menuitem.js</strong>
			
			
			
			
			
			
			
			
			
			
			
		
	</div>
</div>

<div id="body">
	
	
	<div class="nav">
		<div class="module resources">
			<ul class="content">
				<li><a href="overview-tree.html">Tree View</a></li>
				<li><a href="index-all.html">Element Index</a></li>
			</ul>
		</div>
		
		
			<div class="module">
				<h4><a href="./allclasses-noframe.html">Classes</a></h4>
				<ul class="content">
					
						<li>
							<a href="YAHOO.widget.html">
								YAHOO.widget</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.Menu.html">
								YAHOO.widget.Menu</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.MenuItem.html">
								YAHOO.widget.MenuItem</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.MenuManager.html">
								YAHOO.widget.MenuManager</a>
						</li>
					
				</ul>
			</div>
		
		
		
			<div class="module">
				<h4><a href="./overview-summary.html">Files</a></h4>
				<ul class="content">		
					
						<li>
							<a href="overview-summary-menu.js.html">
								menu.js</a>
						</li>
					
						<li>
							<a href="overview-summary-menuitem.js.html">
								menuitem.js</a>
						</li>
					
						<li>
							<a href="overview-summary-menumanager.js.html">
								menumanager.js</a>
						</li>
					
				</ul>
			</div>
		
	</div>
	
	<div class="main">
			
		
		
			
			   <h2>menuitem.js</h2>
			
			
				
					
				
				
				
<div class="meta">
	
	
	
	
	
	
	
	
	
	
		
	
	
	
	
	
	
</div>

			
		
		
		
		
			<div class="quick-links">
				<strong>Quick Links:</strong>&nbsp;
				
					
						<a href="#classSummary">Class Summary</a> |
					
					
				
				
				
					<a href="#source">Source Code</a>
				
			</div>
		
			
				<div class="section class summaries">
					 <h3><a name="classSummary">Class Summary</a> <span class="top">[<a href="#top">top</a>]</span></h3>
			
				<div class="content">
					<table border="1" cellpadding="3" cellspacing="0">
						
						<tr>
							<td class="name">
								<a href="YAHOO.widget.MenuItem.html">YAHOO.widget.MenuItem</a>
							</td>
							<td class="overview">The MenuItem class allows you to create and modify an item for an Menu.</td>
						</tr>
						
					</table>
				</div>
			</div>
		
		
		
		
		
		
		
			<div class="section source">
				<h3><a name="source">Souce Code</a> <span class="top">[<a href="#top">top</a>]</span></h3>
				<pre class="sourceview"><span class="comment">/*
Copyright (c) 2006, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
*/</span>

<span class="comment">/**
* <span class="attrib">@class</span> The MenuItem class allows you to create and modify an item for an Menu.
* <span class="attrib">@constructor</span>
* <span class="attrib">@param</span> {String/HTMLElement} p_oObject String or HTMLElement
* (either HTMLLIElement, HTMLOptGroupElement or HTMLOptionElement) of the
* source HTMLElement node.
* <span class="attrib">@param</span> {Object} p_oUserConfig The configuration object literal containing
* the configuration that should be set for this MenuItem. See configuration
* documentation for more details.
*/</span>
YAHOO.widget.MenuItem = <span class="reserved">function</span>(p_oObject, p_oUserConfig) {

    <span class="reserved">if</span>(p_oObject) {

        <span class="reserved">this</span>.init(p_oObject, p_oUserConfig);

    }

}

YAHOO.widget.MenuItem.<span class="reserved">prototype</span> = {
<span class="comment">
    // Constants</span>

    <span class="comment">/**
    * Constant representing the path to the image to be used for the submenu
    * arrow indicator.
    * <span class="attrib">@final</span>
    * <span class="attrib">@type</span> String
    */</span>
    SUBMENU_INDICATOR_IMAGE_URL:
        <span class="literal">"http://us.i1.yimg.com/us.yimg.com/i/nt/ic/ut/alt1/menuarorght9_nrm_1.gif"</span>,


    <span class="comment">/**
    * Constant representing the path to the image to be used for the submenu
    * arrow indicator when a MenuItem instance has focus.
    * <span class="attrib">@final</span>
    * <span class="attrib">@type</span> String
    */</span>
    FOCUSED_SUBMENU_INDICATOR_IMAGE_URL:
        <span class="literal">"http://us.i1.yimg.com/us.yimg.com/i/nt/ic/ut/alt1/menuarorght9_hov_1.gif"</span>,


    <span class="comment">/**
    * Constant representing the path to the image to be used for the submenu
    * arrow indicator when a MenuItem instance is disabled.
    * <span class="attrib">@final</span>
    * <span class="attrib">@type</span> String
    */</span>
    DISABLED_SUBMENU_INDICATOR_IMAGE_URL:
        <span class="literal">"http://us.i1.yimg.com/us.yimg.com/i/nt/ic/ut/alt1/menuarorght9_dim_1.gif"</span>,


    <span class="comment">/**
    * Constant representing the alt text for the image to be used for the
    * submenu arrow indicator.
    * <span class="attrib">@final</span>
    * <span class="attrib">@type</span> String
    */</span>
    COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT: <span class="literal">"Collapsed.  Click to expand."</span>,


    <span class="comment">/**
    * Constant representing the alt text for the image to be used for the
    * submenu arrow indicator when the submenu is visible.
    * <span class="attrib">@final</span>
    * <span class="attrib">@type</span> String
    */</span>
    EXPANDED_SUBMENU_INDICATOR_ALT_TEXT: <span class="literal">"Expanded.  Click to collapse."</span>,


    <span class="comment">/**
    * Constant representing the alt text for the image to be used for the
    * submenu arrow indicator when a MenuItem instance is disabled.
    * <span class="attrib">@final</span>
    * <span class="attrib">@type</span> String
    */</span>
    DISABLED_SUBMENU_INDICATOR_ALT_TEXT: <span class="literal">"Disabled."</span>,


    <span class="comment">/**
    * Used to identify a MenuItem instance's type as MenuItem since checking the
    * constructor property will not be reliable if MenuItem is subclassed.
    * <span class="attrib">@final</span>
    * <span class="attrib">@type</span> {Boolean}
    */</span>
    _MenuItem: true,
<span class="comment">

    // Public properties</span>

    <span class="comment">/**
    * Returns the ordinal position of a MenuItem instance relative to other
    * MenuItems inside it's parent Menu instance.
    * <span class="attrib">@type</span> Number
    */</span>
    index: null,


    <span class="comment">/**
    * Returns the parent Menu instance for a MenuItem instance.
    * <span class="attrib">@type</span> {YAHOO.widget.Menu}
    */</span>
    parent: null,


    <span class="comment">/**
    * Returns the HTMLLIElement for a MenuItem instance.
    * <span class="attrib">@type</span> {HTMLLIElement}
    */</span>
    element: null,


    <span class="comment">/**
    * Returns the HTMLElement (either HTMLLIElement, HTMLOptGroupElement or
    * HTMLOptionElement) used create the MenuItem instance.
    * <span class="attrib">@type</span> {HTMLLIElement/HTMLOptGroupElement/HTMLOptionElement}
    */</span>
    srcElement: null,


    <span class="comment">/**
    * Specifies an arbitrary value for a MenuItem instance.
    * <span class="attrib">@type</span> {Object}
    */</span>
    value: null,


    <span class="comment">/**
    * The MenuItem class's initialization method. This method is automatically
    * called by the constructor, and sets up all DOM references for
    * pre-existing markup, and creates required markup if it is not
    * already present.
    * <span class="attrib">@param</span> {String/HTMLElement} p_oObject String or HTMLElement
    * (either HTMLLIElement, HTMLOptGroupElement or HTMLOptionElement) of the
    * source HTMLElement node.
    * <span class="attrib">@param</span> {Object} p_oUserConfig The configuration object literal containing
    * the configuration that should be set for this MenuItem. See configuration
    * documentation for more details.
    */</span>
    init: <span class="reserved">function</span>(p_oObject, p_oUserConfig) {
<span class="comment">

        // Private member variables</span>

        <span class="comment">/**
        * Reference to the HTMLAnchorElement of the MenuItem's core internal
        * DOM structure.
        * <span class="attrib">@private</span>
        * <span class="attrib">@type</span> {HTMLAnchorElement}
        */</span>
        var m_oAnchor = null,

            <span class="comment">/**
            * Reference to the Text node of the MenuItem's core internal
            * DOM structure.
            * <span class="attrib">@private</span>
            * <span class="attrib">@type</span> {Text}
            */</span>
            m_oText = null,


            <span class="comment">/**
            * Reference to the HTMLElement (&lt;EM&gt;) used to create the optional
            * help text for a MenuItem instance.
            * <span class="attrib">@private</span>
            * <span class="attrib">@type</span> {HTMLElement}
            */</span>
            m_oHelpTextEM = null,


            <span class="comment">/**
            * Reference to the HTMLImageElement used to create the submenu
            * indicator for a MenuItem instance.
            * <span class="attrib">@private</span>
            * <span class="attrib">@type</span> {HTMLAnchorElement}
            */</span>
            m_oSubMenuIndicatorIMG = null,


            <span class="comment">/**
            * Reference to the submenu for a MenuItem instance.
            * <span class="attrib">@private</span>
            * <span class="attrib">@type</span> {YAHOO.widget.Menu}
            */</span>
            m_oSubMenu = null,


            <span class="comment">/**
            * Reference to the Dom utility singleton.
            * <span class="attrib">@private</span>
            * <span class="attrib">@type</span> {YAHOO.util.Dom}
            */</span>
            m_oDom = YAHOO.util.Dom,


            <span class="comment">/**
            * Reference to the Event utility singleton.
            * <span class="attrib">@private</span>
            * <span class="attrib">@type</span> {YAHOO.util.Event}
            */</span>
            m_oEventUtil = YAHOO.util.Event,


            <span class="comment">/**
            * String representing the user's browser's userAgent string.
            * <span class="attrib">@private</span>
            * <span class="attrib">@type</span> {String}
            */</span>
            m_sUserAgent = navigator.userAgent.toLowerCase(),


            <span class="comment">/**
            * String representing the user's browser.
            * <span class="attrib">@private</span>
            * <span class="attrib">@type</span> {String}
            */</span>
            m_sBrowser = <span class="reserved">function</span>() {

                var m_sUserAgent = navigator.userAgent.toLowerCase();

                <span class="reserved">if</span>(m_sUserAgent.indexOf(<span class="literal">"opera"</span>) != -1) {

                    <span class="reserved">return</span> <span class="literal">"opera"</span>;

                }
                <span class="reserved">else</span> <span class="reserved">if</span>(m_sUserAgent.indexOf(<span class="literal">"msie"</span>) != -1) {

                    <span class="reserved">return</span> <span class="literal">"ie"</span>;

                }
                <span class="reserved">else</span> <span class="reserved">if</span>(m_sUserAgent.indexOf(<span class="literal">"safari"</span>) != -1) {

                    <span class="reserved">return</span> <span class="literal">"safari"</span>;

                }
                <span class="reserved">else</span> <span class="reserved">if</span>(m_sUserAgent.indexOf(<span class="literal">"gecko"</span>) != -1) {

                    <span class="reserved">return</span> <span class="literal">"gecko"</span>;

                }
                <span class="reserved">else</span> {

                    <span class="reserved">return</span> false;

                }

            }(),


            <span class="comment">/**
            * Reference to the current context so that private methods have
            * access to class members.
            * <span class="attrib">@private</span>
            * <span class="attrib">@type</span> {YAHOO.widget.MenuItem}
            */</span>
            me = <span class="reserved">this</span>;
<span class="comment">

        // Private methods</span>

        <span class="comment">/**
        * Determines if an object is a string
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Object} p_oObject The object to be evaluated.
        * <span class="attrib">@return</span> Returns true if the object is a string.
        * <span class="attrib">@type</span> Boolean
        */</span>
        var checkString = <span class="reserved">function</span>(p_oObject) {

            <span class="reserved">return</span> (typeof p_oObject == <span class="literal">"string"</span>);

        };


        <span class="comment">/**
        * Determines if an object is an HTMLElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Object} p_oObject The object to be evaluated.
        * <span class="attrib">@return</span> Returns true if the object is an HTMLElement.
        * <span class="attrib">@type</span> Boolean
        */</span>
        var checkDOMNode = <span class="reserved">function</span>(p_oObject) {

            <span class="reserved">return</span> (p_oObject &amp;&amp; p_oObject.tagName);

        };


        <span class="comment">/**
        * Creates the core DOM structure for a MenuItem instance.
        * <span class="attrib">@private</span>
        */</span>
        var createRootNodeStructure = <span class="reserved">function</span>() {

            me.element = document.createElement(<span class="literal">"li"</span>);

            m_oText = document.createTextNode(<span class="literal">""</span>);

            m_oAnchor = document.createElement(<span class="literal">"a"</span>);
            m_oAnchor.appendChild(m_oText);

            me.cfg.refireEvent(<span class="literal">"url"</span>);

            me.element.appendChild(m_oAnchor);

        };


        <span class="comment">/**
        * Sets focus to the first MenuItem instance of a MenuItem
        * instances's submenu.
        * <span class="attrib">@private</span>
        */</span>
        var focusSubMenuFirstMenuItem = <span class="reserved">function</span>() {

            var oMenuItem;

            <span class="reserved">if</span>(m_oSubMenu.getSubMenus().length &gt; 0) {

                oMenuItem = m_oSubMenu.getSubMenu(0).getMenuItem(0);

            }
            <span class="reserved">else</span> {

                oMenuItem = m_oSubMenu.getMenuItem(0);

            }

            <span class="reserved">if</span>(oMenuItem) {

                oMenuItem.focus();

            }

        };


        <span class="comment">/**
        * Finds the next enabled MenuItem instance in a Menu instance
        * relative to the specified MenuItem index.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Number} p_nMenuItemIndex The index to begin the search.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu A Menu instance to search.
        * <span class="attrib">@return</span> Returns a MenuItem instance.
        * <span class="attrib">@type</span> YAHOO.widget.MenuItem
        */</span>
        var getNextEnabledMenuItem = <span class="reserved">function</span>(p_nMenuItemIndex, p_oMenu) {

            var oNextMenuItem;

            <span class="reserved">if</span>(
                p_nMenuItemIndex &lt; (p_oMenu.getMenuItems().length - 1)
            ) {

                oNextMenuItem = p_oMenu.getMenuItem((p_nMenuItemIndex+1));

            }
            <span class="reserved">else</span> {
<span class="comment">
                // Check if this Menu instance is a member of a group</span>

                var oParent = p_oMenu.parent;

                <span class="reserved">if</span>(oParent &amp;&amp; oParent._Menu) {

                    var oNextMenu, nNextMenuIndex;

                    <span class="reserved">if</span>(
                        p_oMenu.index &lt;
                        (oParent.getSubMenus().length - 1)
                    ) {

                        nNextMenuIndex = p_oMenu.index + 1;

                    }
                    <span class="reserved">else</span> {

                        nNextMenuIndex = 0;

                    }

                    oNextMenu = oParent.getSubMenu(nNextMenuIndex);

                    <span class="reserved">if</span>(oNextMenu) {

                        <span class="comment">/*
                            Retrieve the first MenuItem instance in
                            the next Menu
                        */</span>

                        oNextMenuItem = oNextMenu.getMenuItem(0);

                    }

                }
                <span class="reserved">else</span> {

                    <span class="comment">/*
                        Retrieve the first MenuItem instance in the next
                        parent Menu
                    */</span>

                    oNextMenuItem = p_oMenu.getMenuItem(0);

                }

            }


            <span class="reserved">if</span>(oNextMenuItem) {

                <span class="reserved">if</span>(oNextMenuItem.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                    <span class="reserved">return</span> getNextEnabledMenuItem(
                                oNextMenuItem.index,
                                oNextMenuItem.parent
                            );

                }
                <span class="reserved">else</span> {

                    <span class="reserved">return</span> oNextMenuItem;

                }

            }

        };


        <span class="comment">/**
        * Finds the previous enabled MenuItem instance in a Menu instance
        * relative to the specified MenuItem index.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Number} p_nMenuItemIndex The index to begin the search.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu A Menu instance to search.
        * <span class="attrib">@return</span> Returns a MenuItem instance.
        * <span class="attrib">@type</span> YAHOO.widget.MenuItem
        */</span>
        var getPreviousEnabledMenuItem = <span class="reserved">function</span>(p_nMenuItemIndex, p_oMenu) {

            var oPreviousMenuItem;

            <span class="reserved">if</span>(p_nMenuItemIndex &gt; 0) {

                oPreviousMenuItem = p_oMenu.getMenuItem((p_nMenuItemIndex-1));

            }
            <span class="reserved">else</span> {
<span class="comment">
                // Check if this Menu instance is a member of a group</span>

                var oParent = p_oMenu.parent;

                <span class="reserved">if</span>(oParent &amp;&amp; oParent._Menu) {

                    var oPreviousMenu, nPreviousMenuIndex;

                    <span class="reserved">if</span>(p_oMenu.index &gt; 0) {

                        nPreviousMenuIndex = p_oMenu.index - 1;

                    }
                    <span class="reserved">else</span> {

                        nPreviousMenuIndex = oParent.getSubMenus().length - 1;

                    }

                    oPreviousMenu = oParent.getSubMenu(nPreviousMenuIndex);

                    <span class="reserved">if</span>(oPreviousMenu) {

                        <span class="comment">/*
                            Retrieve the last MenuItem instance in
                            the previous Menu
                        */</span>

                        oPreviousMenuItem =
                            oPreviousMenu.getMenuItem(
                                (oPreviousMenu.getMenuItems().length - 1)
                            );

                    }

                }
                <span class="reserved">else</span> {
<span class="comment">
                    // Retrieve the last MenuItem instance in the parent Menu</span>

                    oPreviousMenuItem =
                        p_oMenu.getMenuItem(
                            (p_oMenu.getMenuItems().length - 1)
                        );

                }

            }

            <span class="reserved">if</span>(oPreviousMenuItem) {

                <span class="reserved">if</span>(oPreviousMenuItem.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                    <span class="reserved">return</span> getPreviousEnabledMenuItem(
                                oPreviousMenuItem.index,
                                oPreviousMenuItem.parent
                            );

                }
                <span class="reserved">else</span> {

                    <span class="reserved">return</span> oPreviousMenuItem;

                }

            }

        };


        <span class="comment">/**
        * Iterates the source element's childNodes collection and uses the
        * child nodes to instantiate Menu and MenuItem instances.
        * <span class="attrib">@private</span>
        */</span>
        var initSubTree = <span class="reserved">function</span>() {

            var aChildNodes = me.srcElement.childNodes,
                nChildNodes = aChildNodes.length,
                oMenuManager = YAHOO.widget.MenuManager,
                Menu = YAHOO.widget.Menu,
                MenuItem = YAHOO.widget.MenuItem;


            <span class="reserved">if</span>(nChildNodes &gt; 0) {

                var oNode,
                    aULs = [],
                    aOptions = [];

                <span class="reserved">for</span>(var i=0; i&lt;nChildNodes; i++) {

                    oNode = aChildNodes[i];

                    <span class="reserved">if</span>(oNode.nodeType == 1) {

                        switch(oNode.tagName) {

                            case <span class="literal">"DIV"</span>:

                                me.cfg.setProperty(
                                    <span class="literal">"submenu"</span>,
                                    (new Menu(oNode))
                                );

                            break;

                            case <span class="literal">"OPTION"</span>:

                                aOptions[aOptions.length] = oNode;

                            break;

                            case <span class="literal">"UL"</span>:

                                aULs[aULs.length] = oNode;

                            break;

                        }

                    }

                }


                <span class="reserved">if</span>(aOptions.length &gt; 0) {

                    me.cfg.setProperty(
                        <span class="literal">"submenu"</span>,
                        (new Menu(oMenuManager.createMenuId()))
                    );

                    var nOptions = aOptions.length;

                    <span class="reserved">for</span>(var n=0; n&lt;nOptions; n++) {

                        m_oSubMenu.addMenuItem((new MenuItem(aOptions[n])));

                    }

                }


                <span class="reserved">if</span>(aULs.length &gt; 0) {

                    <span class="reserved">if</span>(aULs.length &gt; 1) {

                        var oMenu = new Menu(oMenuManager.createMenuId()),
                            nULs = aULs.length;

                        <span class="reserved">for</span>(var n=0; n&lt;nULs; n++) {

                            oMenu.addSubMenu((new Menu(aULs[n])));

                        }

                        me.cfg.setProperty(
                            <span class="literal">"submenu"</span>,
                            oMenu
                        );

                    }
                    <span class="reserved">else</span> {

                        me.cfg.setProperty(
                            <span class="literal">"submenu"</span>,
                            (new Menu(aULs[0]))
                        );

                    }

                }

            }

        };
<span class="comment">

        // Private DOM event handlers</span>

        <span class="comment">/**
        * "mouseover" event handler for the MenuItem's HTMLLIElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLLIElement that fired the event.
        */</span>
        var onElementMouseOver = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                var oRelatedTarget = m_oEventUtil.getRelatedTarget(p_oEvent),
                    oNode = oRelatedTarget,
                    bElementMouseOver = true;


                <span class="reserved">if</span>(oNode) {

                    do {

                        <span class="reserved">if</span>(oNode == <span class="reserved">this</span>.element) {

                            bElementMouseOver = false;
                            break;

                        }

                        oNode = oNode.parentNode;

                    }
                    <span class="reserved">while</span>(oNode);

                }


                <span class="reserved">if</span>(bElementMouseOver) {

                    <span class="reserved">this</span>.focus();


                    <span class="reserved">if</span>(m_oSubMenu) {

                        <span class="reserved">this</span>.showSubMenu();

                    }

                    <span class="reserved">this</span>.mouseOverEvent.fire(p_oEvent);

                }

            }

        };


        <span class="comment">/**
        * "mouseout" event handler for the MenuItem's HTMLLIElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLLIElement that fired the event.
        */</span>
        var onElementMouseOut = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                var oRelatedTarget = m_oEventUtil.getRelatedTarget(p_oEvent),
                    oNode = oRelatedTarget,
                    bElementMouseOut = true,
                    bShowSubMenu = false;

                <span class="reserved">if</span>(oNode) {

                    do {

                        <span class="reserved">if</span>(m_oSubMenu &amp;&amp; oNode == m_oSubMenu.element) {

                            bShowSubMenu = true;

                        }

                        <span class="reserved">if</span>(oNode == <span class="reserved">this</span>.element) {

                            bElementMouseOut = false;
                            break;

                        }

                        oNode = oNode.parentNode;

                    }
                    <span class="reserved">while</span>(oNode);

                }

                <span class="reserved">if</span>(bElementMouseOut) {
<span class="comment">
                    // Real mouseout</span>

                    <span class="reserved">if</span>(m_oSubMenu &amp;&amp; m_oSubMenu.cfg.getProperty(<span class="literal">"visible"</span>)) {

                        m_oSubMenu.hide();

                    }

                    <span class="reserved">this</span>.blur();

                    <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"selected"</span>, false);

                    <span class="reserved">this</span>.mouseOutEvent.fire(p_oEvent);

                }
                <span class="reserved">else</span> <span class="reserved">if</span>(bShowSubMenu) {
<span class="comment">
                    // don't hide</span>

                    <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"selected"</span>, true);

                }

            }

        };


        <span class="comment">/**
        * "mousedown" event handler for the MenuItem's HTMLLIElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLLIElement that fired the event.
        */</span>
        var onElementMouseDown = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                <span class="reserved">this</span>.mouseDownEvent.fire(p_oEvent);

                <span class="reserved">return</span> true;

            }

        };


        <span class="comment">/**
        * "mouseup" event handler for the MenuItem's HTMLLIElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLLIElement that fired the event.
        */</span>
        var onElementMouseUp = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                <span class="reserved">this</span>.mouseUpEvent.fire(p_oEvent);

                <span class="reserved">return</span> true;

            }

        };


        <span class="comment">/**
        * "click" event handler for the MenuItem's HTMLLIElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLLIElement that fired the event.
        */</span>
        var onElementClick = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                var oTarget = m_oEventUtil.getTarget(p_oEvent, true),
                    sURL = <span class="reserved">this</span>.cfg.getProperty(<span class="literal">"url"</span>);


                <span class="reserved">if</span>(oTarget == m_oAnchor) {

                    <span class="reserved">if</span>(sURL &amp;&amp; sURL != <span class="literal">"#"</span>) {

                        <span class="reserved">return</span> true; // Needed to tell Safari to follow the link

                    }
                    <span class="reserved">else</span> {

                        m_oEventUtil.preventDefault(p_oEvent);

                        <span class="reserved">return</span> false;

                    }

                }
                <span class="reserved">else</span> {

                    <span class="reserved">if</span>(oTarget == m_oSubMenuIndicatorIMG) {

                        <span class="reserved">if</span>(m_oSubMenu.cfg.getProperty(<span class="literal">"visible"</span>)) {

                            <span class="reserved">this</span>.hideSubMenu();

                            <span class="reserved">this</span>.focus();

                        }
                        <span class="reserved">else</span> {

                            <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"selected"</span>, true);

                            <span class="reserved">this</span>.showSubMenu();

                            focusSubMenuFirstMenuItem();

                        }

                    }
                    <span class="reserved">else</span> <span class="reserved">if</span>(sURL &amp;&amp; sURL != <span class="literal">"#"</span>) {

                        document.location = sURL;

                    }

                }

                <span class="reserved">this</span>.clickEvent.fire(p_oEvent);

            }

        };


        <span class="comment">/**
        * "keydown" event handler for the MenuItem's HTMLAnchorElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLAnchorElement that fired the event.
        */</span>
        var onAnchorKeyDown = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                switch(p_oEvent.keyCode) {
<span class="comment">
                    // up arrow</span>

                    case 38:

                        var oMenuItem =
                            getPreviousEnabledMenuItem(
                                <span class="reserved">this</span>.index,
                                <span class="reserved">this</span>.parent
                            );

                        <span class="reserved">if</span>(oMenuItem) {

                            oMenuItem.focus();

                            <span class="comment">/*
                                Prevent the keydown event from scrolling the
                                window up
                            */</span>

                            m_oEventUtil.preventDefault(p_oEvent);

                        }

                    break;
<span class="comment">

                    // down arrow</span>

                    case 40:

                        var oMenuItem =
                            getNextEnabledMenuItem(
                                <span class="reserved">this</span>.index,
                                <span class="reserved">this</span>.parent
                            );

                        <span class="reserved">if</span>(oMenuItem) {

                            oMenuItem.focus();

                            <span class="comment">/*
                                Prevent the keydown event from scrolling the
                                window down
                            */</span>

                            m_oEventUtil.preventDefault(p_oEvent);

                        }

                    break;
<span class="comment">

                    // Right arrow</span>

                    case 39:

                        <span class="reserved">if</span>(m_oSubMenu) {

                            <span class="reserved">this</span>.showSubMenu();

                            focusSubMenuFirstMenuItem();

                            <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"selected"</span>, true);

                            <span class="comment">/*
                                Prevent the keydown event from scrolling the
                                window right
                            */</span>

                            m_oEventUtil.preventDefault(p_oEvent);

                        }

                    break;
<span class="comment">

                    // Left arrow and Esc key</span>

                    case 37:
                    case 27:

                        var oParentMenu = <span class="reserved">this</span>.parent;

                        <span class="reserved">if</span>(
                            oParentMenu.parent &amp;&amp;
                            oParentMenu.parent._Menu
                        ) {

                            oParentMenu = oParentMenu.parent;

                        }

                        <span class="reserved">if</span>(
                            oParentMenu.cfg.getProperty(<span class="literal">"position"</span>) ==
                                <span class="literal">"absolute"</span>
                        ) {

                            oParentMenu.hide();

                        }

                        var oMenuItem = oParentMenu.parent;

                        <span class="reserved">if</span>(oMenuItem) {

                            oMenuItem.cfg.setProperty(<span class="literal">"selected"</span>, true);
                            oMenuItem.focus();

                        }

                        m_oEventUtil.preventDefault(p_oEvent);

                    break;

                }

                <span class="reserved">this</span>.keyDownEvent.fire(p_oEvent);

            }

        };


        <span class="comment">/**
        * "keyup" event handler for the MenuItem's HTMLAnchorElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLAnchorElement that fired the event.
        */</span>
        var onAnchorKeyUp = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                <span class="reserved">this</span>.keyUpEvent.fire(p_oEvent);

            }

        };


        <span class="comment">/**
        * "keypress" event handler for the MenuItem's HTMLAnchorElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLAnchorElement that fired the event.
        */</span>
        var onAnchorKeyPress = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {
<span class="comment">
                // Prevent the navigation keys from scrolling the page</span>

                switch(p_oEvent.keyCode) {

                    case 27: // Esc
                    case 37: // Left
                    case 38: // Up
                    case 39: // Right
                    case 40: // Down

                        m_oEventUtil.preventDefault(p_oEvent);

                    break;

                }

                <span class="reserved">this</span>.keyPressEvent.fire(p_oEvent);

            }

        };


        <span class="comment">/**
        * "focus" event handler for the MenuItem's HTMLAnchorElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLAnchorElement that fired the event.
        */</span>
        var onAnchorFocus = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                var oParent = <span class="reserved">this</span>.parent.parent,
                    oActiveMenuItem;


                <span class="reserved">if</span>(oParent &amp;&amp; oParent._Menu) {

                    oActiveMenuItem = oParent.activeMenuItem;

                }
                <span class="reserved">else</span> {

                    oActiveMenuItem = <span class="reserved">this</span>.parent.activeMenuItem;

                }


                <span class="reserved">if</span>(oActiveMenuItem &amp;&amp; oActiveMenuItem != <span class="reserved">this</span>) {

                    <span class="reserved">if</span>(oActiveMenuItem.cfg.getProperty(<span class="literal">"selected"</span>)) {

                        oActiveMenuItem.cfg.setProperty(
                            <span class="literal">"selected"</span>,
                            false
                        );

                    }

                    var oSubMenu = oActiveMenuItem.cfg.getProperty(<span class="literal">"submenu"</span>);

                    <span class="reserved">if</span>(oSubMenu &amp;&amp; oSubMenu.cfg.getProperty(<span class="literal">"visible"</span>)) {

                        oSubMenu.hide();

                    }

                }
<span class="comment">
                // Deselect the MenuItem instance since an item should not</span>
<span class="comment">                // have both classes at once</span>
                <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"selected"</span>, false);

                m_oDom.addClass(<span class="reserved">this</span>.element, <span class="literal">"focus"</span>);
                m_oDom.addClass(m_oAnchor, <span class="literal">"focus"</span>);

                <span class="reserved">if</span>(m_oHelpTextEM) {

                    m_oDom.addClass(m_oHelpTextEM, <span class="literal">"focus"</span>);

                }

                <span class="reserved">if</span>(m_oSubMenu) {

                    m_oSubMenuIndicatorIMG.src =
                        <span class="reserved">this</span>.FOCUSED_SUBMENU_INDICATOR_IMAGE_URL;

                }

                <span class="reserved">this</span>.focusEvent.fire(p_oEvent);

            }

        };


        <span class="comment">/**
        * "blur" event handler for the MenuItem's HTMLAnchorElement.
        * <span class="attrib">@private</span>
        * <span class="attrib">@param</span> {Event} p_oEvent Event object passed back by the
        * event utility (YAHOO.util.Event).
        * <span class="attrib">@param</span> {YAHOO.widget.MenuItem} p_oMenuItem The MenuItem instance
        * corresponding to the HTMLAnchorElement that fired the event.
        */</span>
        var onAnchorBlur = <span class="reserved">function</span>(p_oEvent, p_oMenuItem) {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                m_oDom.removeClass(<span class="reserved">this</span>.element, <span class="literal">"focus"</span>);
                m_oDom.removeClass(m_oAnchor, <span class="literal">"focus"</span>);

                <span class="reserved">if</span>(m_oHelpTextEM) {

                    m_oDom.removeClass(m_oHelpTextEM, <span class="literal">"focus"</span>);

                }

                <span class="reserved">if</span>(m_oSubMenu &amp;&amp; !<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"selected"</span>)) {

                    m_oSubMenuIndicatorIMG.src =
                        <span class="reserved">this</span>.SUBMENU_INDICATOR_IMAGE_URL;

                }

                <span class="reserved">this</span>.blurEvent.fire(p_oEvent);

            }

        };
<span class="comment">

        // Event handlers for configuration properties</span>

        <span class="comment">/**
        * Event handler for when the "text" configuration property of
        * a MenuItem instance changes.
        * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
        * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the
        * event was fired.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance fired the event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.configText = <span class="reserved">function</span>(p_sType, p_aArguments, p_oObject) {

            var sText = p_aArguments[0];


            <span class="reserved">if</span>(m_oText) {

                m_oText.nodeValue = sText;

            }

        };


        <span class="comment">/**
        * Event handler for when the "helptext" configuration property of
        * a MenuItem instance changes.
        * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
        * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the
        * event was fired.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance fired the event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.configHelpText = <span class="reserved">function</span>(p_sType, p_aArguments, p_oObject) {

            var oHelpText = p_aArguments[0];


            var initHelpText = <span class="reserved">function</span>() {

                m_oDom.addClass(me.element, <span class="literal">"hashelptext"</span>);
                m_oDom.addClass(m_oAnchor, <span class="literal">"hashelptext"</span>);

                <span class="reserved">if</span>(me.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                    me.cfg.refireEvent(<span class="literal">"disabled"</span>);

                }

                <span class="reserved">if</span>(me.cfg.getProperty(<span class="literal">"selected"</span>)) {

                    me.cfg.refireEvent(<span class="literal">"selected"</span>);

                }

            };

            var removeHelpText = <span class="reserved">function</span>() {

                m_oDom.removeClass(me.element, <span class="literal">"hashelptext"</span>);
                m_oDom.removeClass(m_oAnchor, <span class="literal">"hashelptext"</span>);

                me.element.removeChild(m_oHelpTextEM);
                m_oHelpTextEM = null;

            };


            <span class="reserved">if</span>(checkDOMNode(oHelpText)) {

                <span class="reserved">if</span>(m_oHelpTextEM) {

                    var oParentNode = m_oHelpTextEM.parentNode;
                    oParentNode.replaceChild(oHelpText, m_oHelpTextEM);

                }
                <span class="reserved">else</span> {

                    m_oHelpTextEM = oHelpText;

                    <span class="reserved">this</span>.element.insertBefore(
                        m_oHelpTextEM,
                        m_oSubMenuIndicatorIMG
                    );

                }

                initHelpText();

            }
            <span class="reserved">else</span> <span class="reserved">if</span>(checkString(oHelpText)) {

                <span class="reserved">if</span>(oHelpText.length == 0) {

                    removeHelpText();

                }
                <span class="reserved">else</span> {

                    <span class="reserved">if</span>(!m_oHelpTextEM) {

                        m_oHelpTextEM = document.createElement(<span class="literal">"em"</span>);

                        <span class="reserved">this</span>.element.insertBefore(
                            m_oHelpTextEM,
                            m_oSubMenuIndicatorIMG
                        );

                    }

                    m_oHelpTextEM.innerHTML = oHelpText;

                    initHelpText();

                }

            }
            <span class="reserved">else</span> <span class="reserved">if</span>(!oHelpText &amp;&amp; m_oHelpTextEM) {

                removeHelpText();

            }

        };


        <span class="comment">/**
        * Event handler for when the "url" configuration property of
        * a MenuItem instance changes.
        * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
        * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the
        * event was fired.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance fired the event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.configURL = <span class="reserved">function</span>(p_sType, p_aArguments, p_oObject) {

            var sURL = p_aArguments[0];

            <span class="reserved">if</span>(!sURL) {

                sURL = <span class="literal">"#"</span>;

            }

            m_oAnchor.setAttribute(<span class="literal">"href"</span>, sURL);

        };


        <span class="comment">/**
        * Event handler for when the "emphasis" configuration property of
        * a MenuItem instance changes.
        * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
        * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the
        * event was fired.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance fired the event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.configEmphasis = <span class="reserved">function</span>(p_sType, p_aArguments, p_oObject) {

            var bEmphasis = p_aArguments[0];


            <span class="reserved">if</span>(bEmphasis &amp;&amp; <span class="reserved">this</span>.cfg.getProperty(<span class="literal">"strongemphasis"</span>)) {

                <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"strongemphasis"</span>, false);

            }


            <span class="reserved">if</span>(m_oAnchor) {

                var oEM;

                <span class="reserved">if</span>(bEmphasis) {

                    oEM = document.createElement(<span class="literal">"em"</span>);
                    oEM.appendChild(m_oText);

                    m_oAnchor.appendChild(oEM);

                }
                <span class="reserved">else</span> {

                    <span class="reserved">if</span>(
                        m_oAnchor.firstChild &amp;&amp;
                        m_oAnchor.firstChild.nodeType == 1 &amp;&amp;
                        m_oAnchor.firstChild.tagName == <span class="literal">"EM"</span>
                    ) {

                        oEM = m_oAnchor.firstChild;

                    }
                    <span class="reserved">else</span> <span class="reserved">if</span>(
                        m_oAnchor.childNodes[1] &amp;&amp;
                        m_oAnchor.childNodes[1].nodeType == 1 &amp;&amp;
                        m_oAnchor.childNodes[1].tagName == <span class="literal">"EM"</span>
                    ) {

                        oEM = m_oAnchor.childNodes[1];

                    }


                    m_oAnchor.removeChild(oEM);
                    m_oAnchor.appendChild(m_oText);

                }

            }

        };


        <span class="comment">/**
        * Event handler for when the "strongemphasis" configuration property of
        * a MenuItem instance changes.
        * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
        * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the
        * event was fired.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance fired the event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.configStrongEmphasis = <span class="reserved">function</span>(p_sType, p_aArguments, p_oObject) {

            var bStrongEmphasis = p_aArguments[0];


            <span class="reserved">if</span>(bStrongEmphasis &amp;&amp; <span class="reserved">this</span>.cfg.getProperty(<span class="literal">"emphasis"</span>)) {

                <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"emphasis"</span>, false);

            }

            <span class="reserved">if</span>(m_oAnchor) {

                var oStrong;

                <span class="reserved">if</span>(bStrongEmphasis) {

                    oStrong = document.createElement(<span class="literal">"strong"</span>);
                    oStrong.appendChild(m_oText);

                    m_oAnchor.appendChild(oStrong);

                }
                <span class="reserved">else</span> {

                    <span class="reserved">if</span>(
                        m_oAnchor.firstChild &amp;&amp;
                        m_oAnchor.firstChild.nodeType == 1 &amp;&amp;
                        m_oAnchor.firstChild.tagName == <span class="literal">"STRONG"</span>
                    ) {

                        oStrong = m_oAnchor.firstChild;

                    }
                    <span class="reserved">else</span> <span class="reserved">if</span>(
                        m_oAnchor.childNodes[1] &amp;&amp;
                        m_oAnchor.childNodes[1].nodeType == 1 &amp;&amp;
                        m_oAnchor.childNodes[1].tagName == <span class="literal">"STRONG"</span>
                    ) {

                        oStrong = m_oAnchor.childNodes[1];

                    }

                    m_oAnchor.removeChild(oStrong);
                    m_oAnchor.appendChild(m_oText);

                }

            }

        };


        <span class="comment">/**
        * Event handler for when the "disabled" configuration property of
        * a MenuItem instance changes.
        * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
        * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the
        * event was fired.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance fired the event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.configDisabled = <span class="reserved">function</span>(p_sType, p_aArguments, p_oObject) {

            var bDisabled = p_aArguments[0];


            <span class="reserved">if</span>(bDisabled) {

                <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"selected"</span>, false);

                m_oAnchor.removeAttribute(<span class="literal">"href"</span>);
                m_oAnchor.removeAttribute(<span class="literal">"tabIndex"</span>);

                m_oDom.addClass(<span class="reserved">this</span>.element, <span class="literal">"disabled"</span>);
                m_oDom.addClass(m_oAnchor, <span class="literal">"disabled"</span>);

                <span class="reserved">if</span>(m_oHelpTextEM) {

                    m_oDom.addClass(m_oHelpTextEM, <span class="literal">"disabled"</span>);

                }

                <span class="reserved">if</span>(m_oSubMenuIndicatorIMG) {

                    m_oSubMenuIndicatorIMG.src =
                        <span class="reserved">this</span>.DISABLED_SUBMENU_INDICATOR_IMAGE_URL;

                    m_oSubMenuIndicatorIMG.alt =
                        <span class="reserved">this</span>.DISABLED_SUBMENU_INDICATOR_ALT_TEXT;

                }

            }
            <span class="reserved">else</span> {

                m_oAnchor.setAttribute(
                    <span class="literal">"href"</span>,
                    <span class="reserved">this</span>.cfg.getProperty(<span class="literal">"url"</span>)
                );

                m_oAnchor.setAttribute(<span class="literal">"tabIndex"</span>, 0);

                m_oDom.removeClass(<span class="reserved">this</span>.element, <span class="literal">"disabled"</span>);
                m_oDom.removeClass(m_oAnchor, <span class="literal">"disabled"</span>);

                <span class="reserved">if</span>(m_oHelpTextEM) {

                    m_oDom.removeClass(m_oHelpTextEM, <span class="literal">"disabled"</span>);

                }

                <span class="reserved">if</span>(m_oSubMenuIndicatorIMG) {

                    m_oSubMenuIndicatorIMG.src =
                        <span class="reserved">this</span>.SUBMENU_INDICATOR_IMAGE_URL;

                    m_oSubMenuIndicatorIMG.alt =
                        <span class="reserved">this</span>.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;

                }

            }

        };


        <span class="comment">/**
        * Event handler for when the "selected" configuration property of
        * a MenuItem instance changes.
        * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
        * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the
        * event was fired.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance fired the event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.configSelected = <span class="reserved">function</span>(p_sType, p_aArguments, p_oObject) {

            var bSelected = p_aArguments[0];


            <span class="reserved">if</span>(bSelected) {

                m_oDom.addClass(<span class="reserved">this</span>.element, <span class="literal">"selected"</span>);
                m_oDom.addClass(m_oAnchor, <span class="literal">"selected"</span>);

                <span class="reserved">if</span>(m_oHelpTextEM) {

                    m_oDom.addClass(m_oHelpTextEM, <span class="literal">"selected"</span>);

                }

                <span class="reserved">if</span>(m_oSubMenuIndicatorIMG) {

                    m_oSubMenuIndicatorIMG.src =
                        <span class="reserved">this</span>.FOCUSED_SUBMENU_INDICATOR_IMAGE_URL;

                }

            }
            <span class="reserved">else</span> {

                m_oDom.removeClass(<span class="reserved">this</span>.element, <span class="literal">"selected"</span>);
                m_oDom.removeClass(m_oAnchor, <span class="literal">"selected"</span>);

                <span class="reserved">if</span>(m_oHelpTextEM) {

                    m_oDom.removeClass(m_oHelpTextEM, <span class="literal">"selected"</span>);

                }

                <span class="reserved">if</span>(m_oSubMenuIndicatorIMG) {

                    m_oSubMenuIndicatorIMG.src =
                        <span class="reserved">this</span>.SUBMENU_INDICATOR_IMAGE_URL;

                }

            }


        };


        <span class="comment">/**
        * Event handler for when the "submenu" configuration property of
        * a MenuItem instance changes.
        * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
        * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the
        * event was fired.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance fired the event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.configSubMenu = <span class="reserved">function</span>(p_sType, p_aArguments, p_oObject) {

            var oMenu = p_aArguments[0];

            <span class="reserved">if</span>(oMenu) {

                oMenu.parent = <span class="reserved">this</span>;

                m_oSubMenu = oMenu;

                m_oDom.addClass(<span class="reserved">this</span>.element, <span class="literal">"hassubmenu"</span>);
                m_oDom.addClass(m_oAnchor, <span class="literal">"hassubmenu"</span>);

                <span class="reserved">if</span>(!m_oSubMenuIndicatorIMG) {

                    m_oSubMenuIndicatorIMG = document.createElement(<span class="literal">"img"</span>);

                    <span class="reserved">this</span>.element.appendChild(m_oSubMenuIndicatorIMG);

                    m_oSubMenuIndicatorIMG.src =
                        <span class="reserved">this</span>.SUBMENU_INDICATOR_IMAGE_URL;

                    m_oSubMenuIndicatorIMG.alt =
                        <span class="reserved">this</span>.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;

                    <span class="reserved">if</span>(<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>)) {

                        <span class="reserved">this</span>.cfg.refireEvent(<span class="literal">"disabled"</span>);

                    }

                    <span class="reserved">if</span>(<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"selected"</span>)) {

                        <span class="reserved">this</span>.cfg.refireEvent(<span class="literal">"selected"</span>);

                    }

                }

                <span class="reserved">if</span>(!m_oSubMenu.element.parentNode) {

                    <span class="reserved">this</span>.element.appendChild(m_oSubMenu.element);

                }

            }
            <span class="reserved">else</span> {

                m_oDom.removeClass(<span class="reserved">this</span>.element, <span class="literal">"hassubmenu"</span>);
                m_oDom.removeClass(oAnchor, <span class="literal">"hassubmenu"</span>);

                <span class="reserved">if</span>(m_oSubMenuIndicatorIMG) {

                    <span class="reserved">this</span>.element.removeChild(m_oSubMenuIndicatorIMG);

                }

                <span class="reserved">if</span>(m_oSubMenu) {

                    <span class="reserved">this</span>.element.removeChild(m_oSubMenu);

                }

            }

        };


        <span class="comment">/**
        * Causes a MenuItem instance to receive the focus and fires the
        * focus event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.focus = <span class="reserved">function</span>() {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>) &amp;&amp; m_oAnchor) {

                m_oAnchor.focus();

                <span class="reserved">if</span>(
                    m_sBrowser == <span class="literal">"opera"</span> &amp;&amp;
                    m_sUserAgent.indexOf(<span class="literal">"8.5"</span>) != -1
                ) {

                    var oEvent = document.createEvent(<span class="literal">"UIEvents"</span>);
                    oEvent.initUIEvent(<span class="literal">"focus"</span>, true, false, window, null);

                    m_oAnchor.dispatchEvent(oEvent);

                }


            }

        };


        <span class="comment">/**
        * Causes a MenuItem instance to lose focus and fires the onblur event.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.blur = <span class="reserved">function</span>() {

            <span class="reserved">if</span>(!<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"disabled"</span>) &amp;&amp; m_oAnchor) {

                m_oAnchor.blur();

                <span class="reserved">if</span>(
                    m_sBrowser == <span class="literal">"opera"</span> &amp;&amp;
                    m_sUserAgent.indexOf(<span class="literal">"8.5"</span>) != -1
                ) {

                    var oEvent = document.createEvent(<span class="literal">"UIEvents"</span>);
                    oEvent.initUIEvent(<span class="literal">"blur"</span>, true, false, window, null);

                    m_oAnchor.dispatchEvent(oEvent);

                }

            }

        };


        <span class="comment">/**
        * Displays the submenu for a MenuItem instance.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.showSubMenu = <span class="reserved">function</span>() {

            <span class="reserved">if</span>(m_oSubMenu) {

                var aMenuItemPosition = m_oDom.getXY(<span class="reserved">this</span>.element),
                    aSubMenuPosition = [];
<span class="comment">

                // Calculate the x position</span>

                aSubMenuPosition[0] =
                    (aMenuItemPosition[0] + <span class="reserved">this</span>.element.offsetWidth);
<span class="comment">

                // Calculate the y position</span>

                aSubMenuPosition[1] = aMenuItemPosition[1];
<span class="comment">

                // Position the menu</span>

                m_oSubMenu.cfg.setProperty(<span class="literal">"xy"</span>, aSubMenuPosition);

                m_oSubMenu.show();

                m_oSubMenuIndicatorIMG.alt =
                    <span class="reserved">this</span>.EXPANDED_SUBMENU_INDICATOR_ALT_TEXT;

            }

        };


        <span class="comment">/**
        * Displays the submenu for a MenuItem instance.
        */</span>
        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.hideSubMenu = <span class="reserved">function</span>() {

            <span class="reserved">if</span>(m_oSubMenu) {

                m_oSubMenuIndicatorIMG.alt =
                    <span class="reserved">this</span>.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;

                m_oSubMenu.hide();

            }

        };
<span class="comment">

        // Begin constructor logic</span>
<span class="comment">

        // Create the config object</span>

        YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.cfg = new YAHOO.util.Config(<span class="reserved">this</span>);
<span class="comment">

        // Define the config properties</span>

        <span class="reserved">this</span>.cfg.addProperty(<span class="literal">"text"</span>, null, <span class="reserved">this</span>.configText, checkString);

        <span class="reserved">this</span>.cfg.addProperty(<span class="literal">"helptext"</span>, null, <span class="reserved">this</span>.configHelpText);

        <span class="reserved">this</span>.cfg.addProperty(<span class="literal">"url"</span>, <span class="literal">"#"</span>, <span class="reserved">this</span>.configURL);

        <span class="reserved">this</span>.cfg.addProperty(
            <span class="literal">"emphasis"</span>,
            false,
            <span class="reserved">this</span>.configEmphasis,
            <span class="reserved">this</span>.cfg.checkBoolean
        );

        <span class="reserved">this</span>.cfg.addProperty(
            <span class="literal">"strongemphasis"</span>,
            false,
            <span class="reserved">this</span>.configStrongEmphasis,
            <span class="reserved">this</span>.cfg.checkBoolean
        );

        <span class="reserved">this</span>.cfg.addProperty(
            <span class="literal">"disabled"</span>,
            false,
            <span class="reserved">this</span>.configDisabled,
            <span class="reserved">this</span>.cfg.checkBoolean
        );

        <span class="reserved">this</span>.cfg.addProperty(
            <span class="literal">"selected"</span>,
            false,
            <span class="reserved">this</span>.configSelected,
            <span class="reserved">this</span>.cfg.checkBoolean
        );

        <span class="reserved">this</span>.cfg.addProperty(<span class="literal">"submenu"</span>, null, <span class="reserved">this</span>.configSubMenu);

        <span class="reserved">this</span>.cfg.addProperty(
            <span class="literal">"initsubmenus"</span>,
            ((p_oUserConfig &amp;&amp; (!p_oUserConfig.initsubmenus)) ? false : true)
        );


        <span class="reserved">if</span>(checkString(p_oObject)) {

            createRootNodeStructure();

            <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"text"</span>, p_oObject);

        }
        <span class="reserved">else</span> <span class="reserved">if</span>(checkDOMNode(p_oObject)) {

            switch(p_oObject.tagName) {

                case <span class="literal">"OPTION"</span>:

                    createRootNodeStructure();

                    <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"text"</span>, p_oObject.text);
                    <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"value"</span>, p_oObject.value);

                    <span class="reserved">this</span>.srcElement = p_oObject;

                    <span class="reserved">if</span>(p_oObject.disabled || p_oObject.parentNode.disabled) {

                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"disabled"</span>, true);

                    }

                    <span class="reserved">if</span>(p_oObject.selected) {

                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"selected"</span>, true);

                    }

                break;

                case <span class="literal">"OPTGROUP"</span>:

                    createRootNodeStructure();

                    <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"text"</span>, p_oObject.label);

                    <span class="reserved">this</span>.srcElement = p_oObject;

                    <span class="reserved">if</span>(p_oObject.disabled || p_oObject.parentNode.disabled) {

                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"disabled"</span>, true);

                    }

                    <span class="reserved">if</span>(<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"initsubmenus"</span>)) {

                        initSubTree();

                    }

                break;

                case <span class="literal">"LI"</span>:
<span class="comment">
                    // Get the anchor node (if it exists)</span>

                    var oAnchor = null,
                        sURL = null,
                        sText = null;

                    <span class="reserved">if</span>(
                        p_oObject.firstChild &amp;&amp;
                        p_oObject.firstChild.nodeType == 1 &amp;&amp;
                        p_oObject.firstChild.tagName == <span class="literal">"A"</span>
                    ) {

                        oAnchor = p_oObject.firstChild;

                    }
                    <span class="reserved">else</span> <span class="reserved">if</span>(
                        p_oObject.childNodes[1] &amp;&amp;
                        p_oObject.childNodes[1].nodeType == 1 &amp;&amp;
                        p_oObject.childNodes[1].tagName == <span class="literal">"A"</span>
                    ) {

                        oAnchor = p_oObject.childNodes[1];

                    }
<span class="comment">

                    // Capture the "text" and/or the "URL"</span>

                    <span class="reserved">if</span>(oAnchor) {

                        sURL = oAnchor.getAttribute(<span class="literal">"href"</span>);

                        <span class="reserved">if</span>(oAnchor.innerText) {

                            sText = oAnchor.innerText;

                        }
                        <span class="reserved">else</span> {

                            var oRange =
                                oAnchor.ownerDocument.createRange();

                            oRange.selectNodeContents(oAnchor);

                            sText = oRange.toString();

                        }

                    }
                    <span class="reserved">else</span> {

                        sText = p_oObject.firstChild.nodeValue;

                    }


                    <span class="reserved">this</span>.srcElement = p_oObject;
<span class="comment">

                    // Check for the "bring your own HTML" scenario</span>

                    <span class="reserved">if</span>(
                        oAnchor &amp;&amp;
                        p_oObject.parentNode &amp;&amp; // UL check
<span class="comment">
                        // body node check</span>
                        p_oObject.parentNode.parentNode &amp;&amp;
                        p_oObject.parentNode.parentNode.tagName == <span class="literal">"DIV"</span> &amp;&amp;
                        m_oDom.hasClass(
                            p_oObject.parentNode.parentNode,
                            <span class="literal">"bd"</span>
                        ) &amp;&amp;
<span class="comment">
                        // Root node check</span>
                        p_oObject.parentNode.parentNode.parentNode &amp;&amp;
                        p_oObject.parentNode.parentNode.parentNode.tagName == <span class="literal">"DIV"</span> &amp;&amp;
                        m_oDom.hasClass(
                            p_oObject.parentNode.parentNode.parentNode,
                            <span class="literal">"yuimenu"</span>
                        )
                    ) {

                        <span class="reserved">this</span>.element = p_oObject;
                        m_oAnchor = oAnchor;


                        <span class="comment">/*
                            Remove the "focus" class since a MenuItem cannot
                            be focused by default
                        */</span>

                        m_oDom.removeClass(<span class="reserved">this</span>.element, <span class="literal">"focus"</span>);
                        m_oDom.removeClass(oAnchor, <span class="literal">"focus"</span>);
<span class="comment">

                        // Check to see if the MenuItem is disabled</span>

                        var bDisabled =
                            m_oDom.hasClass(<span class="reserved">this</span>.element, <span class="literal">"disabled"</span>);


                        <span class="comment">/*
                            Check to see if the MenuItem should be selected
                            by default
                        */</span>

                        var bSelected =
                            m_oDom.hasClass(<span class="reserved">this</span>.element, <span class="literal">"selected"</span>);
<span class="comment">

                        // Check if emphasis has been applied to the MenuItem</span>

                        var oEmphasisNode; // Either EM or STRONG

                        <span class="reserved">if</span>(
                            oAnchor.firstChild &amp;&amp;
                            oAnchor.firstChild.nodeType == 1
                        ) {

                            oEmphasisNode = oAnchor.firstChild;

                        }
                        <span class="reserved">else</span> <span class="reserved">if</span>(
                            oAnchor.childNodes[1] &amp;&amp;
                            oAnchor.childNodes[1].nodeType == 1
                        ) {

                            oEmphasisNode = oAnchor.childNodes[1];

                        }
<span class="comment">

                        // Determine if the MenuItem has emphasis</span>

                        var bEmphasis = false,
                            bStrongEmphasis = false;

                        <span class="reserved">if</span>(oEmphasisNode) {
<span class="comment">
                            // Set a reference to the text node</span>

                            m_oText = oEmphasisNode.firstChild;

                            switch(oEmphasisNode.tagName) {

                                case <span class="literal">"EM"</span>:

                                    bEmphasis = true;

                                break;

                                case <span class="literal">"STRONG"</span>:

                                    bStrongEmphasis = true;

                                break;

                            }

                        }
                        <span class="reserved">else</span> {
<span class="comment">
                            // Set a reference to the text node</span>

                            m_oText = oAnchor.firstChild;

                        }
<span class="comment">

                        // Check for the "help text" node (EM)</span>

                        var oHelpText = null;

                        <span class="reserved">if</span>(
                            oAnchor.nextSibling &amp;&amp;
                            oAnchor.nextSibling.nodeType == 1 &amp;&amp;
                            oAnchor.nextSibling.tagName == <span class="literal">"EM"</span>
                        ) {

                            oHelpText = oAnchor.nextSibling;

                        }
                        <span class="reserved">else</span> <span class="reserved">if</span>(
                            oAnchor.nextSibling &amp;&amp;
                            oAnchor.nextSibling.nextSibling &amp;&amp;
                            oAnchor.nextSibling.nextSibling.nodeType == 1 &amp;&amp;
                            oAnchor.nextSibling.nextSibling.tagName == <span class="literal">"EM"</span>
                        ) {

                            oHelpText =  oAnchor.nextSibling.nextSibling

                        }


                        <span class="reserved">if</span>(oHelpText) {

                            m_oHelpTextEM = oHelpText;

                            <span class="comment">/*
                                Propagate the "hashelptext" class to the LI and
                                anchor if it isn't already applied
                            */</span>

                            m_oDom.addClass(<span class="reserved">this</span>.element, <span class="literal">"hashelptext"</span>);
                            m_oDom.addClass(oAnchor, <span class="literal">"hashelptext"</span>);


                            <span class="comment">/*
                                Remove the "focus" class if it exists because
                                MenuItems cannot be focused by default
                            */</span>

                            m_oDom.removeClass(oHelpText, <span class="literal">"focus"</span>);

                        }
                        <span class="reserved">else</span> {

                            <span class="comment">/*
                                Remove the "hashelptext" class if it exists but
                                there is no help text present
                            */</span>

                            m_oDom.removeClass(<span class="reserved">this</span>.element, <span class="literal">"hashelptext"</span>);
                            m_oDom.removeClass(oAnchor, <span class="literal">"hashelptext"</span>);

                        }


                        <span class="comment">/*
                            Set these properties silently to sync up the
                            configuration object without making changes to the
                            element's DOM
                        */</span>

                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"text"</span>, sText, true);
                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"helptext"</span>, oHelpText, true);
                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"url"</span>, sURL, true);
                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"emphasis"</span>, bEmphasis, true);
                        <span class="reserved">this</span>.cfg.setProperty(
                            <span class="literal">"strongemphasis"</span>,
                            bStrongEmphasis,
                            true
                        );


                        <span class="comment">/*
                            The "selected" and "disabled" properties are not set
                            silently to ensure that the associated class names
                            are applied correctly to the DOM elements
                        */</span>

                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"selected"</span>, bSelected);
                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"disabled"</span>, bDisabled);

                    }
                    <span class="reserved">else</span> {

                        createRootNodeStructure();

                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"text"</span>, sText);
                        <span class="reserved">this</span>.cfg.setProperty(<span class="literal">"url"</span>, sURL);

                    }

                    <span class="reserved">if</span>(<span class="reserved">this</span>.cfg.getProperty(<span class="literal">"initsubmenus"</span>)) {

                        initSubTree();

                    }

                break;

            }

        }


        <span class="reserved">if</span>(<span class="reserved">this</span>.element) {

            m_oEventUtil.addListener(
                <span class="reserved">this</span>.element,
                <span class="literal">"mouseover"</span>,
                onElementMouseOver,
                <span class="reserved">this</span>,
                true
            );

            m_oEventUtil.addListener(
                <span class="reserved">this</span>.element,
                <span class="literal">"mouseout"</span>,
                onElementMouseOut,
                <span class="reserved">this</span>,
                true
            );

            m_oEventUtil.addListener(
                <span class="reserved">this</span>.element,
                <span class="literal">"mousedown"</span>,
                onElementMouseDown,
                <span class="reserved">this</span>,
                true
            );

            m_oEventUtil.addListener(
                <span class="reserved">this</span>.element,
                <span class="literal">"mouseup"</span>,
                onElementMouseUp,
                <span class="reserved">this</span>,
                true
            );

            m_oEventUtil.addListener(
                <span class="reserved">this</span>.element,
                <span class="literal">"click"</span>,
                onElementClick,
                <span class="reserved">this</span>,
                true
            );

            m_oEventUtil.addListener(
                m_oAnchor,
                <span class="literal">"keydown"</span>,
                onAnchorKeyDown,
                <span class="reserved">this</span>,
                true
            );

            m_oEventUtil.addListener(
                m_oAnchor,
                <span class="literal">"keyup"</span>,
                onAnchorKeyUp,
                <span class="reserved">this</span>,
                true
            );

            m_oEventUtil.addListener(
                m_oAnchor,
                <span class="literal">"keypress"</span>,
                onAnchorKeyPress,
                <span class="reserved">this</span>,
                true
            );

            m_oEventUtil.addListener(
                m_oAnchor,
                <span class="literal">"focus"</span>,
                onAnchorFocus,
                <span class="reserved">this</span>,
                true
            );

            m_oEventUtil.addListener(
                m_oAnchor,
                <span class="literal">"blur"</span>,
                onAnchorBlur,
                <span class="reserved">this</span>,
                true
            );
<span class="comment">

            // Create custom events</span>

            var CustomEvent = YAHOO.util.CustomEvent;

            <span class="comment">/**
            * Fires when a MenuItem instances's HTMLLIElement is removed from
            * it's parent HTMLUListElement node.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.destroyEvent = new CustomEvent(<span class="literal">"destroyEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when the mouse has entered a MenuItem instance.  Passes
            * back the DOM Event object as an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.mouseOverEvent = new CustomEvent(<span class="literal">"mouseOverEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when the mouse has left a MenuItem instance.  Passes back
            * the DOM Event object as an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.mouseOutEvent = new CustomEvent(<span class="literal">"mouseOutEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when the user clicks the on a MenuItem instance.  Passes
            * back the DOM Event object as an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.mouseDownEvent = new CustomEvent(<span class="literal">"mouseDownEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when the user releases a mouse button while the mouse is
            * over a MenuItem instance.  Passes back the DOM Event object as
            * an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.mouseUpEvent = new CustomEvent(<span class="literal">"mouseUpEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when the user clicks the on a MenuItem instance.  Passes
            * back the DOM Event object as an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.clickEvent = new CustomEvent(<span class="literal">"clickEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when the user presses an alphanumeric key.  Passes back the
            * DOM Event object as an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.keyPressEvent = new CustomEvent(<span class="literal">"keyPressEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when the user presses a key.  Passes back the DOM Event
            * object as an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.keyDownEvent = new CustomEvent(<span class="literal">"keyDownEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when the user releases a key.  Passes back the DOM Event
            * object as an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.keyUpEvent = new CustomEvent(<span class="literal">"keyUpEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when a MenuItem instance receives focus.  Passes back the
            * DOM Event object as an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.focusEvent = new CustomEvent(<span class="literal">"focusEvent"</span>, <span class="reserved">this</span>);


            <span class="comment">/**
            * Fires when a MenuItem instance loses the input focus.  Passes
            * back the DOM Event object as an argument.
            * <span class="attrib">@type</span> {YAHOO.util.CustomEvent}
            */</span>
            YAHOO.widget.MenuItem.<span class="reserved">prototype</span>.blurEvent = new CustomEvent(<span class="literal">"blurEvent"</span>, <span class="reserved">this</span>);


            <span class="reserved">if</span>(p_oUserConfig) {

                <span class="reserved">this</span>.cfg.applyConfig(p_oUserConfig);

            }

        }

    },


	<span class="comment">/**
	* Removes a MenuItem instance's HTMLLIElement from it's parent
    * HTMLUListElement node.
	*/</span>
    destroy: <span class="reserved">function</span>() {

        <span class="reserved">if</span>(<span class="reserved">this</span>.element) {

            var oParentNode = <span class="reserved">this</span>.element;

            <span class="reserved">if</span>(oParentNode) {

                oParentNode.removeChild(<span class="reserved">this</span>.element);

                <span class="reserved">this</span>.destroyEvent.fire();

            }

        }

    }

}</pre>
			</div>
		
	</div>
</div>


<div id="footer">
	<hr />
	Copyright &copy; 2006 Yahoo! Inc. All rights reserved.
	<br />
	Yahoo! Confidential.
	<br /><br />
	Documentation generated by <a href="http://jsdoc.sourceforge.net/">
	JSDoc</a>
</div>



</body>
</html>
