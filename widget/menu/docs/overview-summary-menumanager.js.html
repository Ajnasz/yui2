
<html>
<head>
	<title>JavaScript Documentation - menumanager.js</title>
	<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>

<body>

<div id="header">
	<h1>JavaScript Documentation</h1>
	<h3><a href="./index.html">Yahoo! Menuing Library</a></h3>

	<div class="breadcrumbs">
					
			
			
			
				<a href="./index.html">Yahoo! Menuing Library</a>
				&gt;
				<strong>menumanager.js</strong>
			
			
			
			
			
			
			
			
			
			
			
		
	</div>
</div>

<div id="body">
	
	
	<div class="nav">
		<div class="module resources">
			<ul class="content">
				<li><a href="overview-tree.html">Tree View</a></li>
				<li><a href="index-all.html">Element Index</a></li>
			</ul>
		</div>
		
		
			<div class="module">
				<h4><a href="./allclasses-noframe.html">Classes</a></h4>
				<ul class="content">
					
						<li>
							<a href="YAHOO.widget.html">
								YAHOO.widget</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.Menu.html">
								YAHOO.widget.Menu</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.MenuItem.html">
								YAHOO.widget.MenuItem</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.MenuManager.html">
								YAHOO.widget.MenuManager</a>
						</li>
					
				</ul>
			</div>
		
		
		
			<div class="module">
				<h4><a href="./overview-summary.html">Files</a></h4>
				<ul class="content">		
					
				
						<li>
							<a href="overview-summary-menu.js.html">
								menu.js</a>
						</li>
					
						<li>
							<a href="overview-summary-menuitem.js.html">
								menuitem.js</a>
						</li>
					
						<li>
							<a href="overview-summary-menumanager.js.html">
								menumanager.js</a>
						</li>
					
				</ul>
			</div>
		
	</div>
	
	<div class="main">
			
		
		
			
			   <h2>menumanager.js</h2>
			
			
				
					
				
				
				
<div class="meta">
	
	
	
	
	
	
	
	
	
	
		
	
	
	
	
	
	
</div>

			
		
		
		
		
			<div class="quick-links">
				<strong>Quick Links:</strong>&nbsp;
				
					
						<a href="#classSummary">Class Summary</a> |
					
					
				
				
				
					<a href="#source">Source Code</a>
				
			</div>
		
			
				<div class="section class summaries">
					 <h3><a name="classSummary">Class Summary</a> <span class="top">[<a href="#top">top</a>]</span></h3>
			
				<div class="content">
					<table border="1" cellpadding="3" cellspacing="0">
						
						<tr>
							<td class="name">
								<a href="YAHOO.widget.MenuManager.html">YAHOO.widget.MenuManager</a>
							</td>
							<td class="overview">The MenuManager is a singleton class that helps manage every Menu  instance that is created.</td>
						</tr>
						
					</table>
				</div>
			</div>
		
		
		
		
		
		
		
			<div class="section source">
				<h3><a name="source">Souce Code</a> <span class="top">[<a href="#top">top</a>]</span></h3>
				<pre class="sourceview"><span class="comment">/*
Copyright (c) 2006, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
*/</span>

<span class="comment">/**
* <span class="attrib">@class</span> The MenuManager is a singleton class that helps manage every Menu
* instance that is created.
* <span class="attrib">@constructor</span>
*/</span>
YAHOO.widget.MenuManager = <span class="reserved">function</span>() {

    <span class="comment">/**
    * Collection of Menu instances.
    * <span class="attrib">@private</span>
    * <span class="attrib">@type</span> {Object}
    */</span>
    var m_oMenus = {},

        <span class="comment">/**
        * Collection of visible Menu instances.
        * <span class="attrib">@private</span>
        * <span class="attrib">@type</span> {Object}
        */</span>
        m_oVisibleMenus = {},


        <span class="comment">/**
        * Number of Menu ids that have been generated.
        * <span class="attrib">@private</span>
        * <span class="attrib">@type</span> {Number}
        */</span>
        m_nMenuIds = 0,


        <span class="comment">/**
        * The base prefix for all generated menu ids.
        * <span class="attrib">@private</span>
        * <span class="attrib">@type</span> {String}
        */</span>
        m_sMenuIdBase = <span class="literal">"yuimenu"</span>;


    <span class="comment">/**
    * Returns the currently active Menu.  A Menu instance becomes active 
    * when one of it's MenuItem instances recieves focus.
    * <span class="attrib">@member</span> YAHOO.widget.MenuManager
    * <span class="attrib">@type</span> {YAHOO.widget.Menu}
    */</span>
    <span class="reserved">this</span>.activeMenu = null;


    <span class="comment">/**
    * Reference to the current context so that private methods have access 
    * to class members
    * <span class="attrib">@private</span>
    * <span class="attrib">@type</span> {YAHOO.widget.MenuManager}
    */</span>
    var me = <span class="reserved">this</span>;
<span class="comment">

    // Private methods</span>

    <span class="comment">/**
    * Adds an item to a collection.  Used to manage a the collection of  
    * Menu and visible Menu instances.
    * <span class="attrib">@private</span>
    * <span class="attrib">@param</span> {Object} p_oCollection The object instance to be modified.
    * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oItem The Menu instance to be added.
    */</span>
    <span class="reserved">function</span> addItem(p_oCollection, p_oItem) {

          p_oCollection[p_oItem.id] = p_oItem;

    }


    <span class="comment">/**
    * Removes an item from a collection.  Used to manage a the collection of  
    * Menu and visible Menu instances.
    * <span class="attrib">@private</span>
    * <span class="attrib">@param</span> {Object} p_oCollection The object instance to be modified.
    * <span class="attrib">@param</span> {String/YAHOO.widget.Menu} p_oValue String id of or object
    * reference for the Menu instance to be removed.
    */</span>
    <span class="reserved">function</span> removeItem(p_oCollection, p_oValue) {

        <span class="reserved">if</span>(p_oValue) {

            <span class="reserved">if</span>(p_oValue._Menu) {

                oItem = removeItemByValue(p_oCollection, p_oValue);

            }

            <span class="reserved">if</span>(typeof p_oValue == <span class="literal">"string"</span>) {

                oItem = removeItemByKey(p_oCollection, p_oValue);

            }

            <span class="reserved">if</span>(oItem &amp;&amp; oItem === me.activeMenu) {

                me.activeMenu = null;

            }

        }        

    }


    <span class="comment">/**
    * Removes an item from a collection.  Used to manage a the collection of  
    * Menu and visible Menu instances.
    * <span class="attrib">@private</span>
    * <span class="attrib">@param</span> {Object} p_oCollection The object instance to be modified.
    * <span class="attrib">@param</span> {String} p_sElementId String id of the Menu to be removed.
    */</span>
    <span class="reserved">function</span> removeItemByKey(p_oCollection, p_sElementId) {

        var oItem = null;
        
        <span class="reserved">if</span>(p_oCollection[p_sElementId]) {

            oItem = p_oCollection[p_sElementId];
            delete p_oCollection[p_sElementId];

        }

        <span class="reserved">return</span> oItem;

    }


    <span class="comment">/**
    * Removes an item from a collection.  Used to manage a the collection of  
    * Menu and visible Menu instances.
    * <span class="attrib">@private</span>
    * <span class="attrib">@param</span> {Object} p_oCollection The object instance to be modified.
    * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oItem Object reference for the Menu
    * instance to be removed.
    */</span>
    <span class="reserved">function</span> removeItemByValue(p_oCollection, p_oItem) {

        var oItem = null;

        <span class="reserved">for</span>(var i in p_oCollection) {

            <span class="reserved">if</span>(p_oCollection[i] == p_oItem) {

                oItem = p_oCollection[i];
                delete p_oCollection[i];
                break;

            }

        }

        <span class="reserved">return</span> oItem;

    }
<span class="comment">

    // Private CustomEvent event handlers</span>

    <span class="comment">/**
    * "show" YAHOO.util.CustomEvent handler for each Menu instance.
    * <span class="attrib">@private</span>
    * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
    * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the 
    * event was fired.
    * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu that fired the event.
    */</span>
    <span class="reserved">function</span> onMenuShow(p_sType, p_aArguments, p_oMenu) {

        <span class="reserved">if</span>(p_oMenu) {

            addItem(m_oVisibleMenus, p_oMenu);
            
        }

    }


    <span class="comment">/**
    * "hide" YAHOO.util.CustomEvent handler for each Menu instance.
    * <span class="attrib">@private</span>
    * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
    * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the 
    * event was fired.
    * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu that fired the event.
    */</span>
    <span class="reserved">function</span> onMenuHide(p_sType, p_aArguments, p_oMenu) {

        removeItem(m_oVisibleMenus, p_oMenu);

    }

    <span class="comment">/**
    * "configvisible" YAHOO.util.CustomEvent handler for the Menu's "visible" 
    * configuration property.
    * <span class="attrib">@private</span>
    * <span class="attrib">@param</span> {String} p_sType The name of the event that was fired.
    * <span class="attrib">@param</span> {Array} p_aArguments Collection of arguments sent when the 
    * event was fired.
    * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance that fired the event.
    */</span>
    <span class="reserved">function</span> onMenuConfigVisible(p_sType, p_aArguments, p_oMenu) {

        var bVisible = p_aArguments[0];

        <span class="reserved">if</span>(bVisible) {

            addItem(m_oVisibleMenus, p_oMenu);

        }
        <span class="reserved">else</span> {

            removeItem(m_oVisibleMenus, p_oMenu);

        }

    }

    YAHOO.widget.MenuManager.<span class="reserved">prototype</span> = {

        <span class="comment">/**
        * Generates a unique id for a Menu instance.
        * <span class="attrib">@return</span> Returns a new id
        * <span class="attrib">@type</span> {String}
        */</span>
        createMenuId: <span class="reserved">function</span>() {

            var sMenuId = (m_sMenuIdBase + (m_nMenuIds++));

            <span class="reserved">return</span> sMenuId;

        },


        <span class="comment">/**
        * Registers a Menu instance.
        * <span class="attrib">@param</span> {YAHOO.widget.Menu} p_oMenu The Menu instance to be added.
        */</span>
        addMenu: <span class="reserved">function</span>(p_oMenu) {

            <span class="reserved">if</span>(p_oMenu) {

                addItem(m_oMenus, p_oMenu);

                p_oMenu.showEvent.subscribe(onMenuShow, p_oMenu);
                p_oMenu.hideEvent.subscribe(onMenuHide, p_oMenu);

                p_oMenu.cfg.subscribeToConfigEvent(
                    <span class="literal">"visible"</span>, 
                    onMenuConfigVisible, 
                    p_oMenu
                );

            }

        },


        <span class="comment">/**
        * Removes the Menu from the known list of Menu and visible
        * Menu instances.
        * <span class="attrib">@param</span> {String/YAHOO.widget.Menu} p_oValue String id of or object
        * reference for the Menu instance to be removed.
        */</span>
        removeMenu: <span class="reserved">function</span>(p_oValue) {

            removeItem(m_oMenus, p_oValue);
            removeItem(m_oVisibleMenus, p_oValue);

        },


        <span class="comment">/**
        * Hides all visible Menu instances.
        */</span>
        hideVisibleMenus: <span class="reserved">function</span>() {

            <span class="reserved">for</span>(var i in m_oVisibleMenus) {

                m_oVisibleMenus[i].hide();

            }

            m_oVisibleMenus = {};

        },


        <span class="comment">/**
        * Returns a collection of all of the registered Menu instances.
        * <span class="attrib">@return</span> Returns a collection Menu instances.
        * <span class="attrib">@type</span> Object
        */</span>
        getMenus: <span class="reserved">function</span>() {

            <span class="reserved">return</span> m_oMenus;

        },


        <span class="comment">/**
        * Returns the Menu instance with the specified id.
        * <span class="attrib">@return</span> Returns a Menu instance.
        * <span class="attrib">@type</span> YAHOO.widget.Menu
        */</span>
        getMenu: <span class="reserved">function</span>(p_sElementId) {

            <span class="reserved">if</span>(p_sElementId &amp;&amp; m_oMenus[p_sElementId]) {

                <span class="reserved">return</span> m_oMenus[p_sElementId];

            }

        },


        <span class="comment">/**
        * Returns a collection of all of the visible Menu instances.
        * <span class="attrib">@return</span> Returns a collection Menu instances.
        * <span class="attrib">@type</span> Object
        */</span>
        getVisibleMenus: <span class="reserved">function</span>() {

            <span class="reserved">return</span> m_oVisibleMenus;

        }

    };

} ();</pre>
			</div>
		
	</div>
</div>


<div id="footer">
	<hr />
	Copyright &copy; 2006 Yahoo! Inc. All rights reserved.
	<br />
	Yahoo! Confidential.
	<br /><br />
	Documentation generated by <a href="http://jsdoc.sourceforge.net/">
	JSDoc</a>
</div>



</body>
</html>
