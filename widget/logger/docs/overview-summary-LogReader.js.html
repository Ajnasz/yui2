
<html>
<head>
	<title>JavaScript Documentation - LogReader.js</title>
	<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>

<body>

<div id="header">
	<h1>JavaScript Documentation</h1>
	<h3><a href="./index.html">Logger</a></h3>

	<div class="breadcrumbs">
		
			
			
			
				<a href="./index.html">Logger</a>
				&gt;
				<strong>LogReader.js</strong>
			
			
			
			
			
			
			
			
			
			
			
		
	</div>
</div>


<div id="body">
	
	
	<div class="nav">
		<div class="module resources">
			<ul class="content">
				<li><a href="overview-tree.html">Tree View</a></li>
				<li><a href="index-all.html">Element Index</a></li>
			</ul>
		</div>
		
		
			<div class="module">
				<h4><a href="./allclasses-noframe.html">Classes</a></h4>
				<ul class="content">
					
						<li>
							<a href="printfire.html">
								printfire</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.html">
								YAHOO.widget</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.LogReader.html">
								YAHOO.widget.LogReader</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.LogWriter.html">
								YAHOO.widget.LogWriter</a>
						</li>
					
				</ul>
			</div>
		
		
		
			<div class="module">
				<h4><a href="./overview-summary.html">Files</a></h4>
				<ul class="content">		
					
						<li>
							<a href="overview-summary-Logger.js.html">
								Logger.js</a>
						</li>
					
						<li>
							<a href="overview-summary-LogReader.js.html">
								LogReader.js</a>
						</li>
					
						<li>
							<a href="overview-summary-LogWriter.js.html">
								LogWriter.js</a>
						</li>
					
				</ul>
			</div>
		
	</div>
	
	<div class="main">
			
		
		
			
			   <h2>LogReader.js</h2>
			
			
				
					
				
				
				
<div class="meta">
	
	
	
	
	
	
	
	
	
	
		
	
	
	
	
	
	
</div>

			
		
		
		
		
			<div class="quick-links">
				<strong>Quick Links:</strong>&nbsp;
				
					
						<a href="#classSummary">Class Summary</a> |
					
					
				
				
				
					<a href="#source">Source Code</a>
				
			</div>
		
			
				<div class="section class summaries">
					 <h3><a name="classSummary">Class Summary</a> <span class="top">[<a href="#top">top</a>]</span></h3>
			
				<div class="content">
					<table border="1" cellpadding="3" cellspacing="0">
						
						<tr>
							<td class="name">
								<a href="YAHOO.widget.LogReader.html">YAHOO.widget.LogReader</a>
							</td>
							<td class="overview">&nbsp;</td>
						</tr>
						
					</table>
				</div>
			</div>
		
		
		
		
		
		
		
			<div class="section source">
				<h3><a name="source">Souce Code</a> <span class="top">[<a href="#top">top</a>]</span></h3>
				<pre class="sourceview"><span class="comment">/****************************************************************************/</span>
<span class="comment">/****************************************************************************/</span>
<span class="comment">/****************************************************************************/</span>

<span class="comment">/**
 * Class providing UI to read messages logged to YAHOO.widget.Logger.
 *
 * requires YAHOO.util.Dom DOM utility
 * requires YAHOO.util.Event Event utility
 * optional YAHOO.util.DragDrop Drag and drop utility
 *
 * <span class="attrib">@constructor</span>
 * <span class="attrib">@param</span> {el or ID} containerEl DOM element object or ID of container to wrap reader UI
 * <span class="attrib">@param</span> {object} oConfig Optional object literal of configuration params
 */</span>
YAHOO.widget.LogReader = <span class="reserved">function</span>(containerEl, oConfig) {
    var oSelf = <span class="reserved">this</span>;
<span class="comment">
    // Parse config vars here</span>
    <span class="reserved">if</span> (typeof oConfig == <span class="literal">"object"</span>) {
        <span class="reserved">for</span>(var param in oConfig) {
            <span class="reserved">this</span>[param] = oConfig[param];
        }
    }
<span class="comment">
    // Attach container...</span>
    <span class="reserved">if</span>(containerEl) {
        <span class="reserved">if</span>(typeof containerEl == <span class="literal">"string"</span>) {
            <span class="reserved">this</span>._containerEl = document.getElementById(containerEl);
        }
        <span class="reserved">else</span> <span class="reserved">if</span>(containerEl.tagName) {
            <span class="reserved">this</span>._containerEl = containerEl;
        }
        <span class="reserved">this</span>._containerEl.className = <span class="literal">"ylogger"</span>;
    }
<span class="comment">    // ...or create container from scratch</span>
    <span class="reserved">if</span>(!<span class="reserved">this</span>._containerEl) {
        <span class="reserved">if</span>(YAHOO.widget.LogReader._defaultContainerEl) {
            <span class="reserved">this</span>._containerEl =  YAHOO.widget.LogReader._defaultContainerEl;
        }
        <span class="reserved">else</span> {
            <span class="reserved">this</span>._containerEl = document.body.appendChild(document.createElement(<span class="literal">"div"</span>));
            <span class="reserved">this</span>._containerEl.id = <span class="literal">"ylogger"</span>;
            <span class="reserved">this</span>._containerEl.className = <span class="literal">"ylogger"</span>;
            <span class="reserved">this</span>._containerEl.style.width = (<span class="reserved">this</span>.width) ? <span class="reserved">this</span>.width : <span class="reserved">this</span>.DEFAULT_WIDTH;
<span class="comment">
            // Set defaults if not provided by implementer</span>
            <span class="reserved">if</span>(!<span class="reserved">this</span>.left &amp;&amp; !<span class="reserved">this</span>.right &amp;&amp; !<span class="reserved">this</span>.bottom &amp;&amp; !<span class="reserved">this</span>.top) {
                <span class="reserved">this</span>._containerEl.style.top = <span class="reserved">this</span>.DEFAULT_TOP;
                <span class="reserved">this</span>._containerEl.style.right = <span class="reserved">this</span>.DEFAULT_RIGHT;
            }
            <span class="reserved">if</span>(!<span class="reserved">this</span>.fontSize) {
                <span class="reserved">this</span>._containerEl.style.fontSize = <span class="reserved">this</span>.DEFAULT_FONTSIZE;
            }
            YAHOO.widget.LogReader._defaultContainerEl = <span class="reserved">this</span>._containerEl;
        }
<span class="comment">
        // If implementer has provided, trust and set those</span>
        <span class="reserved">if</span>(<span class="reserved">this</span>.left) {
            <span class="reserved">this</span>._containerEl.style.left = <span class="reserved">this</span>.left;
        }
        <span class="reserved">if</span>(<span class="reserved">this</span>.right) {
            <span class="reserved">this</span>._containerEl.style.right = <span class="reserved">this</span>.right;
        }
        <span class="reserved">if</span>(<span class="reserved">this</span>.bottom) {
            <span class="reserved">this</span>._containerEl.style.bottom = <span class="reserved">this</span>.bottom;
        }
        <span class="reserved">if</span>(<span class="reserved">this</span>.top) {
            <span class="reserved">this</span>._containerEl.style.top = <span class="reserved">this</span>.top;
        }
        <span class="reserved">if</span>(<span class="reserved">this</span>.fontSize) {
            <span class="reserved">this</span>._containerEl.style.fontSize = <span class="reserved">this</span>.fontSize;
        }
    }

    <span class="reserved">if</span>(<span class="reserved">this</span>._containerEl) {
<span class="comment">        // Create header</span>
        <span class="reserved">if</span>(!<span class="reserved">this</span>._hdEl) {
            <span class="reserved">this</span>._hdEl = <span class="reserved">this</span>._containerEl.appendChild(document.createElement(<span class="literal">"div"</span>));
            <span class="reserved">this</span>._hdEl.id = <span class="literal">"ylog_hd"</span> + YAHOO.widget.LogReader._index;
            <span class="reserved">this</span>._hdEl.className = <span class="literal">"ylog_hd"</span>;

<span class="comment">/*            this._collapseEl = this._hdEl.appendChild(document.createElement("div"));
            this._collapseEl.className = "ylog_btns";

            this._collapseBtn = document.createElement("input");
            this._collapseBtn.type = "button";
            this._collapseBtn.style.fontSize = YAHOO.util.Dom.getStyle(this._containerEl,"fontSize");
            this._collapseBtn.className = "button";
            this._collapseBtn.value = "Collapse";
            this._collapseBtn = this._collapseEl.appendChild(this._collapseBtn);
            YAHOO.util.Event.addListener(oSelf._collapseBtn,'click',oSelf._onClickCollapseBtn,oSelf);

            this._title = this._hdEl.appendChild(document.createElement("h4"));
            this._title.innerHTML = "Logger Console";

            // If Drag and Drop utility is available...
            // ...and this container was created from scratch...
            // ...then make the header draggable
            if(YAHOO.util.DD &amp;&amp;
            (YAHOO.widget.LogReader._defaultContainerEl == this._containerEl)) {
                var ylog_dd = new YAHOO.util.DD(this._containerEl.id);
                ylog_dd.setHandleElId(this._hdEl.id);
                this._hdEl.style.cursor = "move";
*/</span>            }
        }
<span class="comment">        // Ceate console</span>
        <span class="reserved">if</span>(!<span class="reserved">this</span>._consoleEl) {
            <span class="reserved">this</span>._consoleEl = <span class="reserved">this</span>._containerEl.appendChild(document.createElement(<span class="literal">"div"</span>));
            <span class="reserved">this</span>._consoleEl.className = <span class="literal">"ylog_bd"</span>;
            <span class="reserved">this</span>._consoleEl.style.height = (<span class="reserved">this</span>.height) ? <span class="reserved">this</span>.height : <span class="reserved">this</span>.DEFAULT_HEIGHT;
        }
<span class="comment">        // Don't create footer if disabled</span>
        <span class="reserved">if</span>(!<span class="reserved">this</span>._ftEl &amp;&amp; <span class="reserved">this</span>.footerEnabled) {
            <span class="reserved">this</span>._ftEl = <span class="reserved">this</span>._containerEl.appendChild(document.createElement(<span class="literal">"div"</span>));
            <span class="reserved">this</span>._ftEl.className = <span class="literal">"ylog_ft"</span>;

            <span class="reserved">this</span>._btnsEl = <span class="reserved">this</span>._ftEl.appendChild(document.createElement(<span class="literal">"div"</span>));
            <span class="reserved">this</span>._btnsEl.className = <span class="literal">"ylog_btns"</span>;

            <span class="reserved">this</span>._pauseBtn = document.createElement(<span class="literal">"input"</span>);
            <span class="reserved">this</span>._pauseBtn.type = <span class="literal">"button"</span>;
            <span class="reserved">this</span>._pauseBtn.style.fontSize = YAHOO.util.Dom.getStyle(<span class="reserved">this</span>._containerEl,<span class="literal">"fontSize"</span>);
            <span class="reserved">this</span>._pauseBtn.className = <span class="literal">"button"</span>;
            <span class="reserved">this</span>._pauseBtn.value = <span class="literal">"Pause"</span>;
            <span class="reserved">this</span>._pauseBtn = <span class="reserved">this</span>._btnsEl.appendChild(<span class="reserved">this</span>._pauseBtn);
            YAHOO.util.Event.addListener(oSelf._pauseBtn,<span class="literal">'click'</span>,oSelf._onClickPauseBtn,oSelf);

<span class="comment">/*            this._clearBtn = document.createElement("input");
            this._clearBtn.type = "button";
            this._clearBtn.style.fontSize = YAHOO.util.Dom.getStyle(this._containerEl,"fontSize");
            this._clearBtn.className = "button";
            this._clearBtn.value = "Clear";
            this._clearBtn = this._btnsEl.appendChild(this._clearBtn);
            YAHOO.util.Event.addListener(oSelf._clearBtn,'click',oSelf._onClickClearBtn,oSelf);

*/</span>            <span class="reserved">this</span>._filtersEl = <span class="reserved">this</span>._ftEl.appendChild(document.createElement(<span class="literal">"div"</span>));
        }
    }
<span class="comment">
    // Initialize buffer</span>
    <span class="reserved">if</span>(!<span class="reserved">this</span>._buffer) {
        <span class="reserved">this</span>._buffer = []; // output buffer
    }
    YAHOO.widget.Logger.newLogEvent.subscribe(<span class="reserved">this</span>._onNewLog, <span class="reserved">this</span>);
    <span class="reserved">this</span>._lastTime = YAHOO.widget.Logger.getStartTime(); // timestamp of last log message to console
<span class="comment">
    // Initialize filters</span>
    <span class="reserved">this</span>._filters = [];
    var catsLen = YAHOO.widget.Logger.categories.length;
    <span class="reserved">if</span>(<span class="reserved">this</span>._filtersEl) {
        <span class="reserved">for</span>(var i=0; i &lt; catsLen; i++) {
            <span class="reserved">this</span>._createFilterCheckbox(YAHOO.widget.Logger.categories[i]);
        }
    }
    YAHOO.widget.Logger.categoryCreateEvent.subscribe(<span class="reserved">this</span>._onCategoryCreate, <span class="reserved">this</span>);

    YAHOO.widget.LogReader._index++;
    <span class="reserved">this</span>._filterLogs();
};

<span class="comment">/***************************************************************************
 * Public constants
 ***************************************************************************/</span>
<span class="comment">/**
 * Default CSS width of LogReader container.
 *
 * <span class="attrib">@type</span> constant
 * <span class="attrib">@final</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.DEFAULT_WIDTH = <span class="literal">"30em"</span>;

<span class="comment">/**
 * Default CSS height of LogReader container.
 *
 * <span class="attrib">@type</span> constant
 * <span class="attrib">@final</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.DEFAULT_HEIGHT = <span class="literal">"20em"</span>;

<span class="comment">/**
 * Default CSS top position of LogReader container.
 *
 * <span class="attrib">@type</span> constant
 * <span class="attrib">@final</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.DEFAULT_TOP = <span class="literal">"1em"</span>;

<span class="comment">/**
 * Default CSS right position of LogReader container.
 *
 * <span class="attrib">@type</span> constant
 * <span class="attrib">@final</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.DEFAULT_RIGHT = <span class="literal">"1em"</span>;

<span class="comment">/**
 * Default CSS font size of LogReader container.
 *
 * <span class="attrib">@type</span> constant
 * <span class="attrib">@final</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.DEFAULT_FONTSIZE = <span class="literal">"77%"</span>;

<span class="comment">/***************************************************************************
 * Public members
 ***************************************************************************/</span>
<span class="comment">/**
 * Whether or not the log reader is enabled to output log messages.
 *
 * <span class="attrib">@type</span> boolean
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.logReaderEnabled = true;

<span class="comment">/**
 * CSS width of the log reader container.
 *
 * <span class="attrib">@type</span> string
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.width = null;

<span class="comment">/**
 * CSS height of the log reader container.
 *
 * <span class="attrib">@type</span> string
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.height = null;

<span class="comment">/**
 * CSS top position of the log reader container.
 *
 * <span class="attrib">@type</span> string
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.top = null;

<span class="comment">/**
 * CSS left position of the log reader container.
 *
 * <span class="attrib">@type</span> string
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.left = null;

<span class="comment">/**
 * CSS right position of the log reader container.
 *
 * <span class="attrib">@type</span> string
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.right = null;

<span class="comment">/**
 * CSS bottom position of the log reader container.
 *
 * <span class="attrib">@type</span> string
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.bottom = null;

<span class="comment">/**
 * CSS font size of the log reader container.
 *
 * <span class="attrib">@type</span> string
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.fontSize = null;

<span class="comment">/**
 * Whether or not the footer UI is enabled for the log reader.
 *
 * <span class="attrib">@type</span> boolean
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.footerEnabled = true;

<span class="comment">/***************************************************************************
 * Public methods
 ***************************************************************************/</span>
<span class="comment">/**
 * Pauses output of log messages. While paused, log messages are not lost, but
 * get saved to a buffer and then output upon resume of log reader.
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.pause = <span class="reserved">function</span>() {
    <span class="reserved">this</span>._timeout = null;
    <span class="reserved">this</span>.logReaderEnabled = false;
};

<span class="comment">/**
 * Resumes output of log messages, including outputting any log messages that
 * have been saved to buffer while paused.
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.resume = <span class="reserved">function</span>() {
    <span class="reserved">this</span>.logReaderEnabled = true;
    <span class="reserved">this</span>._printBuffer();
};

<span class="comment">/**
 * Hides UI of log reader. Logging functionality is not disrupted.
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.hide = <span class="reserved">function</span>() {
    <span class="reserved">this</span>._containerEl.style.display = <span class="literal">"none"</span>;
};

<span class="comment">/**
 * Shows UI of log reader. Logging functionality is not disrupted.
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>.show = <span class="reserved">function</span>() {
    <span class="reserved">this</span>._containerEl.style.display = <span class="literal">"block"</span>;
};

 <span class="comment">/***************************************************************************
 * Private members
 ***************************************************************************/</span>
<span class="comment">/**
 * The log reader container element that was created during instantiation. Will
 * be null if implementer passes in their own container element, which means the
 * element was not created on the fly.
 *
 * <span class="attrib">@type</span> HTMLElement
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader._defaultContainerEl = null;

<span class="comment">/**
 * Internal class variable to index multiple log reader instances.
 *
 * <span class="attrib">@type</span> number
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader._index = 0;

<span class="comment">/**
 * Buffer of log messages for batch output.
 *
 * <span class="attrib">@type</span> array
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._buffer = null;

<span class="comment">/**
 * Date of last output log message.
 *
 * <span class="attrib">@type</span> date
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._lastTime = null;

<span class="comment">/**
 * Batched output timeout ID.
 *
 * <span class="attrib">@type</span> number
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._timeout = null;

<span class="comment">/**
 * Log reader container element.
 *
 * <span class="attrib">@type</span> HTMLElement
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._containerEl = null;

<span class="comment">/**
 * Log reader header element.
 *
 * <span class="attrib">@type</span> HTMLElement
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._hdEl = null;

<span class="comment">/**
 * Log reader console element.
 *
 * <span class="attrib">@type</span> HTMLElement
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._consoleEl = null;

<span class="comment">/**
 * Log reader footer element.
 *
 * <span class="attrib">@type</span> HTMLElement
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._ftEl = null;

<span class="comment">/**
 * Filters that prevent certain categories of log messages from being output.
 *
 * <span class="attrib">@type</span> array
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._filters = null;

<span class="comment">/***************************************************************************
 * Private methods
 ***************************************************************************/</span>
<span class="comment">/**
 * Creates the UI for a category filter in the log reader footer element.
 *
 * <span class="attrib">@param</span> {string} category Category name
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._createFilterCheckbox = <span class="reserved">function</span>(category) {
    var oSelf = <span class="reserved">this</span>;
    
    <span class="reserved">if</span>(<span class="reserved">this</span>._filtersEl) {
<span class="comment">        // Append el at the end so IE 5.5 can set "type" attribute</span>
        var filterChk = document.createElement(<span class="literal">"input"</span>);
        filterChk.className = <span class="literal">"ylog_filter"</span> + category;
        filterChk.type = <span class="literal">"checkbox"</span>;
        filterChk.checked = true;
        filterChk.category = category;
        filterChk = <span class="reserved">this</span>._filtersEl.appendChild(filterChk);
        YAHOO.util.Event.addListener(filterChk,<span class="literal">'click'</span>,oSelf._onCheckFilter,oSelf);

        var filterChkLbl = <span class="reserved">this</span>._filtersEl.appendChild(document.createElement(<span class="literal">"span"</span>));
        filterChkLbl.className = category;
        filterChkLbl.innerHTML = category;
    }
};

<span class="comment">/**
 * Reprints all log messages in the stack through filters.
 *
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._filterLogs = <span class="reserved">function</span>() {
<span class="comment">    // Reprint stack with new filters</span>
    <span class="reserved">if</span> (<span class="reserved">this</span>._consoleEl !== null) {
        <span class="reserved">this</span>._clearConsole();
        <span class="reserved">this</span>._printToConsole(YAHOO.widget.Logger.getStack());
    }
};

<span class="comment">/**
 * Clears all outputted log messages from the console and resets the time of the
 * last output log message.
 *
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._clearConsole = <span class="reserved">function</span>() {
<span class="comment">    // Clear the buffer of any pending messages</span>
    <span class="reserved">this</span>._timeout = null;
    <span class="reserved">this</span>._buffer = [];
<span class="comment">
    // Reset the rolling timer</span>
    <span class="reserved">this</span>._lastTime = YAHOO.widget.Logger.getStartTime();

    var consoleEl = <span class="reserved">this</span>._consoleEl;
    <span class="reserved">while</span>(consoleEl.hasChildNodes()) {
        consoleEl.removeChild(consoleEl.firstChild);
    }
};

<span class="comment">/**
 * Sends buffer of log messages to output and clears buffer.
 *
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._printBuffer = <span class="reserved">function</span>() {
    <span class="reserved">this</span>._timeout = null;

    <span class="reserved">if</span> (<span class="reserved">this</span>._consoleEl !== null) {
        var entries = [];
        <span class="reserved">for</span> (var i=0; i&lt;<span class="reserved">this</span>._buffer.length; i++) {
            entries[i] = <span class="reserved">this</span>._buffer[i];
        }
        <span class="reserved">this</span>._buffer = [];
        <span class="reserved">this</span>._printToConsole(entries);
    }
};

<span class="comment">/**
 * Cycles through an array of log messages, and outputs each one to the console
 * if its category has not been filtered out.
 *
 * <span class="attrib">@param</span> {array} aEntries
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._printToConsole = <span class="reserved">function</span>(aEntries) {
    var entriesLen = aEntries.length;
    var filtersLen = <span class="reserved">this</span>._filters.length;
<span class="comment">    // Iterate through all log entries...</span>
    <span class="reserved">for</span>(var i=0; i&lt;entriesLen; i++) {
        var entry = aEntries[i];
        var category = entry.category;
        var okToPrint = true;
<span class="comment">        // ...and only print the ones that filter through</span>
        <span class="reserved">for</span>(var j=0; j&lt;filtersLen; j++) {
            <span class="reserved">if</span>(category == <span class="reserved">this</span>._filters[j]) {
                okToPrint = false;
                break;
            }
        }
        <span class="reserved">if</span>(okToPrint) {
<span class="comment">            // To format for console, calculate the elapsed time</span>
<span class="comment">            // to be from the last item that passed through the filter,</span>
<span class="comment">            // not the absolute previous item in the stack</span>
            var label = category.substring(0,4).toUpperCase();

            var time = entry.time;
            <span class="reserved">if</span> (time.toLocaleTimeString) {
                var localTime  = time.toLocaleTimeString();
            }
            <span class="reserved">else</span> {
                localTime = time.toString();
            }

            var msecs = time.getTime();
            var elapsedTime = msecs - <span class="reserved">this</span>._lastTime;
            <span class="reserved">this</span>._lastTime = msecs;

            var name = (entry.name) ? entry.name + <span class="literal">": "</span> : <span class="literal">""</span>;

            var output =  <span class="literal">"&lt;span class='"</span>+category+<span class="literal">"'&gt;"</span>+label+<span class="literal">"&lt;/span&gt; "</span> +
                localTime + <span class="literal">" ("</span> +
                elapsedTime + <span class="literal">"): "</span> +
                name +
                entry.msg;

            var oNewElement = <span class="reserved">this</span>._consoleEl.insertBefore(document.createElement(<span class="literal">"p"</span>),<span class="reserved">this</span>._consoleEl.firstChild);
            oNewElement.innerHTML = output;
        }
    }
};

<span class="comment">/***************************************************************************
 * Private event handlers
 ***************************************************************************/</span>
<span class="comment">/**
 * Handles Logger's categoryCreateEvent.
 *
 * <span class="attrib">@param</span> {string} type The click event
 * <span class="attrib">@param</span> {array} args Data passed from event firer
 * <span class="attrib">@param</span> {object} oSelf The log reader instance
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._onCategoryCreate = <span class="reserved">function</span>(type, args, oSelf) {
    var category = args[0];
    <span class="reserved">if</span>(oSelf._ftEl) {
        oSelf._createFilterCheckbox(category);
    }
};

<span class="comment">/**
 * Handles click events on the collapse button.
 *
 * <span class="attrib">@param</span> {event} v The click event
 * <span class="attrib">@param</span> {object} oSelf The log reader instance
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._onClickCollapseBtn = <span class="reserved">function</span>(v, oSelf) {
    var btn = oSelf._collapseBtn;
    <span class="reserved">if</span>(btn.value == <span class="literal">"Expand"</span>) {
        oSelf._consoleEl.style.display = <span class="literal">"block"</span>;
        <span class="reserved">if</span>(oSelf._ftEl) {
            oSelf._ftEl.style.display = <span class="literal">"block"</span>;
        }
        btn.value = <span class="literal">"Collapse"</span>;
    }
    <span class="reserved">else</span> {
        oSelf._consoleEl.style.display = <span class="literal">"none"</span>;
        <span class="reserved">if</span>(oSelf._ftEl) {
            oSelf._ftEl.style.display = <span class="literal">"none"</span>;
        }
        btn.value = <span class="literal">"Expand"</span>;
    }
};

<span class="comment">/**
 * Handles click events on the pause button.
 *
 * <span class="attrib">@param</span> {event} v The click event
 * <span class="attrib">@param</span> {object} oSelf The log reader instance
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._onClickPauseBtn = <span class="reserved">function</span>(v, oSelf) {
    var btn = oSelf._pauseBtn;
    <span class="reserved">if</span>(btn.value == <span class="literal">"Resume"</span>) {
        oSelf.resume();
        btn.value = <span class="literal">"Pause"</span>;
    }
    <span class="reserved">else</span> {
        oSelf.pause();
        btn.value = <span class="literal">"Resume"</span>;
    }
};

<span class="comment">/**
 * Handles click events on the clear button.
 *
 * <span class="attrib">@param</span> {event} v The click event
 * <span class="attrib">@param</span> {object} oSelf The log reader instance
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._onClickClearBtn = <span class="reserved">function</span>(v, oSelf) {
    oSelf._clearConsole();
};

<span class="comment">/**
 * Handles check events on the filter checkboxes.
 *
 * <span class="attrib">@param</span> {event} v The click event
 * <span class="attrib">@param</span> {object} oSelf The log reader instance
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._onCheckFilter = <span class="reserved">function</span>(v, oSelf) {
    var category = <span class="reserved">this</span>.category;
    <span class="reserved">if</span>(<span class="reserved">this</span>.checked) { // Remove category from filters
        <span class="reserved">for</span>(var i=0; i&lt;oSelf._filters.length; i++) {
            <span class="reserved">if</span>(category == oSelf._filters[i]) {
                oSelf._filters.splice(i, 1);
                break;
            }
        }
    }
    <span class="reserved">else</span> { // Add category to filters
        oSelf._filters.push(category);
    }
    oSelf._filterLogs();
};

<span class="comment">/**
 * Handles Logger's onNewEvent.
 *
 * <span class="attrib">@param</span> {string} type The click event
 * <span class="attrib">@param</span> {array} args Data passed from event firer
 * <span class="attrib">@param</span> {object} oSelf The log reader instance
 * <span class="attrib">@private</span>
 */</span>
YAHOO.widget.LogReader.<span class="reserved">prototype</span>._onNewLog = <span class="reserved">function</span>(type, args, oSelf) {
    var logEntry = args[0];
    oSelf._buffer.push(logEntry);

    <span class="reserved">if</span> (oSelf.logReaderEnabled === true &amp;&amp; oSelf._timeout === null) {
        oSelf._timeout = setTimeout(<span class="reserved">function</span>(){oSelf._printBuffer();}, 100);
    }
};


</pre>
			</div>
		
	</div>
</div>


<div id="footer">
	<hr />
	Copyright &copy; 2006 Yahoo! Inc. All rights reserved.
	<br />
	Documentation generated by <a href="http://jsdoc.sourceforge.net/">JSDoc</a>
</div>


</body>
</html>
