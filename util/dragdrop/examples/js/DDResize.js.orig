
/* Copyright (c) 2006 Yahoo! Inc. All rights reserved. */

/**
 * @extends YAHOO.util.DD
 * @constructor
 * @param {String} handle the id of the element that will cause the resize
 * @param {String} panel id of the element to resize
 * @param {String} sGroup the group of related DragDrop items
 */
YAHOO.example.DDResize = function(handleElId, panelElId, sGroup) {
	if (handleElId) {
		this.init(handleElId, sGroup);
		this.logger = new ygLogger("DDResize");
	}

    this.panelElId = panelElId;
};

YAHOO.example.DDResize.prototype = new YAHOO.util.DD();

YAHOO.example.DDResize.prototype.onMouseDown = function(e) {
    this.startPos = YAHOO.util.Dom.getXY(this.getEl());

    var panel = document.getElementById(this.panelElId);
    this.startWidth = panel.offsetWidth;
    this.startHeight = panel.offsetHeight;
};

YAHOO.example.DDResize.prototype.onDrag = function(e) {
    var newPos = YAHOO.util.Dom.getXY(this.getEl());

    var offsetX = newPos[0] - this.startPos[0];
    var offsetY = newPos[1] - this.startPos[1];

    var newWidth = Math.max(this.startWidth + offsetX, 10);
    var newHeight = Math.max(this.startHeight + offsetY, 10);

    var panel = document.getElementById(this.panelElId);
    panel.style.width = newWidth + "px";
    panel.style.height = newHeight + "px";
};

