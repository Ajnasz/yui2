<?php
$prepend = '<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/button/assets/skins/sam/button.css" />
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/yuiloader/yuiloader-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/dom/dom-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/event/event-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/element/element-beta-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/button/button-min.js"></script>


<!--begin custom header content for this example-->
<style type="text/css">
    #demo input {
        margin: 0 0 1ex;
        font-size: 113%;
        padding: .2em 1em;
    }
    
    #demo .tally {
        text-align: center;
        width: 7em;
        display: inline;
        float: left;
    }
    #demo .tally h3 {
        background: #222;
        color: #fff;
        margin: 0;
        padding: 1ex;
    }
    #demo .tally p {
        font-size: 5em;
        background: #fff;
        color: #000;
        margin: 0;
    }
    #demo .tally p.limit_reached {
        color: #900;
        font-style: italic;
    }

    #demo .demo_buttons {
        margin-left: 8em;
    }
</style>

<!--end custom header content for this example-->

';
$section="examples";
$highlightSyntax = true;
$assetsDirectory = "assets/";
$releasenotes = false;
$bodyclass = " yui-skin-sam";
$title = "YUI Library Examples: YAHOO Global Object: Creating a Composition-Based Class Structure Using <code>YAHOO.lang.augmentProto</code>";
include("../../inc/header.inc"); 
?>
		
	
	<div id="yui-main">
		<div class="yui-b">
		  <div class="yui-ge">
			  <div class="yui-u first example">

    
	<div class="promo">
	<h1>YAHOO Global Object: Creating a Composition-Based Class Structure Using <code>YAHOO.lang.augmentProto</code></h1>
	
	<div class="exampleIntro">
	<p>You may be familiar with this method as <code>YAHOO.augment</code>.  See the <a href="#augment_naming">history of augmentProto</a> for background and recommendations for syntax.</p>

<p>In this example, a class has been created then augmented with <code>YAHOO.util.EventProvider</code> to provide custom event functionality.</p>

<p>Click the Send button to send the instance of the new class a request.</p>
			
	</div>	
					
	<div class="example-container module ">
			<div id="example-canvas" class="bd">
	
		
	<!--BEGIN SOURCE CODE FOR EXAMPLE =============================== -->
	
	<input type="button" id="demo" name="demo" value="Send">

<p id="demo_p1"></p>
<p id="demo_p2"></p>

<script type="text/javascript">
    YAHOO.namespace('example');
    YAHOO.example.Foo = function () {
        /* code specific to Foo */
        this.createEvent('interestingMoment');
    }
    YAHOO.example.Foo.prototype.doSomething = function() {
        /* ..do something interesting... */

        this.fireEvent('interestingMoment');
    }

    YAHOO.lang.augmentProto(YAHOO.example.Foo, YAHOO.util.EventProvider);

    var f = new YAHOO.example.Foo();

    // Add some event listeners
    f.subscribe('interestingMoment', function () {
        var p = YAHOO.util.Dom.get('demo_p1');
        p.innerHTML = 'I was notified of an interesting moment';
    });
    f.subscribe('interestingMoment', function () {
        var p = YAHOO.util.Dom.get('demo_p2');
        p.innerHTML = 'I was also notified of an interesting moment';
    });

    YAHOO.util.Event.on('demo','click', function () { f.doSomething() });
</script>
	
	<!--END SOURCE CODE FOR EXAMPLE =============================== -->
	
		
		</div>
		
	
	</div>			
	</div>
		
	<h2 class="first">YAHOO.lang is packaged with the YAHOO Global Object</h2>
<p><code>YAHOO.lang</code> comes bundled with the <a href="http://developer.yahoo.com/yui/yahoo/">YAHOO Global Object</a>.  To add the YAHOO Global Object, include the following in your markup:</p>

<textarea name="code" class="HTML" cols="60" rows="1">
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/yahoo/yahoo-min.js"></script>

</textarea>

<p>If you are using any other YUI component on your page, you should already have <code>YAHOO.lang</code> available.</p>

<h2>The example: Any class can be an EventProvider</h2>
<p>This example creates a custom class, then augments it with <code>YAHOO.util.EventProvider</code> (functionality included in the <a href="http://developer.yahoo.com/yui/event/">YUI Event Utility</a>).  Using the packaged functionality of <code>EventProvider</code>, the code for <code>Foo</code> is able to focus on the functionality unique to its purpose.</p>

<textarea name="code" class="JScript" cols="60" rows="1">
YAHOO.namespace('example');

// Create a class Foo for some greater purpose
YAHOO.example.Foo = function () {
    /* code specific to Foo */

    // Add a custom event for the instance
    this.createEvent('interestingMoment');
}
YAHOO.example.Foo.prototype.doSomething = function() {
    /* ..do something interesting... */

    // Fire off the custom event
    this.fireEvent('interestingMoment');
}

// Make the custom event stuff possible via augmentProto
YAHOO.lang.augmentProto(YAHOO.example.Foo, YAHOO.util.EventProvider);

var f = new YAHOO.example.Foo();

// Add some event listeners
f.subscribe('interestingMoment', function () {
    var p = YAHOO.util.Dom.get('demo_p1');
    p.innerHTML = 'I was notified of an interesting moment';
});
f.subscribe('interestingMoment', function () {
    var p = YAHOO.util.Dom.get('demo_p2');
    p.innerHTML = 'I was also notified of an interesting moment';
});

// Add a listener to the button to call the instance's doSomething method
YAHOO.util.Event.on('demo','click', function () { f.doSomething() });
</textarea>

<h2>Composition, not inheritance</h2>
<p>If <code>Foo</code> were a part of a class hierarchy, it would be improper to include <code>EventProvider</code> in the inheritance chain, since the purpose of the two are fundamentally different.</p>

<p>Unlike <code>extend</code>ed classes, the relationship between a class and the classes augmenting it is not an indication of type hierarchy.  The intent of <code>augmentProto</code> is to aid in extracting nonessential behaviors or behaviors shared by many classes, allowing for a composition-style class architecture.</p>

<img src="assets//composition_diagram.png" alt="Diagram showing class hierarchy, highlighting has-a relationship"/>

<p>This may appear similar to multiple inheritance, but it's not.  <code>augmentProto</code> simply adds the public methods and members from one class prototype to another class prototype.  Instances of the augmented class will not pass <code>instanceof</code> tests for the class(es) which augmented it.</p>

<textarea name="code" class="JScript" cols="60" rows="1">
function Foo() {}
Foo.prototype.doSomething = function () { /* something */ };

function Bar() {}
YAHOO.lang.augmentProto(Bar, Foo);

var b = new Bar();
if (b instanceof Bar) {} // true 
if (b instanceof Foo) {} // FALSE
</textarea>

<h2 id="augment_naming">A short history of augmentProto</h2>
<p><code>augmentProto</code> started its life as <code>YAHOO.augment</code> way back in version 0.12 of YUI.</p>

<p>In version 2.2.0, it was moved into the <code>YAHOO.lang</code> module.  The alias <code>YAHOO.augment</code> was added for backward compatibility.</p>

<p>In version 2.3.0, <code>augment</code> became <code>augmentProto</code>.  Another alias, <code>YAHOO.lang.augment</code>, was created for backward compatibility.</p>

<p>While these aliases should be around for a while, it's advisable to use <code>YAHOO.lang.augmentProto</code> going forward to ensure that your code is as future-compatible as possible.</p>

<h2>Configuration for This Example</h2>

<p>You can load the necessary JavaScript and CSS for this example from Yahoo's servers.  <a href="http://developer.yahoo.com/yui/articles/hosting/?dom&event&MIN#configure">Click here to load the YUI Dependency Configurator with all of this example's dependencies preconfigured</a>.</p>

				</div>
				<div class="yui-u">
					
				
					<div id="examples">
						<h3 class='firstContent'>YAHOO Global Object Examples:</h3>
	
						<div id="exampleToc">
							<ul>
								<li><a href='../yahoo/yahoo_type_checking.html'>Type-Checking Your Data</a></li><li><a href='../yahoo/yahoo_ua_detection.html'>User Agent Detection</a></li><li><a href='../yahoo/yahoo_extend.html'>Creating Class Hierarchies with <code>YAHOO.lang.extend</code></a></li><li class='selected'><a href='../yahoo/yahoo_augment_proto.html'>Creating a Composition-Based Class Structure Using <code>YAHOO.lang.augmentProto</code></a></li><li><a href='../yahoo/yahoo_augment_object.html'>Add Behavior to Objects or Static Classes with <code>YAHOO.lang.augmentObject</code></a></li><li><a href='../yahoo/yahoo_merge.html'>Combining Simple Data Sets with <code>YAHOO.lang.merge</code></a></li>							</ul>
						</div>
					</div>
					
					<div id="module">
						<h3>More YAHOO Global Object Resources:</h3>
						<ul>
							<li><a href="http://developer.yahoo.com/yui/yahoo/">User's Guide</a></li>
						<li><a href="../../docs/module_yahoo.html">API Documentation</a></li>
</ul>
					</div>
			  </div>
		</div>
		
		</div>
	</div>


	<?php 
	$append = "

<script src='../../assets/YUIexamples.js'></script>

";
	include("../../inc/side.inc");
	include("../../inc/footer.inc");
	?>