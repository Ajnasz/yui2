<?php
$prepend = '<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/logger/assets/skins/sam/logger.css" />
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/button/assets/skins/sam/button.css" />
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/yuiloader/yuiloader-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/event/event-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/dom/dom-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/logger/logger-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/element/element-beta-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/button/button-min.js"></script>


<!--begin custom header content for this example-->
<style type="text/css">
	#returnedData {background-color:#0000ff; color:#ffffff; padding:1em; margin-top:1em; white-space:normal;}
</style>

<!--end custom header content for this example-->

';
$section="examples";
$highlightSyntax = true;
$assetsDirectory = "assets/";
$releasenotes = false;
$bodyclass = " yui-skin-sam";
$title = "YUI Library Examples: Get Utility: Quickstart Example: Getting a Script File with YUI Get";
include("../../inc/header.inc"); 
?>
		
	
	<div id="yui-main">
		<div class="yui-b">
		  <div class="yui-ge">
			  <div class="yui-u first example">

    
	<div class="promo">
	<h1>Get Utility: Quickstart Example: Getting a Script File with YUI Get</h1>
	
	<div class="exampleIntro">
	<p>This example explores the simplest and most common use case for the <a href="http://developer.yahoo.com/yui/get">YUI Get Utility</a>: fetching a script with <code>YAHOO.util.Get.script()</code> and making use of its contents.</p>

<p>Click the button to retrieve the script and output its data to the blue box.  The tutorial below gives you a full description of how to use this technique.</p>			
	</div>	
					
	<div class="example-container module ">
			<div class="hd exampleHd">
			<p class="newWindowButton yui-skin-sam"><!--<span id="newWindowLinkx"><span class="first-child">--><a href="get-script-simple_clean.html" target="_blank">View example in new window.</a><!--</span></span>-->		
		</div>		<div id="example-canvas" class="bd">
	
		
	<!--BEGIN SOURCE CODE FOR EXAMPLE =============================== -->
	
	<div>
	<button id="getScript">Get Data from Script</button>
</div>

<pre id="returnedData">
	Data returned from the loaded script will appear here after you click the button above.
</pre>

<script language="JavaScript">
(function() {
	
	//We'll use a YUI Button to actuate our request for the script:
	var button = new YAHOO.widget.Button("getScript", {type: "link"});
	
	//When the button is clicked, we'll make the script request:
	button.on("click", function() {
		
		YAHOO.log("Button was clicked; loading script with Get Utility.", "info", "example");

		//We have a .js file at assets/simple_get.js.  We will get
		//that script with the Get Utility:
		YAHOO.util.Get.script("../get/assets/simple_get.js", {
			
			//ALL OF THE CONFIGURATION OPTIONS BELOW ARE OPTIONAL;
			//IN MANY CASES, YOU'LL NEED ONLY TO DEFINE YOUR SUCCESS/
			//FAILURE HANDLERS.
			
			//callback to fire when the script is successfully loaded:
			onSuccess: function(obj) {
				YAHOO.log("Success handler was called. Transaction ID: " + obj.tId, "info", "example");
				document.getElementById("returnedData").innerHTML = YAHOO.lang.dump(YAHOO.simple_get.data, 3);
			},
			
			//callback to fire if the script does not successfully load:
			onFailure: function(o) {
				YAHOO.log("Failure handler was called. Transaction ID: " + obj.tId, "info", "example");
			},
			
			//context under which success and failure handlers should run;
			//default is the current window, which we'll use for this example:
			scope: window,
			
			//by default, the script will be added to the current
			//window; use this property to override that default
			//(we're just using the default in this example):
			win: window,
			
			//will be passed as a member of the callback object to
			//the success or failure handler:
			data: {testData: "value"},
			
			//For Safari 2.x, which does not support the script's onload
			//event to determine when the script is loaded; instead, Get
			//will check for the presence of this varName (which is
			//defined in the script we're retrieving) and use its presence
			//to determine when the script has been successfully loaded:
			varName: ["YAHOO.simple_get.data"]
		});
		
	});
	
})();
</script>	
	<!--END SOURCE CODE FOR EXAMPLE =============================== -->
	
		
		</div>
		
	
	</div>			
	</div>
		
	<h2 class="first">Quickstart Example: Getting a Script File with YUI Get</h2>

<p>In this simple example, we perform the most common task for which the Get Utility is used: retrieving a script and adding it to the page.</p>

<p>The contents of the script we're fetching (<code>assets/simple_get.js</code>) are as follows:</p>

<textarea name="code" class="JScript">
//when this script is loaded by the YUI Get Utility,
//all of its contents will be evaluated in the context
//of the window object -- it has all the access to the
//page, the DOM, cookies, etc., that any other script
//would have, even if you've loaded it from a disparate
//domain.

//create a globally accessible namespace, assuming
//that YUI is already present:
YAHOO.namespace("simple_get");

//store some data:
YAHOO.simple_get.data = {
	script: "assets/simple_get.js",
	loaded: "loaded using YUI's Get Utility",
	time: new Date().toString()
}
</textarea>

<p>The script file above defines a new namespace and then adds a property to that namespace.  There are no restrictions on what we can do in the retrieved script; it can contain any correct JavaScript.  When retrieved, it will be evaluated by the browser in the context of the window to which it was added.  By default, it will be added to the current window and evaluated in that context.</p>

<p>In this page, we create a button and wire it so that when it's clicked the Get Utility will create a script node and populate it with the file above.</p>

<textarea name="code" class="JScript">//We'll use a YUI Button to actuate our request for the script:
var button = new YAHOO.widget.Button("getScript", {type: "link"});

//When the button is clicked, we'll make the script request:
button.on("click", function() {

	//We have a .js file at assets/simple_get.js.  We will get
	//that script with the Get Utility:
	YAHOO.util.Get.script("../get/assets/simple_get.js", {

		//callback to fire when the script is successfully loaded:
		onSuccess: function(obj) {
			YAHOO.log("Success handler was called. Transaction ID: " + obj.tId, "info", "example");
			document.getElementById("returnedData").innerHTML = YAHOO.lang.dump(YAHOO.simple_get.data, 3);
		}
	});
	
});
</textarea>

<p>Above you see the important parts of this script.  In the Button's click handler, we invoke <code>YAHOO.util.Get.script</code> and pass it the URI of the script to be loaded.  (The script can be on your server or on a third-party server; it is not restricted by the Same Origin Policy, which is why this is a popular approach for consuming JSON-based web services.) We also tell Get what we want to do once the script is loaded by defining an <code>onSuccess</code> configuration property.  This property consists of a function in which we can make use of the contents of <code>assets/simple_get.js</code>.</p>

<h2>Full Script Source for This Example:</h2>

<p>The full script source used in this example appears below; read through the inline comments to get a full understanding of how to use the Get Utiltiy in the simple use case of retrieving a script file and making use of its contents.</p>

<textarea name="code" class="JScript">
(function() {
	
	//We'll use a YUI Button to actuate our request for the script:
	var button = new YAHOO.widget.Button("getScript", {type: "link"});
	
	//When the button is clicked, we'll make the script request:
	button.on("click", function() {
		
		YAHOO.log("Button was clicked; loading script with Get Utility.", "info", "example");

		//We have a .js file at assets/simple_get.js.  We will get
		//that script with the Get Utility:
		YAHOO.util.Get.script("../get/assets/simple_get.js", {
			
			//ALL OF THE CONFIGURATION OPTIONS BELOW ARE OPTIONAL;
			//IN MANY CASES, YOU'LL NEED ONLY TO DEFINE YOUR SUCCESS/
			//FAILURE HANDLERS.
			
			//callback to fire when the script is successfully loaded:
			onSuccess: function(obj) {
				YAHOO.log("Success handler was called. Transaction ID: " + obj.tId, "info", "example");
				document.getElementById("returnedData").innerHTML = YAHOO.lang.dump(YAHOO.simple_get.data, 3);
			},
			
			//callback to fire if the script does not successfully load:
			onFailure: function(o) {
				YAHOO.log("Failure handler was called. Transaction ID: " + obj.tId, "info", "example");
			},
			
			//context under which success and failure handlers should run;
			//default is the current window, which we'll use for this example:
			scope: window,
			
			//by default, the script will be added to the current
			//window; use this property to override that default
			//(we're just using the default in this example):
			win: window,
			
			//will be passed as a member of the callback object to
			//the success or failure handler:
			data: {testData: "value"},
			
			//For Safari 2.x, which does not support the script's onload
			//event to determine when the script is loaded; instead, Get
			//will check for the presence of this varName (which is
			//defined in the script we're retrieving) and use its presence
			//to determine when the script has been successfully loaded:
			varName: ["YAHOO.simple_get.data"]
		});
		
	});
	
})();
</textarea>

<h2>Configuration for This Example</h2>

<p>You can load the necessary JavaScript and CSS for this example from Yahoo's servers.  <a href="http://developer.yahoo.com/yui/articles/hosting/?button&get&MIN#configure">Click here to load the YUI Dependency Configurator with all of this example's dependencies preconfigured</a>.</p>

				</div>
				<div class="yui-u">
						<div id="loggerModule" class="yui-skin-sam">
						<h3 class="firstContent">YUI Logger Output:</h3>
								<div id="loggerDiv"></div>
						</div>
					
				
					<div id="examples">
						<h3>Get Utility Examples:</h3>
	
						<div id="exampleToc">
							<ul>
								<li class='selected'><a href='../get/get-script-simple.html'>Quickstart Example: Getting a Script File with YUI Get</a></li><li><a href='../get/get-script-basic.html'>Getting a Script Node with JSON Data from a Web Service</a></li><li><a href='../get/get-css-basic.html'>Getting CSS Style Sheets</a></li><li><a href='../layout/adv_layout.html'>Complex Application (included with examples for Layout Manager)</a></li>							</ul>
						</div>
					</div>
					
					<div id="module">
						<h3>More Get Utility Resources:</h3>
						<ul>
							<li><a href="http://developer.yahoo.com/yui/get/">User's Guide</a></li>
						<li><a href="../../docs/module_get.html">API Documentation</a></li>
                            
                            
							<li><a href="http://yuiblog.com/assets/pdf/cheatsheets/get.pdf">Cheat Sheet PDF</a></li></ul>
					</div>
			  </div>
		</div>
		
		</div>
	</div>


	<?php 
	$append = "

<script src='../../assets/YUIexamples.js'></script>

";
	include("../../inc/side.inc");
	include("../../inc/footer.inc");
	?>