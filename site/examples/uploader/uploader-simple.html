<?php
$prepend = '<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0test/build/button/assets/skins/sam/button.css" />
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0test/build/yuiloader/yuiloader-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0test/build/event/event-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0test/build/dom/dom-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0test/build/element/element-beta-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0test/build/button/button-min.js"></script>

<!--there is no custom header content for this example-->

';
$section="examples";
$highlightSyntax = true;
$assetsDirectory = "assets/";
$releasenotes = false;
$bodyclass = " yui-skin-sam";
$title = "YUI Library Examples: Uploader Control (experimental): Simple Uploader Example";
include("../../inc/header.inc"); 
?>
		
	
	<div id="yui-main">
		<div class="yui-b">
		  <div class="yui-ge">
			  <div class="yui-u first example">

    
	<div class="promo">
	<h1>Uploader Control (experimental): Simple Uploader Example</h1>
	
	<div class="exampleIntro">
	<p>This example is a demonstration of the <a href="../../uploader/">YUI Uploader Control</a>'s features.</p>

<p><strong>Note:</strong> The YUI Uploader Control requires Flash Player 9.0.45 or higher. The latest version of Flash Player is available at the <a href="http://www.adobe.com/go/getflashplayer">Adobe Flash Player Download Center</a>.</p>
<p><strong>Note:</strong> The YUI Uploader Control requires the uploader.swf Flash file that is distributed as part of the YUI package, in the uploader/assets folder. Copy the uploader.swf to your server and set the YAHOO.Uploader.SWFURL variable to its full path.</p>			
	</div>	
					
	<div class="example-container module ">
			<div id="example-canvas" class="bd">
	
		
	<!--BEGIN SOURCE CODE FOR EXAMPLE =============================== -->
	
	<p><strong>Note:</strong> This example requires a backend component to receive uploaded files. Download the source for this example below to use on your own PHP server.</p>

<p><a href="assets/uploader-simple.zip"><strong>Download example source.</strong></a></p>

<p>When you have the example running on your own server, it should look like the screenshot below:</p>

<p><img src="assets/uploader-simple.jpg" alt="Simple Uploader Example Screenshot"/></p>
	
	<!--END SOURCE CODE FOR EXAMPLE =============================== -->
	
		
		</div>
		
	
	</div>			
	</div>
		
	<h2 class="first">A Simple Use Case for the Uploader Control</h2>

<p>Start by including all the necessary files for the Uploader and Logger controls: </p>

<textarea name="code" class="html" cols="60" rows="5"><html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Uploader Simple Example</title>

<!-- Required YUI files -->
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0test/build/fonts/fonts-min.css" />
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0test/build/yahoo-dom-event/yahoo-dom-event.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0test/build/element/element-beta.js"></script>

<!-- Main Uploader script -->
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0test/build/uploader/uploader-experimental.js"></script>

<!-- Logger CSS and JS --> 
<link type="text/css" rel="stylesheet" href="http://yui.yahooapis.com/2.6.0test/build/logger/assets/skins/sam/logger.css"> 
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0test/build/logger/logger-min.js"></script>
</head>

<body class="yui-skin-sam">

<h1>Uploader Quickstart Example</h1></textarea>
<p> Next, we set a placeholder for the Uploader Control. The Control has a  built-in logging console, so if you set the size of the div to 400x210,  you'll see the internal logs of the Uploader. </p>

<textarea name="code" class="html" cols="60" rows="5">    
<div id="uploaderPlaceHolder" style="width:400px;height:210px">
Unable to load Flash content. The YUI File Uploader Control requires Flash Player 9.0.45 or higher. 
You can download the latest version of Flash Player from the 
<a href="http://www.adobe.com/go/getflashplayer">Adobe Flash Player Download Center</a>
</div></textarea>
<p> Next, we'll add two buttons, a &quot;Browse&quot; button, and the &quot;Upload&quot; button. Note that the buttons call the <code>browse()</code> and <code>upload()</code> functions, respectively. </p>

<textarea name="code" class="html" cols="60" rows="5">
<input type="Button" value="Browse" onClick="browse();" />
<input type="Button" value="Upload" onClick="upload();" />    
</textarea>
<p> We will now initialize the Logger and the Uploader controls. Note that we are also specifying the <code>SWFURL</code> property for the uploader that's different from the default (./assets/Uploader.swf): </p>
<p> </p>
<textarea name="code" class="JScript" cols="60" rows="5">
<script type="text/javascript">
this.myLogReader = new YAHOO.widget.LogReader();
YAHOO.widget.Uploader.SWFURL = "http://yui.yahooapis.com/2.6.0test/build/uploader/assets/uploader.swf";
var uploader = new YAHOO.widget.Uploader( "uploaderPlaceHolder" );
</textarea>
<p> Next, we&#39;ll add the event listeners to the Uploader control, and initialize a <code>fileList</code> variable to hold the list of fileIDs and file information. </p>

<textarea name="code" class="JScript" cols="60" rows="5">uploader.addListener('fileSelect',onFileSelect)
uploader.addListener('uploadStart',onUploadStart);
uploader.addListener('uploadProgress',onUploadProgress);
uploader.addListener('uploadCancel',onUploadCancel);
uploader.addListener('uploadComplete',onUploadComplete);
uploader.addListener('uploadCompleteData',onUploadResponse);
uploader.addListener('uploadError', onUploadError);

var fileList;
</textarea>

<p>Next, we&#39;ll define the <code>browse()</code> and <code>upload()</code> functions that are called when the respective buttons are pressed.   In the <code>browse()</code> function, we call the <code>uploader.clearFileList()</code>,  to make sure that no files are left over from the previous upload (if  this is the first time the page loads, then there wont be any files  there to start with; but the upload queue is not automatically cleared  between file selections, so unless we want it to preserve, we want to  clear it).  We then call the <code>uploader.browse</code> function. The first  argument to that function specifies whether we want the user to be able  to select multiple files. To keep this example simple, we&#39;ll restrict  the user to just one file. The second argument is an array of extension  filters -- in this case, we have just one, limiting the file extensions  to &quot;.jpg&quot;. We also post a message to the Logger control. </p>

<p> </p>
<textarea name="code" class="JScript" cols="60" rows="5">
   function browse() {
  uploader.clearFileList();
  uploader.browse(false, [{description:"Images", extensions:"*.jpg"}]);
  YAHOO.log("Started browsing for images");
}
</textarea>
<p> In the <code>upload()</code> function, we go through the fileList (that&#39;s populated by the <code>onFileSelect</code> function below) and call the upload method on all of the file ids  contained in it (since we are only allowing the user to select one  file, there will be only one file id in the list): </p>
<p> </p>

<textarea name="code" class="JScript" cols="60" rows="5">
   function upload() {
if (fileList != null) {
  for(var i in fileList) {
     uploader.upload(i, 'YOUR UPLOAD URL HERE');
  }
}   
}
</textarea>
<p>Next, we&#39;ll define the functions that are called in response to the  events. These are the functions we specified when we added the event  listeners above: </p>
<p> The <code>onFileSelect</code> receives the list of files and populates the <code>fileList</code> variable with it. </p>
<p> </p>
<textarea name="code" class="html" cols="60" rows="5">
function onFileSelect(event) {
  fileList = event.fileList;
  YAHOO.log("Files selected");
  YAHOO.log(event);
}
</textarea>
<p>The rest of the functions simply log the events they receive in the  Logger. By examining the event object dump in the Logger, you will be able to see what variables are passed for each specific event (see the  Getting Started for the detailed description): </p>
<p> </p>
<textarea name="code" class="JScript" cols="60" rows="5">
  function onUploadStart(event) {
  YAHOO.log(event);
}

function onUploadProgress(event) {
  YAHOO.log(event);
}

function onUploadComplete(event) {
  YAHOO.log(event);
}

function onUploadError(event) {
  YAHOO.log(event, "error");
}
function onUploadCancel(event) {
  YAHOO.log(event);
}

function onUploadResponse(event) {
  YAHOO.log(event);
}

</script>
</body>
</html>
</textarea>				</div>
				<div class="yui-u">
					
				
					<div id="examples">
						<h3 class='firstContent'>Uploader Control (experimental) Examples:</h3>
	
						<div id="exampleToc">
							<ul>
								<li class='selected'><a href='../uploader/uploader-simple.html'>Simple Uploader Example</a></li><li><a href='../uploader/uploader-advanced.html'>Advanced Uploader Example</a></li>							</ul>
						</div>
					</div>
					
					<div id="module">
						<h3>More Uploader Control (experimental) Resources:</h3>
						<ul>
							<li><a href="http://developer.yahoo.com/yui/uploader/">User's Guide</a></li>
						<li><a href="../../docs/module_uploader.html">API Documentation</a></li>
                            
                            
							<li><a href="http://yuiblog.com/assets/pdf/cheatsheets/uploader.pdf">Cheat Sheet PDF</a></li></ul>
					</div>
			  </div>
		</div>
		
		</div>
	</div>


	<?php 
	$append = "

<script src='../../assets/YUIexamples.js'></script>

";
	include("../../inc/side.inc");
	include("../../inc/footer.inc");
	?>