<?php
$prepend = '<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/carousel/assets/skins/sam/carousel.css" />
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/button/assets/skins/sam/button.css" />
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/yuiloader/yuiloader-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/dom/dom-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/event/event-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/element/element-beta-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/carousel/carousel-beta-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/button/button-min.js"></script>


<!--begin custom header content for this example-->
<style type="text/css">
    /* Style the spotlight container */
    #spotlight {
        border: 1px solid #ccc;
        height: 180px;
        margin: 10px auto;
        padding: 1px;
        width: 240px;
    }
    
    #container {
        margin: 0 auto;
    }

    .yui-carousel-element li {
        height: 75px;
        opacity: 0.6;
        width: 75px;
    }
    
    .yui-carousel-element .yui-carousel-item-selected {
        opacity: 1;
    }

    .yui-skin-sam .yui-carousel-nav ul li {
        margin: 0;
    }
</style>

<!--end custom header content for this example-->

';
$section="examples";
$highlightSyntax = true;
$assetsDirectory = "assets/";
$releasenotes = false;
$bodyclass = " yui-skin-sam";
$title = "YUI Library Examples: Carousel Control: Spotlight example";
include("../../inc/header.inc"); 
?>
		
	
	<div id="yui-main">
		<div class="yui-b">
		  <div class="yui-ge">
			  <div class="yui-u first example">

    
	<div class="promo">
	<h1>Carousel Control: Spotlight example</h1>
	
	<div class="exampleIntro">
	<p>
    This example uses the <a href="http://developer.yahoo.com/yui/carousel/">YUI Carousel Control</a> to showcase a simple spotlight
    example using its <code>itemSelected</code> event.  In this example, you can use arrow
    keys to select items as well as click on an item to select it.
</p>
<p>
    Though this functionality looks a little complicated, it is very easy to
    implement.  This is because the YUI Carousel Control handles the keyboard
    event and the mouse click event for setting the selection.  When an item is
    selected, the YUI Carousel Control triggers an <code>itemSelected</code> event.  This
    example subscribes to the <code>itemSelected</code> event to display the selected
    image in the spotlight.
</p>
			
	</div>	
					
	<div class="example-container module ">
			<div class="hd exampleHd">
			<p class="newWindowButton yui-skin-sam"><!--<span id="newWindowLinkx"><span class="first-child">--><a href="csl_selection_clean.html" target="_blank">View example in new window.</a><!--</span></span>-->		
		</div>		<div id="example-canvas" class="bd">
	
		
	<!--BEGIN SOURCE CODE FOR EXAMPLE =============================== -->
	
	<!-- The Carousel container -->
<div id="container">
    <ol id="carousel">
        <li>
            <img src="http://farm1.static.flickr.com/135/342099636_7b05b7cde5_s.jpg">
        </li>
        <li>
            <img src="http://farm1.static.flickr.com/136/342099938_fdef3ca3b5_s.jpg">
        </li>
        <li>
            <img src="http://farm1.static.flickr.com/147/342099522_3827eaa929_s.jpg">
        </li>
        <li>
            <img src="http://farm1.static.flickr.com/143/342100011_ec4d338c71_s.jpg">
        </li>
        <li>
            <img src="http://farm1.static.flickr.com/161/342100080_0fe4f9ccb0_s.jpg">
        </li>
        <li>
            <img src="http://farm1.static.flickr.com/153/342100324_82589c0ebe_s.jpg">
        </li>
        <li>
            <img src="http://farm1.static.flickr.com/147/342100376_d0336252a7_s.jpg">
        </li>
        <li>
            <img src="http://farm1.static.flickr.com/156/342100472_b9bc985fa4_s.jpg">
        </li>
        <li>
            <img src="http://farm1.static.flickr.com/133/342100566_39dae4698f_s.jpg">
        </li>
    </ol>
</div>
<!-- The spotlight container -->
<div id="spotlight"></div>

<style type="text/css">
/* Style the spotlight container */
#spotlight {
	border: 1px solid #ccc;
	height: 180px;
	margin: 10px auto;
	padding: 1px;
	width: 240px;
}

.yui-carousel-element li {
	opacity: 0.6;
}

.yui-carousel-element .yui-carousel-item-selected {
	opacity: 1;
}
</style>
<script>
    (function () {
        var carousel;
                        
        // Get the image link from within its (parent) container.
        function getImage(parent) {
            var el = parent.firstChild;
                    
            while (el) { // walk through till as long as there's an element
                if (el.nodeName.toUpperCase() == "IMG") { // found an image
                    // flickr uses "_s" suffix for small, and "_m" for big
                    // images respectively
                    return el.src.replace(/_s\.jpg$/, "_m.jpg");
                }
                el = el.nextSibling;
            }
            
            return "";
        }
                
        YAHOO.util.Event.onDOMReady(function (ev) {
            var el, item,
                spotlight   = YAHOO.util.Dom.get("spotlight"),
                carousel    = new YAHOO.widget.Carousel("container");
                
            carousel.render(); // get ready for rendering the widget
            carousel.show();   // display the widget
                    
            // display the first selected item in the spotlight
            item = carousel.getElementForItem(carousel.get("selectedItem"));
            if (item) {
                spotlight.innerHTML = "<img src=\"" + getImage(item) + "\">";
            }
                       
            carousel.on("itemSelected", function (index) {
                // item has the reference to the Carousel's item
                item = carousel.getElementForItem(index);

                if (item) {
                    spotlight.innerHTML = "<img src=\""+getImage(item)+"\">";
                }
            });
        });
    })();
</script>
	
	<!--END SOURCE CODE FOR EXAMPLE =============================== -->
	
		
		</div>
		
	
	</div>			
	</div>
		
	<h2 class="first">Using the Carousel Control to Spotlight the Selected Item</h2>
<p>
    Here we will use the <a href="http://developer.yahoo.com/yui/carousel/">YUI Carousel Control</a>'s <code>itemSelected</code> event to display
    the selected image.</p>
<p>
    This example has the following dependencies:
</p>

<textarea name="code" class="HTML" cols="60" rows="1"><link type="text/css" rel="stylesheet" href="http://yui.yahooapis.com/2.6.0/build/carousel/assets/skins/sam/carousel.css">
<script src="http://yui.yahooapis.com/2.6.0/build/yahoo/yahoo-dom-event.js"></script>
<script src="http://yui.yahooapis.com/2.6.0/build/element/element-beta-min.js"></script>
<script src="http://yui.yahooapis.com/2.6.0/build/carousel/carousel-beta-min.js"></script></textarea>

<p>
    This example uses progressive enhancement; the Carousel is created
    from an ordered list.
</p>


<textarea name="code" class="HTML" cols="60" rows="1"><div id="container">
  <ol>
    <li>
      <img src="http://farm1.static.flickr.com/135/342099636_7b05b7cde5_s.jpg">
    </li>
    <li>
      <img src="http://farm1.static.flickr.com/136/342099938_fdef3ca3b5_s.jpg">
    </li>
    <li>
      <img src="http://farm1.static.flickr.com/147/342099522_3827eaa929_s.jpg">
    </li>
    <li>
      <img src="http://farm1.static.flickr.com/143/342100011_ec4d338c71_s.jpg">
    </li>
    <li>
      <img src="http://farm1.static.flickr.com/161/342100080_0fe4f9ccb0_s.jpg">
    </li>
    <li>
      <img src="http://farm1.static.flickr.com/153/342100324_82589c0ebe_s.jpg">
    </li>
    <li>
      <img src="http://farm1.static.flickr.com/147/342100376_d0336252a7_s.jpg">
    </li>
    <li>
      <img src="http://farm1.static.flickr.com/156/342100472_b9bc985fa4_s.jpg">
    </li>
    <li>
      <img src="http://farm1.static.flickr.com/133/342100566_39dae4698f_s.jpg">
    </li>
  </ol>
</div></textarea>

<p>
    We will add a container element where we can display the spotlight image.
</p>

<textarea name="code" class="HTML" cols="60" rows="1"><div id="spotlight"></div></textarea>

<p>
    We'll have only one CSS rule to set the height for the Carousel items.
</p>
<textarea name="code" class="CSS" cols="60" rows="1">
.yui-carousel-element li {
    height: 75px;
    width: 75px;
}</textarea>

<p>
    Since we have the elements in place, we can invoke the Carousel's
    constructor to create the widget.  The Carousel's <code>selectedItem</code> property
    returns the index of the currently selected item.  So, using that property
    and the <code>getElementForItem()</code> API, we can display the image of the selected item when the
    Carousel is rendered.
</p>

<textarea name="code" class="JScript" cols="60" rows="1">YAHOO.util.Event.onDOMReady(function (ev) {
  var carousel = new YAHOO.widget.Carousel("container");
  carousel.render(); // get ready for rendering the widget
  carousel.show();   // display the widget
  // display the first selected item in the spotlight
  spotlight.innerHTML = "&lt;img src=\"" +
    getImage(carousel.getElementForItem(carousel.get("selectedItem"))) + "\"&gt;";
}</textarea>
</textarea>
<p>
    Now, we can subscribe to the <code>selectedItem</code> event that the Carousel exposes.
    This event is triggered whenever an item is selected and it returns the
    index of the selected item.  With the index of the item, we can use the
    Carousel's <code>getElementForItem()</code> API to get the reference to the Carousel's item (an <code>li</code> element in
    our case).
</p>

<textarea name="code" class="JScript" cols="60" rows="1">carousel.on("itemSelected", function (index) {
  // item has the reference to the Carousel's item
  var item = carousel.getElementForItem(index);
});</textarea>


<p>
    Once the reference to the Carousel's item is obtained, it is
    straightforward to implement a function that extracts the image within it.
</p>

<textarea name="code" class="JScript" cols="60" rows="1">// Get the image link from within its (parent) container.
function getImage(parent) {
  var el = parent.firstChild;
  
  while (el) {  // walk through till as long as there's an element
    if (el.nodeName.toUpperCase() == "IMG") { // found an image
      // flickr uses "_s" suffix for small, and "_m" for big images respectively
      return el.src.replace(/_s\.jpg$/, "_m.jpg");
    }
    el = el.nextSibling;
  }
  
  return "";</textarea>


<h2>Configuration for This Example</h2>

<p>You can load the necessary JavaScript and CSS for this example from Yahoo's servers.  <a href="http://developer.yahoo.com/yui/articles/hosting/?carousel&MIN#configure">Click here to load the YUI Dependency Configurator with all of this example's dependencies preconfigured</a>.</p>

				</div>
				<div class="yui-u">
						<div id="loggerModule" class="yui-skin-sam">
						<h3 class="firstContent">YUI Logger Output:</h3>
								<div id="loggerGloss"><p><strong>Note:</strong> Logging and debugging is currently turned off for this example.</p> 
							<p class="loggerButton"><span id="loggerLink"><span class="first-child"><a href="csl_selection_log.html">Reload with logging<br />
	 and debugging enabled.</a></span></span></p></div>
	
						</div>
					
				
					<div id="examples">
						<h3>Carousel Control Examples:</h3>
	
						<div id="exampleToc">
							<ul>
								<li class='selected'><a href='../carousel/csl_selection.html'>Spotlight example</a></li><li><a href='../carousel/csl_circular.html'>Circular Carousel example</a></li><li><a href='../carousel/csl_reveal.html'>Partially revealing previous and next items</a></li><li><a href='../carousel/csl_imagentext.html'>Using both images and text within an item</a></li><li><a href='../carousel/csl_dynload2.html'>Using Ajax for deferred loading of items</a></li><li><a href='../carousel/carousel-ariaplugin.html'>Using the Carousel ARIA Plugin</a></li>							</ul>
						</div>
					</div>
					
					<div id="module">
						<h3>More Carousel Control Resources:</h3>
						<ul>
							<li><a href="http://developer.yahoo.com/yui/carousel/">User's Guide</a></li>
						<li><a href="../../docs/module_carousel.html">API Documentation</a></li>
                            
                            
							<li><a href="http://yuiblog.com/assets/pdf/cheatsheets/carousel.pdf">Cheat Sheet PDF</a></li></ul>
					</div>
			  </div>
		</div>
		
		</div>
	</div>


	<?php 
	$append = "

<script src='../../assets/YUIexamples.js'></script>

";
	include("../../inc/side.inc");
	include("../../inc/footer.inc");
	?>