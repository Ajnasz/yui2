<?php 
$title="Yahoo! UI Library: YAHOO Global Object";
$section="yahoo";
$component="YAHOO Global Object";
$highlightSyntax = true;
$releasenotes = true;
include "../inc/header.inc";
?>

<div id="yui-main">
<div class="yui-b">
  <div class="yui-ge">
      <div class="yui-u first">

<div id="promo" class="component">
    <h1>Yahoo! UI Library: YAHOO Global Object</h1>
    <p>The YAHOO Global Object provides a single global namespace within which all YUI Library code resides.  It must be included on every page that utilizes the YUI Library, and it must appear before any of the other YUI component.</p>

    <p>The YAHOO Global Object also contains a number of methods that are used throughout
    the library.</p>
	
    <div>
    <h4>On This Page:</h4>
    <ul>
      <li><a href="#start">Getting Started</a></li>
      <li><a href="#using">Using the Utility Methods in YAHOO</a> </li>
      <li><a href="#support">Support &amp; Community</a></li><li><a href="#filingbugs">Filing Bugs and Feature Requests</a></li>
    </ul>
  </div>
  
<?php
include('../inc/quicklinks.inc');
?>
    
  </div>

  <h2 class="first">Getting Started<a name="start"></a></h2>
  <p>The YAHOO Global Object must be included before any of the other script files
  that are part of the YUI library: </p>
  
  <pre><textarea name="code" class="HTML" cols="60" rows="1">
&lt;!-- YAHOO Global Object source file --&gt; 
&lt;script type="text/javascript" src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/yahoo/yahoo-min.js" &gt;&lt;/script&gt;

&lt;!-- Additional source files go here --&gt;
</textarea></pre>
<?php
include "../inc/include-notice.inc";
?>

<h2 id="using">Using the Utility Methods in YAHOO</h2>
<ul>
<li> <a href="#namespace">YAHOO.namespace</a></li>
<li> <a href="#lang">YAHOO.lang</a></li>
<li> <a href="#hasOwnProperty">YAHOO.lang.hasOwnProperty</a></li>
<li> <a href="#extend">YAHOO.lang.extend</a></li>
<li> <a href="#augment">YAHOO.lang.augment</a></li>
<li> <a href="#log">YAHOO.log</a></li>
<li> <a href="#config">YAHOO_config and YAHOO.env</a></li>
<li> <a href="#modulenames">YUI Module Names</a></li>
</ul>

<h3 id="namespace">YAHOO.namespace</h3>
<p>The YAHOO Object automatically generataes namespaces for <code>YAHOO.util</code>, 
   <code>YAHOO.widget</code>, and <code>YAHOO.example</code>.  These namespaces are reserved for script 
   that is included in the YUI release.  Additional namespaces can be created
   to contain custom applications built upon the library:</p>
<pre><textarea name="code" class="JScript" cols="60" rows="1">
// Creates a namespace for "myproduct1"
YAHOO.namespace ("myproduct1");
YAHOO.myproduct1.Class1 = function(info) {
    alert(info);
};

// Creates a namespace for "myproduct2", and for "mysubproject1"
YAHOO.namespace ("myproduct2.mysubproject1");
YAHOO.myproduct2.mysubproject1.Class1 = function(info) {
    alert(info);
};
</textarea></pre>

<h3 id="lang">YAHOO.lang</h3>
<p><code>YAHOO.lang</code> contains javascript language utilities and extensions that are used in the YUI library.  

<pre><textarea name="code" class="JScript" cols="60" rows="1">

// true, an array literal is an array
YAHOO.lang.isArray([1, 2]);

// false, an object literal is not an array
YAHOO.lang.isArray({"one": "two"});

// however, when declared as an array, it is true
function() {
    var a = new Array();
    a["one"] = "two";
    return YAHOO.lang.isArray(a);
}();

// false, a collection of elements is like an array, but isn't
YAHOO.lang.isArray(document.getElementsByTagName("body"));

// true, false is a boolean
YAHOO.lang.isBoolean(false);

// false, 1 and the string "true" are not booleans
YAHOO.lang.isBoolean(1);
YAHOO.lang.isBoolean("true");

// null is null, but false, undefined and "" are not
YAHOO.lang.isNull(null); // true
YAHOO.lang.isNull(undefined); // false
YAHOO.lang.isNull(""); // false

// a function is a function, but an object is not
YAHOO.lang.isFunction(function(){}); // true
YAHOO.lang.isFunction({foo: "bar"}); // false

// true, ints and floats are numbers
YAHOO.lang.isNumber(0);
YAHOO.lang.isNumber(123.123);

// false, strings that can be cast to numbers aren't really numbers
YAHOO.lang.isNumber("123.123");

// false, undefined numbers and infinity are not numbers we want to use
YAHOO.lang.isNumber(1/0);

// true, objects, functions, and arrays are objects
YAHOO.lang.isObject({});
YAHOO.lang.isObject(function(){});
YAHOO.lang.isObject([1,2]);

// false, primitives are not objects
YAHOO.lang.isObject(1);
YAHOO.lang.isObject(true);
YAHOO.lang.isObject("{}");

// strings
YAHOO.lang.isString("{}"); // true
YAHOO.lang.isString({foo: "bar"}); // false
YAHOO.lang.isString(123); // false
YAHOO.lang.isString(true); // false
 
// undefined is undefined, but null and false are not
YAHOO.lang.isUndefined(undefined); // true
YAHOO.lang.isUndefined(false); // false
YAHOO.lang.isUndefined(null); // false

</textarea></pre>

<h3 id="hasOwnProperty">YAHOO.lang.hasOwnProperty</h3>
<p><code>YAHOO.lang.hasOwnProperty</code> can be used to filter out properties that
were added to the Object prototype when iterating over an object
that is being used as a hash table.  This feature is natively 
supported across all current A-Grade browsers, but it wasn't added 
to Safari until recently; all internal usage of the <code>hasOwnProperty</code>
test within YUI will use the version in <code>YAHOO.lang</code> for the
forseeable future, and we recommend that you do the same in your own 
implementations.  <code>YAHOO.lang.hasOwnProperty</code> will use
the native browser function unless it isn't available.
<pre><textarea name="code" class="JScript" cols="60" rows="1">
// this is what we are protecting against
Object.prototype.myCustomFunction = function(x) {
    alert(x);
}

var o = {};
o["foo"] = "bar";
o["marco"] = "polo";

// this is where we need the protection
for (var i in o) {
    if (YAHOO.lang.hasOwnProperty(o, i)) {
        alert("good key: " + i);
    } else {
        alert("bad key: " + i);
    }
}
</textarea></pre>

<h3 id="extend">YAHOO.lang.extend</h3>
<p><code>YAHOO.lang.extend</code> provides a simple mechanism for setting up the prototype, constructor, 
   and superclass properties for objects that are extending other objects.
   It also prevents the constructor of the extended object (ie, the superclass) from being
   executed twice.  <code>YAHOO.lang.extend</code> was relocated into the <code>YAHOO.lang</code> package in version <?php echo($yuiCurrentVersion);?>.
   <code>YAHOO.extend</code> is a deprecated alias for <code>YAHOO.lang.extend</code>.
</p>
<pre><textarea name="code" class="JScript" cols="60" rows="1">

YAHOO.namespace("test");

YAHOO.test.Class1 = function(info) {
    alert("Class1: " + info);
};

YAHOO.test.Class1.prototype.testMethod = function(info) {
    alert("Class1: " + info);
};

YAHOO.test.Class2 = function(info) {
    // chain the constructors
    YAHOO.test.Class2.superclass.constructor.call(this, info);
    alert("Class2: " + info);
};

// Class2 extends Class1.  Must be done immediately after the Class2 constructor
YAHOO.lang.extend(YAHOO.test.Class2, YAHOO.test.Class1);

YAHOO.test.Class2.prototype.testMethod = function(info) {
    // chain the method
    YAHOO.test.Class2.superclass.testMethod.call(this, info);
    alert("Class2: " + info);
};

var class2Instance = new YAHOO.test.Class2("constructor executed");
class2Instance.testMethod("testMethod invoked");

</textarea></pre>



<h3 id="augment">YAHOO.lang.augment</h3>
<p><code>YAHOO.lang.augment</code> provides a way to reuse code by applying some or 
all of the prototype properties in one object to another object.  <code>YAHOO.augment</code> is
a deprecated alias for <code>YAHOO.lang.augment</code>.
</p>
<pre><textarea name="code" class="JScript" cols="60" rows="1">


<!-- debugger output for environments without "console" -->
<div id="consoleelement">&nbsp;</div>

<script>
////////////////////////////////////////////////////////////////////////////
// The ConsoleProvider example will log to the console if available, or a 
// div with id="consoleelement" if the console is not available
////////////////////////////////////////////////////////////////////////////
YAHOO.example.ConsoleProvider = function() { };
YAHOO.example.ConsoleProvider.prototype = {
    log: function(msg) {
        // use the error console if available (FF+FireBug or Safari)
        if (typeof console != "undefined") {
            console.log(msg);
        // write the msg to a well-known div element
        } else {
            var el = document.getElementById("consoleelement");
            if (el) {
                el.innerHTML += "<p>" + msg + "</p>";
            }
        }
    }
};

////////////////////////////////////////////////////////////////////////////
// Define a class that should be able to write debug messages
////////////////////////////////////////////////////////////////////////////
YAHOO.example.ClassWithLogging = function() { };
YAHOO.lang.augment(YAHOO.example.ClassWithLogging, YAHOO.example.ConsoleProvider);

////////////////////////////////////////////////////////////////////////////
// Try it out
////////////////////////////////////////////////////////////////////////////
var c = new YAHOO.example.ClassWithLogging();
c.log("worked");

</script>
</textarea></pre>

<h3 id="log">YAHOO.log</h3>
<p><code>YAHOO.log</code> is included in the <a href="../yahoo/">Yahoo Global Object</a> so that logging code can be
included anywhere in YUI code (or in your own code) even if the <a href="../logger/">YUI Logger Control</a> is not on the page; this prevents errors from appearing as you begin removing debugging instrumentation from your project.  <code>YAHOO.log</code> executes <code>YAHOO.widget.Logger.log</code> if the Logger Control
is available; otherwise, it does nothing.  See <a href="../logger/">the documentation for
the Logger Control</a> for more information about how to make use of it in your work.</p>

<pre><textarea name="code" class="JScript" cols="60" rows="1">

YAHOO.namespace("test");

YAHOO.test.Class1 = function(info) {
    YAHOO.log("Class1: " + info, "error", "Class1");
};

</textarea></pre>

<h3 id="config">YAHOO_config and YAHOO.env</h3>
<p><code>YAHOO.env</code> contains information the browsing environment. In particular, it
contains information about all of the YUI components that have been loaded on
the page.  This data is accessible by any component by using <code><a href="/yui/docs/YAHOO.env.html#getVersion">YAHOO.env.getVersion</a></code>, 
but it is especially useful for environments where the library is dynamically loaded.  </p>
<p>Instead of using polling techniques to determine when <code>YAHOO</code> and the rest of the YUI 
Library is loaded, you can define within <code>YAHOO_config</code> a callback method that will be invoked every time a new YUI module is
inserted inserted into the page.  Your callback method, defined as <code>YAHOO_config.listener</code>, will receive as an argument an information object containing the following information:

</p>

<div class="apisummary">
<table>
  <tr>
    <th>property</th>
	<th>type</th>
    <th>description</th>
  </tr>
  <tr class="odd">
    <td><code>name</code></td>
	<td>string</td>
    <td>The name of the YUI component that has just loaded.  The name is an arbitrary string corresponding to a YUI component.  Current YUI component names can be found <a href="#modulenames">in the YUI Module Names section below</a>.
</td>
  </tr>
  <tr>
  	<td><code>version</code></td>
	<td>string</td>
	<td>The version in use (e.g., "<?php echo($yuiCurrentVersion);?>").</td>
  </tr>
  <tr class="odd">
  	<td><code>build</code></td>
	<td>number</td>
	<td>The build number of the current version.  This is a continuously incremented integer that will grow larger with each version of the library.
	</td>
  </tr>
  <tr>
  	<td><code>versions</code></td>
	<td>array</td>
	<td>An array containing the string version information for all versions of this component that have been registered during the current page session.  This can help identify issues that were the result of multiple versions of a module on the page.</td>
  </tr>
  <tr class="odd">
  	<td><code>builds</code></td>
	<td>array</td>
	<td>An array containing the numeric build information for all versions of this component that have been registered during the current page session.</td>
  </tr>
  <tr>
  	<td><code>mainClass</code></td>
	<td>object</td>
	<td>The principal object/class for the registered component. This object will have been stamped with its current version and build information. If <code>mainClass.VERSION != version</code> or <code>mainClass.BUILD != build</code>, multiple versions of pieces of the library have been loaded, potentially causing issues.</td>
  </tr>
</table>
</div>

<p>In the extended code sample below, the <code>YAHOO_config</code> object is used to register a listener that fires when YUI components are loaded:</p>

<pre><textarea name="code" class="JScript" cols="60" rows="1">
<html>
<head>
<script type="text/javascript">

// will be called each time a module is loaded
function mycallback(info) {

    // see the table in the documentation above for
	// the contents of the info object passed in here
	// as your argument. 
 
    alert(info.name + " loaded");

    // once the logger is on the page we can get to work
    if (info.name == "logger") {
        YAHOO.widget.Logger.enableBrowserConsole() 
        var l = new YAHOO.widget.LogWriter("(");

        YAHOO.example.EnvTest = function() {
            function log(msg,cat) {
                var c=c||"info";
                YAHOO.log(msg,c,"LangTest");
            }

            return { 
                init: function() {
                    new YAHOO.widget.LogReader("logoutput");
                    log("init");
                },
                
                showInfo: function(e, module){
                    // YAHOO.env.getVersion returns the same data
                    // object that YAHOO_config.listener receives
                    var info = YAHOO.env.getVersion(module);

                    log("name: " + info.name);
                    log("version: " + info.version);
                    log("build: " + info.build);
                    log("versions: " + info.versions);
                    log("builds: " + info.builds);
                    log("mainClass version: " + info.mainClass.VERSION);
                }
            };
        } ();

        YAHOO.util.Event.addListener(window, "load", YAHOO.example.EnvTest.init);
        YAHOO.util.Event.addListener("showeventbutton", "click", YAHOO.example.EnvTest.showInfo, "event");
    }
}

YAHOO_config = {
    listener: mycallback
};

</script>
<script src = "../src/js/YAHOO.js" ></script>
<script src = "../../build/event/event.js" ></script>
<script src = "../../build/dom/dom.js" ></script>
<script src = "../../build/dragdrop/dragdrop.js" ></script>
<script src = "../../build/logger/logger.js" ></script>
<link rel="stylesheet" type="text/css" href="../../build/logger/assets/logger.css">
<style> #logoutput {float: right}</style>
</head>
<body>
<input type="button" id="showeventbutton" value="show event version" />
<div id="logoutput"></div>
</body>
</html>


</textarea></pre>

<h2 id="modulenames">YUI Module Names</h2>

<p>Each YUI component has a corresponding module name that is used as a unique identifier within YUI scripts.  For example, the <a href="http://developer.yahoo.com/yui/event/">Event Utility</a> is internally referred to as <code>"event"</code>.  The Yahoo Global Object and other components (such as the <a href="../yuiloader/">YUILoader Utility</a>) make use of these unique module names.  Here is the full list of YUI module names.</p>

<div class="apisummary">
<?php
include "../inc/moduleNames.inc";
echo $moduleNamesTable;
?>
</div>

<?php include "../inc/mobileSection.inc";?>

<p>The YAHOO global works without known issues in tested mobile environments.  In a future release
of the library, YAHOO.env.ua will be expanded to include detection for certain 
"A-Grade" mobile browsers.  Until then, you can use the following code to detect a 
number of interesting mobile browsers:</p>

<textarea name="code" class="JScript">
var mobile = false, ua = navigator.userAgent, m;

if (YAHOO.env.ua.webkit) {
    if (/ Mobile\//.test(ua)) {
        mobile = "iPhone";
    } else {
        m=ua.match(/NokiaN[^\/]*/);
        if (m) {
            mobile = m[0]; // Nokia N-series, ex: NokiaN95
        }
    }
} else if (YAHOO.env.ua.opera) {
    m=ua.match(/Opera Mini[^;]*/);
    if (m) {
        mobile = m[0]; // ex: Opera Mini/2.0.4509/1316
    }
}

if (!mobile) {
    // code here won't execute in the detected mobile browsers
}
</textarea>

<?php include "../inc/support.inc"; ?>

  </div>
         <div class="yui-u">
		 	
			<div id="cheatsheet">
				<h3>Cheat Sheet for the YAHOO Global Object:</h3>
				
				<a href="http://yuiblog.com/assets/pdf/cheatsheets/yahoo.pdf"><img src="http://us.i1.yimg.com/us.yimg.com/i/ydn/yuiweb/img/cheatsheet-images/yahoo.gif" width="178" height="135" alt="Cheat Sheet for the YAHOO Global Object."></a>
				
				<p><a href="/yui/docs/assets/cheatsheets.zip">Download full set of cheat sheets.</a></p>
			</div>

<div id="examples">
<?php 
	include("../inc/examplesNav/".$section.".inc");
?>
</div>	

			<div id="morereading">
				<h3>More Reading about the YAHOO Global Object:</h3>
				
				<ul>
				  <li><a href="http://plankdesign.com/en/blog/posts/langs_little_gems">Lang's little gems</a>, by Mitch at PlankDesign.com</li>
			   </ul>
		   </div>
	 
<?php 
$thisURI="http://developer.yahoo.com/yui/yahoo/";
require_once('../inc/badge.inc');
?>
<h3 id="delicious">YUI YAHOO Global Object on del.icio.us:</h3>
<div class="delicious">
<?php require('../inc/badge-html.inc'); ?>
</div>	 

		 </div>
      </div>

</div>
</div>

<?php include "../inc/side.inc" ?>
<?php include "../inc/footer.inc" ?>

