<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>API: datastore   DataStore.js  (YUI Library)</title>
	<link rel="stylesheet" type="text/css" href="assets/api.css">
    <script type="text/javascript" src="assets/api-js"></script>
    <script type="text/javascript" src="assets/ac-js"></script>
</head>

<body id="yahoo-com">

<div id="doc3" class="yui-t2">

	<div id="hd">
        <a href="http://developer.yahoo.com/yui/"><h1>Yahoo! UI Library</h1></a>
        <h3>DataStore Util&nbsp; <span class="subtitle">2.6.0</span></h3>
        <p>
        <a href="./index.html">Yahoo! UI Library</a> 
            &gt; <a href="./module_datastore.html">datastore</a>
                
                 &gt; DataStore.js (source view) 
            </p>


	</div>

	<div id="bd">
		<div id="yui-main">
			<div class="yui-b">
            <form name="yui-classopts-form">
    <span id="classopts"><input type="checkbox" name="showprivate" id="showprivate" /> <label for="showprivate">Show Private</label></span>
    <span id="classopts"><input type="checkbox" name="showprotected" id="showprotected" /> <label for="showprotected">Show Protected</label></span>
    <span id="classopts"><input type="checkbox" name="showdeprecated" id="showdeprecated" /> <label for="showdeprecated">Show Deprecated</label></span>
            </form>

                    <div id="srcout">
                        <style>
                            #doc3 #classopts { display:none; }
                        </style>
<div class="highlight" ><pre><span class="c">/**</span>
<span class="c"> * Creates a store, which can be used to set and get information on a</span>
<span class="c"> * user&#39;s local machine. This is similar to a browser cookie, except the </span>
<span class="c"> * allowed store is larger and can be shared across browsers.</span>
<span class="c"> *</span>
<span class="c"> * @module datastore</span>
<span class="c"> * @requires yahoo, dom, event, element</span>
<span class="c"> * @title DataStore Util</span>
<span class="c"> * @beta</span>
<span class="c"> */</span>

<span class="c">/**</span>
<span class="c"> * Class for the YUI DataStore util.</span>
<span class="c"> *</span>
<span class="c"> * @namespace YAHOO.util</span>
<span class="c"> * @class DataStore</span>
<span class="c"> * @uses YAHOO.widget.FlashAdapter</span>
<span class="c"> * @constructor</span>
<span class="c"> * @param containerId {HTMLElement} Container element for the Flash Player instance.</span>
<span class="c"> * @param attributes {Object} Properties for embedding the SWF.</span>
<span class="c"> */</span>
<span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">DataStore</span> <span class="o">=</span> <span class="k">function</span><span class="o">(</span><span class="nx">containerID</span><span class="o">,</span> <span class="nx">attributes</span><span class="o">,</span> <span class="nx">swfURL</span><span class="o">)</span>
<span class="o">{</span>
	<span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">DataStore</span><span class="o">.</span><span class="nx">superclass</span><span class="o">.</span><span class="nx">constructor</span><span class="o">.</span><span class="nx">call</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">DataStore</span><span class="o">.</span><span class="nx">SWFURL</span><span class="o">,</span> <span class="nx">containerID</span><span class="o">,</span> <span class="nx">attributes</span><span class="o">);</span>
	
	<span class="c">/**</span>
<span class="c">	 * Fires when an error occurs</span>
<span class="c">	 *</span>
<span class="c">	 * @event error</span>
<span class="c">	 * @param event.type {String} The event type</span>
<span class="c">	 * @param event.message {String} The data </span>
<span class="c">	 * </span>
<span class="c">	 */</span>
	<span class="k">this</span><span class="o">.</span><span class="nx">createEvent</span><span class="o">(</span><span class="s2">&quot;error&quot;</span><span class="o">);</span>
	
	<span class="c">/**</span>
<span class="c">	 * Fires when a store is saved successfully</span>
<span class="c">	 *</span>
<span class="c">	 * @event success</span>
<span class="c">	 * @param event.type {String} The event type</span>
<span class="c">	 * </span>
<span class="c">	 */</span>
	<span class="k">this</span><span class="o">.</span><span class="nx">createEvent</span><span class="o">(</span><span class="s2">&quot;success&quot;</span><span class="o">);</span>
	
	
	<span class="c">/**</span>
<span class="c">	 * Fires when the save is pending, due to a request for additional storage</span>
<span class="c">	 *</span>
<span class="c">	 * @event error</span>
<span class="c">	 * @param event.type {String} The event type</span>
<span class="c">	 * </span>
<span class="c">	 */</span>
	<span class="k">this</span><span class="o">.</span><span class="nx">createEvent</span><span class="o">(</span><span class="s2">&quot;pending&quot;</span><span class="o">);</span>
	
	
	<span class="c">/**</span>
<span class="c">	 * Fires as the settings dialog displays</span>
<span class="c">	 *</span>
<span class="c">	 * @event error</span>
<span class="c">	 * @param event.type {String} The event type</span>
<span class="c">	 * </span>
<span class="c">	 */</span>
	<span class="k">this</span><span class="o">.</span><span class="nx">createEvent</span><span class="o">(</span><span class="s2">&quot;openDialog&quot;</span><span class="o">);</span>
	
	<span class="c">/**</span>
<span class="c">	 * Fires when a settings dialog is not able to be displayed due to </span>
<span class="c">	 * the SWF not being large enough to show it. In this case, the developer</span>
<span class="c">	 * needs to resize the SWF to width of 215px and height of 138px or above, </span>
<span class="c">	 * or display an external settings page.</span>
<span class="c">	 *</span>
<span class="c">	 * @event openExternalDialog</span>
<span class="c">	 * @param event.type {String} The event type</span>
<span class="c">	 * </span>
<span class="c">	 */</span>
	<span class="k">this</span><span class="o">.</span><span class="nx">createEvent</span><span class="o">(</span><span class="s2">&quot;openExternalDialog&quot;</span><span class="o">);</span>
<span class="o">};</span>

<span class="nx">YAHOO</span><span class="o">.</span><span class="nx">extend</span><span class="o">(</span><span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">DataStore</span><span class="o">,</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">widget</span><span class="o">.</span><span class="nx">FlashAdapter</span><span class="o">,</span>
<span class="o">{</span>


	<span class="c">/**</span>
<span class="c">	 * Public accessor to the unique name of the DataStore instance.</span>
<span class="c">	 *</span>
<span class="c">	 * @method toString</span>
<span class="c">	 * @return {String} Unique name of the DataStore instance.</span>
<span class="c">	 */</span>
	<span class="nx">toString</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span>
	<span class="o">{</span>
		<span class="k">return</span> <span class="s2">&quot;DataStore &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_id</span><span class="o">;</span>
	<span class="o">},</span>
	
	
	   <span class="c">/**</span>
<span class="c">	    * Saves data to local storage. It returns a String that can</span>
<span class="c">		* be one of three values: &quot;true&quot; if the storage succeeded; &quot;false&quot; if the user</span>
<span class="c">		* has denied storage on their machine, and &quot;pending&quot; if storage is permitted,</span>
<span class="c">		* but the storage space allotted is not sufficient.</span>
<span class="c">		* &lt;p&gt;The size limit for the passed parameters is ~40Kb.&lt;/p&gt;</span>
<span class="c">		* @method setItem</span>
<span class="c">	    * @param item {Object} The data to store</span>
<span class="c">	    * @param location {String} The name of the &quot;cookie&quot; or store </span>
<span class="c">		* @return {Boolean} Whether or not the save was successful</span>
<span class="c">	    * </span>
<span class="c">	    */</span>
		<span class="nx">setItem</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">data</span><span class="o">,</span> <span class="nx">location</span><span class="o">)</span> 
		<span class="o">{</span>
			<span class="nx">YAHOO</span><span class="o">.</span><span class="nx">log</span><span class="o">(</span><span class="s2">&quot;SETTING &quot;</span> <span class="o">+</span><span class="nx">data</span> <span class="o">+</span><span class="s2">&quot; to &quot;</span><span class="o">+</span> <span class="nx">location</span><span class="o">);</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">_swf</span><span class="o">.</span><span class="nx">setItem</span><span class="o">(</span><span class="nx">data</span><span class="o">,</span> <span class="nx">location</span><span class="o">);</span>
		<span class="o">}</span> <span class="o">,</span>
	    
	    <span class="c">/**</span>
<span class="c">	    * Returns the item in storage, if any.</span>
<span class="c">	    * @method getItem</span>
<span class="c">	    * @param location {String} The name of the &quot;cookie&quot; or store</span>
<span class="c">		* @return {Object} The data</span>
<span class="c">	    * </span>
<span class="c">	    */</span>
		<span class="nx">getItem</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">location</span><span class="o">)</span> 
		<span class="o">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">_swf</span><span class="o">.</span><span class="nx">getItem</span><span class="o">(</span><span class="nx">location</span><span class="o">);</span>
		<span class="o">}</span> <span class="o">,</span>

	    <span class="c">/**</span>
<span class="c">	    * Removes the item in storage, if any.</span>
<span class="c">	    * @method removeItem</span>
<span class="c">	    * @param location {String} The name of the &quot;cookie&quot; or store</span>
<span class="c">	    * </span>
<span class="c">	    */</span>
		<span class="nx">removeItem</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">location</span><span class="o">)</span> 
		<span class="o">{</span>
			<span class="nx">YAHOO</span><span class="o">.</span><span class="nx">log</span><span class="o">(</span><span class="s2">&quot;removing &quot;</span> <span class="o">+</span> <span class="nx">location</span><span class="o">);</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">_swf</span><span class="o">.</span><span class="nx">removeItem</span><span class="o">(</span><span class="nx">location</span><span class="o">);</span>
		<span class="o">}</span> <span class="o">,</span>
		
	   <span class="c">/**</span>
<span class="c">	    * Removes all data in local storage for this domain.</span>
<span class="c">	    * &lt;p&gt;Be careful when using this method, as it may </span>
<span class="c">	    * remove stored information that is used by other applications</span>
<span class="c">	    * in this domain &lt;/p&gt;</span>
<span class="c">	    * @method clear</span>
<span class="c">	    */</span>		
		<span class="nx">clear</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> 
		<span class="o">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">_swf</span><span class="o">.</span><span class="nx">clear</span><span class="o">();</span>
		<span class="o">}</span> <span class="o">,</span>
		
	    <span class="c">/**</span>
<span class="c">	     *  Gets the current size, in KB, of the amount of space taken by the current store.</span>
<span class="c">	     * @method calculateSize</span>
<span class="c">	     */</span>		
		<span class="nx">calculateSize</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> 
		<span class="o">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">_swf</span><span class="o">.</span><span class="nx">calculateSize</span><span class="o">();</span>
		<span class="o">}</span> <span class="o">,</span>
		
	    <span class="c">/**</span>
<span class="c">	     * Gets the timestamp of the last store. This value is automatically set when </span>
<span class="c">	     * data is stored.</span>
<span class="c">	     * @method getLastModified</span>
<span class="c">	     * @return A Date object</span>
<span class="c">	     */</span>
		<span class="nx">getLastModified</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> 
		<span class="o">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">_swf</span><span class="o">.</span><span class="nx">getLastModified</span><span class="o">();</span>
		<span class="o">}</span> <span class="o">,</span>
		
		<span class="c">/**</span>
<span class="c">		* This method requests more storage if the amount is above 100KB. (e.g.,</span>
<span class="c">		* if the &lt;code&gt;store()&lt;/code&gt; method returns &quot;pending&quot;.</span>
<span class="c">		* The request dialog has to be displayed within the Flash player itself</span>
<span class="c">		* so the SWF it is called from must be visible and at least 215px x 138px in size.</span>
<span class="c">		* </span>
<span class="c">		* @method setSize</span>
<span class="c">		* @param value The size, in KB</span>
<span class="c">		*/</span>		
		<span class="nx">setSize</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">value</span><span class="o">)</span> 
		<span class="o">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">_swf</span><span class="o">.</span><span class="nx">setSize</span><span class="o">(</span><span class="nx">value</span><span class="o">);</span>
		<span class="o">}</span> <span class="o">,</span>
		
		<span class="c">/**</span>
<span class="c">		 * Displays the settings dialog to allow the user to configure</span>
<span class="c">		 * storage settings manually. If the SWF height and width are smaller than</span>
<span class="c">		 * what is allowable to display the local settings panel,</span>
<span class="c">		 * an openExternalDialog message will be sent to JavaScript.</span>
<span class="c">		 * @method displaySettings</span>
<span class="c">		 */</span>		
		<span class="nx">displaySettings</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> 
		<span class="o">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">_swf</span><span class="o">.</span><span class="nx">displaySettings</span><span class="o">();</span>
		<span class="o">}</span> 

<span class="o">});</span>


<span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">DataStore</span><span class="o">.</span><span class="nx">SWFURL</span> <span class="o">=</span> <span class="s2">&quot;datastore.swf&quot;</span><span class="o">;</span>
</pre></div>
                    </div>
			</div>
		</div>
		<div class="yui-b">
            <div class="nav">

                    <div class="module">
                        <h4>Modules</h4>
                        <ul class="content">

                                <li class=""><a href="module_animation.html">animation</a></li>

                                <li class=""><a href="module_autocomplete.html">autocomplete</a></li>

                                <li class=""><a href="module_button.html">button</a></li>

                                <li class=""><a href="module_calendar.html">calendar</a></li>

                                <li class=""><a href="module_carousel.html">carousel</a></li>

                                <li class=""><a href="module_charts.html">charts</a></li>

                                <li class=""><a href="module_colorpicker.html">colorpicker</a></li>

                                <li class=""><a href="module_connection.html">connection</a></li>

                                <li class=""><a href="module_container.html">container</a></li>

                                <li class=""><a href="module_cookie.html">cookie</a></li>

                                <li class=""><a href="module_datasource.html">datasource</a></li>

                                <li class="selected"><a href="module_datastore.html">datastore</a></li>

                                <li class=""><a href="module_datatable.html">datatable</a></li>

                                <li class=""><a href="module_dom.html">dom</a></li>

                                <li class=""><a href="module_dragdrop.html">dragdrop</a></li>

                                <li class=""><a href="module_editor.html">editor</a></li>

                                <li class=""><a href="module_element.html">element</a></li>

                                <li class=""><a href="module_event.html">event</a></li>

                                <li class=""><a href="module_get.html">get</a></li>

                                <li class=""><a href="module_history.html">history</a></li>

                                <li class=""><a href="module_imagecropper.html">imagecropper</a></li>

                                <li class=""><a href="module_imageloader.html">imageloader</a></li>

                                <li class=""><a href="module_json.html">json</a></li>

                                <li class=""><a href="module_layout.html">layout</a></li>

                                <li class=""><a href="module_logger.html">logger</a></li>

                                <li class=""><a href="module_menu.html">menu</a></li>

                                <li class=""><a href="module_paginator.html">paginator</a></li>

                                <li class=""><a href="module_profiler.html">profiler</a></li>

                                <li class=""><a href="module_profilerviewer.html">profilerviewer</a></li>

                                <li class=""><a href="module_resize.html">resize</a></li>

                                <li class=""><a href="module_selector.html">selector</a></li>

                                <li class=""><a href="module_slider.html">slider</a></li>

                                <li class=""><a href="module_tabview.html">tabview</a></li>

                                <li class=""><a href="module_treeview.html">treeview</a></li>

                                <li class=""><a href="module_uploader.html">uploader</a></li>

                                <li class=""><a href="module_yahoo.html">yahoo</a></li>

                                <li class=""><a href="module_yuiloader.html">yuiloader</a></li>

                                <li class=""><a href="module_yuitest.html">yuitest</a></li>
                        </ul>
                    </div>

                    <div class="module">
                        <h4>Classes</h4>
                        <ul class="content">
                                <li class=""><a href="YAHOO.util.DataStore.html">YAHOO.util.DataStore</a></li>
                                <li class=""><a href="YAHOO.widget.FlashAdapter.html">YAHOO.widget.FlashAdapter</a></li>
                        </ul>
                    </div>

                    <div class="module">
                        <h4>Files</h4>
                        <ul class="content">        
                                <li class="selected"><a href="DataStore.js.html">DataStore.js</a></li>
                                <li class=""><a href="FlashAdapter.js.html">FlashAdapter.js</a></li>
                                <li class=""><a href="swfobject.js.html">swfobject.js</a></li>
                        </ul>
                    </div>





            </div>
		</div>
	</div>
	<div id="ft">
        <hr />
        Copyright &copy; 2008 Yahoo! Inc. All rights reserved.
	</div>
</div>
<!--MyBlogLog instrumentation-->
<script type="text/javascript"
src="http://track2.mybloglog.com/js/jsserv.php?mblID=2007020704011645"></script>
</body>
</html>
