<?php 
$title="Yahoo! UI Library: Animation";
$section="animation";
$component="Animation Utility";
$highlightSyntax = true;
$releasenotes = true;
include "../inc/header.inc";
?>

<div id="yui-main">
<div class="yui-b">
  <div class="yui-ge">
      <div class="yui-u first">
	  
<div id="promo" class="component">
  <h1>Animation</h1>
  <p>The Animation Utility enables the rapid prototyping and implementation of animations involving size, opacity, color, position, and other visual characteristics.  Animations created with the Animation Utility work across <a href="../articles/gbs/gbs.html">the A-grade browser spectrum</a>. A simple, intuitive syntax for configuring animations makes the Animation Utility easy to implement even for complex animations.</p>

  <div>
    <h4>On This Page:</h4>
    <ul>
      <li><a href="#start">Getting Started</a></li>
      <li><a href="#using">Using Animation</a></li>
      <li><a href="#mobile">YUI on Mobile Devices</a></li>
      <li><a href="#support">Support &amp; Community</a></li><li><a href="#filingbugs">Filing Bugs and Feature Requests</a></li>
    </ul>
  </div>

<?php
include('../inc/quicklinks.inc');
?>

</div>
<h2 class="first" id="start">Getting Started</h2>
<p>To use the Animation utility, include the following source files in your web page with the script tag:</p>
<textarea name="code" class="HTML" cols="60" rows="1">&lt;!-- Dependencies --&gt;
&lt;script src=&quot;http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/yahoo-dom-event/yahoo-dom-event.js&quot; type="text/javascript"&gt;&lt;/script&gt;

&lt;!-- Source file --&gt;
&lt;script src=&quot;http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/animation/animation-min.js&quot; type="text/javascript"&gt;&lt;/script&gt;
</textarea>
<?php
include "../inc/include-notice.inc";
?>

<p>Your Animation implementation will consist of one or more instances of the Anim object or its subclasses (Motion, Scroll).</p>
<h3>Instantiating an Animation Object</h3>
<p>To create an  Animation instance on your page, use the following
  code:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
&lt;div id=&quot;test&quot;&gt;&lt;/div&gt;

&lt;script&gt;
 var myAnim = new YAHOO.util.Anim('test', {
  	width: { to: 400 } 
	}, 1, YAHOO.util.Easing.easeOut);
&lt;/script&gt;
</textarea>
<p>The Anim object constructor has one required parameter:  the ID string or
  element reference to the element that will be animated. Optional parameters
  are: </p>
<ul class="topspace">
<li> the actual attribute(s) that will comprise the animation (required to see any actual animation occur)</li>
<li> the duration of the animation (defaults to 1 second) </li>
<li>the easing method (defaults to YAHOO.util.Easing.easeNone) </li> 
 </ul>
<p>We'll explore the optional parameters in more detail later in this document.</p>

<p>To initiate the actual animation, call the animate method on your Animation instance:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
myAnim.animate();
</textarea>

<h3>Setting Animation Properties</h3>
<p>In addition to passing detailed arguments to the Anim constructor, you can set the other parameters on your Animation instance via their respective properties:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var myAnim = new YAHOO.util.Anim('test');
myAnim.attributes.width = { to: 400 };
myAnim.duration = 0.5;
myAnim.method = YAHOO.util.Easing.easeOut;
</textarea>
<p>See <a href="../docs/module_animation.html">the API documentation for the Anim object</a> for more information about its methods and properties.</p>

<h2 id="using">Using Animation</h2>
<p>This section describes how to use the Animation utility in further detail.  It contains these subsections:</p>
<ul class="topspace">
<li><a href="#attributes">Using Animation Attributes</a></li>
<li><a href="#relative">Using Relative Values</a></li>
<li><a href="#start">Setting a Starting Value</a></li>
<li><a href="#units">Specifying Attribute Units</a></li>
<li><a href="#events">Listening for Events</a></li>
<li><a href="#motion">Creating Animation with Motion</a></li>
<li><a href="#curve">Creating Animation with Motion along a Curve</a></li>
<li><a href="#scroll">Creating Animation with Scroll</a></li>
</ul>

<h3>Using Attributes<a name="attributes"></a></h3>
<p>An attributes object is required to tell the Animation instance what to animate.  The members of this object comprise one or more style properties that accept a numeric value (width, height, opacity, top, left, borderWidth, padding, margin, and so on).</p>

<p>An attribute consists of the attribute name (&quot;width&quot;, for example) and the value at which the animation should end, specified with the &quot;to&quot; or &quot;by&quot; properties.  By default, the Animation will attempt to start from the current value, although in some cases, this is not as reliable as providing the starting value explicitly (with the &quot;from&quot; property).</p>

<p>The following code  animates an element from its current size to 400 by 400:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var attributes = {
   width: { to: 400 },
   height: { to: 400 }
};

var myAnim = new YAHOO.util.Anim('test', attributes);
myAnim.animate();
</textarea>

<h3>Using Relative Values<a name="relative"></a></h3>
<p>To animate an element <em>by</em> a given value rather than <em>to</em> a given value, use the &quot;by&quot;  property, rather than &quot;to&quot;.</p>

<p>The following will expand the element with the id of test from its current size by 200 pixels:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var attributes = {
   width: { by: 200 },
   height: { by: 200 }
};

var myAnim = new YAHOO.util.Anim('test', attributes);
myAnim.animate();
</textarea>

<h3>Setting a Starting Value<a name="start"></a></h3>
<p>Use the optional &quot;from&quot; attribute property  to start the animation from a specific size:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var attributes = {
   width: { from: 10, by: 200 },
   height: { from: 10, by: 200 }
};

var myAnim = new YAHOO.util.Anim('test', attributes);
myAnim.animate();
</textarea>

<h3>Specifying Attribute Units<a name="units"></a></h3>
<p>By default, all attributes (except opacity) use pixels as the unit of measurement.  You can override this with the &quot;unit&quot; property.</p>

<p>The following will animate the element's size from 1 to 20 EMs:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var attributes = {
   width: { from: 1, to: 20, unit: 'em' },
   height: { from: 1, to: 20, unit: 'em' }
};

var myAnim = new YAHOO.util.Anim('test', attributes);
myAnim.animate();
</textarea>

<h3>Listening for Events<a name="events"></a></h3>
<p>The Animation utility defines three events: onStart, onTween, and onComplete. Each of these events expose a subscribe method, enabling you to bind a callback function to that event.</p>

<p>The following will remove the animated element (whose HTML ID is test) from its parent node upon completion of the animation:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var removeElement = function() {
   var el = this.getEl();
   el.parentNode.removeChild(el);
}
var myAnim = new YAHOO.util.Anim('test', { 
	  height: {to: 10} 
	}, 1, YAHOO.util.Easing.easeOut);
myAnim.onComplete.subscribe(removeElement);
myAnim.animate();</textarea>

<p>To avoid any potential race conditions, events should be subscribed to prior to calling the animate method.</p>

<h3>Animating with ColorAnim</h3>

<p>The YAHOO.util.ColorAnim subclass extends the Anim base class to allow animation of colors, including background, border, and color.  Colors can be specified either as hex or rgb.</p>


<p>The following creates a ColorAnim animation that changes the background color of the element from its current background color to "#dcdcdc":</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var element = document.getElementById('test');
var myAnim = new YAHOO.util.ColorAnim(element, {backgroundColor: { to: '#dcdcdc' } });
myAnim.animate();
</textarea>


<h3>Creating Animation with Motion<a name="motion"></a></h3>

<p>The YAHOO.util.Motion subclass extends the ColorAnim class to move the animated element along a set of points. Points are defined by arrays of x,y coordinates.</p>

<p>The following creates a Motion animation that moves from its current position to [400, 400] in page coordinates:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var myAnim = new YAHOO.util.Motion('test', {points: 
	   { to: [400, 400] } 
	});
myAnim.animate();
</textarea>

<h3>Creating Animation with Motion along a Curve<a name="curve"></a></h3>

<p>The YAHOO.util.Motion class also provides for curved animations.  A curve can be defined by one or more control points.  Control points are added to the points attribute via the &quot;control&quot; property.</p>

<p>The following creates a Motion animation in which the animated element moves along a curved path from its current position to [400, 400]; the curved path is defined by two control points:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var attributes = {
   points: {
      to: [400, 400],
      control: [[800, 300], [-200, 400]]
   }
};
var myAnim = new YAHOO.util.Motion('test', attributes);
myAnim.animate();
</textarea>

<h3>Creating Animation with Scroll<a name="scroll"></a></h3>

<p>Like Motion, The YAHOO.util.Scroll subclass extends the ColorAnim class to scroll an overflowed element. Scroll values are defined as arrays of scrollTop and scrollLeft values.</p>


<p>The following creates a Scroll animation that scrolls the element left from its current left-scroll position to 500:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var element = document.getElementById('test');
var myAnim = new YAHOO.util.Scroll(element, {
	   scroll: { to: [500, test.scrollTop] } 
	});
myAnim.animate();
</textarea>


<?php include "../inc/mobileSection.inc";?>
<p>Animation on mobile devices is limited by processor and system overhead.  Even on PCs, animation within a web browser can tax the processor, and the processing power in mobile devices is much more limited.  In general, DOM animations will look choppy on a mobile device, so you may want to avoid them altogether if designing specifically for mobile.  Using an easing method in some cases helps to make the animation appear to run more smoothly.  On the iPhone specifically, the "easeBoth" easing, in our experience, provides the smoothest animation across most animation types.</p>
<?php 
include "../inc/support.inc";
?>

		</div>
         <div class="yui-u">
		 	
			<div id="cheatsheet">
				<h3>Animation Utility Cheat Sheet:</h3>
				
				<a href="http://yuiblog.com/assets/pdf/cheatsheets/animation.pdf"><img src="http://us.i1.yimg.com/us.yimg.com/i/ydn/yuiweb/img/cheatsheet-images/animation.gif" width="178" height="133" alt="Cheat Sheet for the Animation Utility."></a>
				
				<p><a href="/yui/docs/assets/cheatsheets.zip">Download full set of cheat sheets.</a></p>
			</div>
			
			<div id="examples">
<?php 
	include("../inc/examplesNav/".$section.".inc");
?>
		   </div>
		   
		   	<div id="morereading">
				<h3>More Reading about the YUI Animation Utility:</h3>
				
				<ul>
					<li><a href="http://informationr.net/ir/12-2/TB0701.html">Artisinal Animation</a>, by Terrence Brooks</li>
				  	<li>From <a href="http://simon.incutio.com/slides/2006/xtech/yui-notes.html#animation">The Yahoo! User Interface Library</a>, by Simon Willison</li>
					<li><a href="http://www.hedgerwow.com/360/mwd/accordion/demo.php?page=1">Accordion Menu made with YUI</a>, by Hedger Wang</li>

			   </ul>
		   </div>
		   
<?php 
$thisURI="http://developer.yahoo.com/yui/animation/";
require_once('../inc/badge.inc');
?>
<h3 id="delicious">YUI Animation on del.icio.us:</h3>
<div class="delicious">
<?php require('../inc/badge-html.inc'); ?>
</div>

		 </div>
      </div>

</div>
</div>

<?php include "../inc/side.inc" ?>
<?php include "../inc/footer.inc" ?>




