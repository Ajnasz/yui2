<?php 
$title="Yahoo! UI Library: Element Utility";
$section="element";
$component="Element Utility";
$highlightSyntax = true;
$releasenotes = true;
include "../inc/header.inc";
?>

<div id="yui-main">
<div class="yui-b">
  <div class="yui-ge">
      <div class="yui-u first">
	  
	  
<div id="promo" class="component">
  <h1>Element Utility [beta]</h1>
  <p><a href="http://yuiblog.com/blog/2008/06/24/buildingwidgets"><img src="assets/widgetarticle.png" alt="Satyam's YUIBlog article on Building Widgets with YUI is a great place to start as you learn about the role of the Element Utility in YUI.." width="270" height="251" class="example"></a>The Element class provides a wrapper for <a href="http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-882764350">HTMLElements</a> in the DOM and makes simpler common tasks such as adding listeners, manipulating the DOM, and setting and getting attributes.  The Element Utility provides a wrapper so that these actions can be performed directly on an  Element instance.</p>
  
<p>While this User's Guide and <a href="http://developer.yahoo.com/yui/docs/module_element.html">the API docs</a> are helpful in understanding the role of the Element Utility within YUI, the most extensive guide to creating Element-based components of your own is found in Satyam's article <a href="http://yuiblog.com/blog/2008/06/24/buildingwidgets">"Building Your Own Widget Library with YUI"</a>. Satyam explores the full pattern of using Element, and through it <a href="http://developer.yahoo.com/yui/docs/YAHOO.util.EventProvider.html">EventProvider</a> and <a href="http://developer.yahoo.com/yui/docs/YAHOO.util.AttributeProvider.html">AttributeProvider</a>, to create YUI-style component interfaces.  If you're interested in Element because you're interested in building YUI-based widgets or extending YUI-based widgets built on this pattern, Satyam's article is a must-read.</p>
  
  <p><strong>Note:</strong> Although the Element Utility is a dependency for the <a href="http://developer.yahoo.com/yui/tabview/">TabView Control</a> which has reached general availability (GA), we continue to designate Element <a href="http://developer.yahoo.com/yui/articles/faq/#beta">as a beta component</a> for the time being.  That designation signals to you as an implementer that, although we're committed to and using this component, we have not locked down its API.  Be aware that implementing Element directly at this point could require changes to your code as we evolve Element's interface in subsequent releases.</p>

  <div>
    <h4>On This Page:</h4>
    <ul>
      <li><a href="#start">Getting Started</a></li>
      <li><a href="#using">Using Element</a></li>
      <li><a href="#support">Support &amp; Community</a></li>
	  <li><a href="#filingbugs">Filing Bugs and Feature Requests</a></li>
    </ul>
  </div>

<?php
include('../inc/quicklinks.inc');
?>

</div>
<h2 class="first" id="start">Getting Started</h2>
<p>To use the Element Utility, include the following source files in your web page with the &lt;script&gt; tag:</p>
<textarea name="code" class="HTML" cols="60" rows="1"><!-- Dependencies -->
<script src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/yahoo-dom-event/yahoo-dom-event.js"></script>

<!-- Source file -->
<script src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/element/element-beta-min.js"></script>
</textarea>
<?php
include "../inc/include-notice.inc";
?>

<h3>Basic Element</h3>
<p>To create a new Element instance, pass either the ID of the element or a reference to the HTMLElement to the Element constructor:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var el = new YAHOO.util.Element('foo');
</textarea>

<p>In this example, a new instance of <code>YAHOO.util.Element</code> is created for an element whose <code>id</code> is <code>foo</code>.  If <code>foo</code> is not yet available in the document, event listeners may still be added, and attibutes may be set; the Element Utility will automatically defer those actions until the element becomes available.  Be aware, however, that true manipulation of the element's DOM may not be performed until the <code>contentReady</code> event has fired. (<strong>Note: </strong><code><a href="http://developer.yahoo.com/yui/event/#onavailable">onContentReady</a></code> is a YUI construct supported by the <a href="http://developer.yahoo.com/yui/event/">YUI Event Utility</a>.)</p>

<p>Let's look at these steps in a code example:</p>

<textarea name="code" class="JScript" cols="60" rows="1">
<script>
//create a new instance of Element wrapping 
//'foo', which isn' yet on the page
var el = new YAHOO.util.Element('foo');

//add a click event handler to 'foo'
el.on('click', function(e) { alert('clicked'); });

//when 'foo' is loaded on the page, we'll fire
//an anonymous function that alerts the
//number of list items in 'foo', which is a 
//<ul> element:
el.on('contentReady', function() {
    var items = el.getElementsByTagName('li');
    alert(items.length);
});
</script>

<!--markup for foo-->
<div id="foo">
    <ul>
        <li>lorem</li>
        <li>ipsum</li>
        <li>dolor</li>
        <li>sit</li>
    </ul>
</div>
</textarea>

<h2 id="using">Using Element</h2>
<p>This section describes several common uses of Element. It contains these subsections:</p>
<ul>
<li><a href="#events">Using Element to Attach Event Listeners</a></li>
<li><a href="#attributes">Attributes and Properties</a></li>
<li><a href="#dom">Manipulating Dom</a></li>
<li><a href="#styling">Accessing Styles</a></li>
</ul>

<h3 id="events">Using Element to Attach Event Listeners</h3>
<p>All Element events are applied using the <code>addListener</code> method (alised as <code>on</code> and can be removed with <code>removeListener</code>.</p>

<textarea name="code" class="JScript" cols="60" rows="1">
//create an Element instance wrapping 'foo':
var el = new YAHOO.util.Element('foo');

//create an event listener:
var handleClick = function(e) {
    alert(el.get('id') + ' clicked');
	//remove this listener, so that
	//it only fires on the firs click:
    el.removeListener(handleClick); 
};

//assign an event listener using 'on';
//el.addListener and el.on are identical here:
el.on('click', handleClick); 
</textarea>

<p>The above example invokes the <code>handleClick</code> function when the element whose id attribute is <code>foo</code> is clicked.  The handler then removes the listener, so subsequent clicks will not fire the event.</p>

<h3 id="attributes">Attributes and Properties</h3>
<p>All of the attributes and properties of the HTMLElement can be accessed via the <code>set</code> and <code>get</code> methods of Element.  Additionally, the actual HTMLElement bound to the Element instance can be retrieved via <code>get('element')</code>.</p>

<textarea name="code" class="JScript" cols="60" rows="1">
//create an Element instance wrapping 'foo':
var el = new YAHOO.util.Element('foo');
//we can now use the instane's get method to retrieve
//attributes and properties of 'foo':
alert(el.get('id') + ' has ' + el.get('childNodes').length + ' children');
</textarea>

<p>The above example alerts the element's <code>id</code> attribute and the number of <code>childNodes</code> owned by that element.</p>  

<p>If the element is not yet available, you will need to defer accessing the HTMLElement until the <code>contentReady</code> event fires.  You can write deferral code as follows:</p>

<textarea name="code" class="JScript" cols="60" rows="1">
//create an Element instance wrapping 'foo';
//'foo' is not yet on the page.
var el = new YAHOO.util.Element('foo');

//When 'foo' becomes available, we want to alert
//its id and show the number childNodes; we tell the
//Element instance to do this when the contentReady
//event fires:
el.on('contentReady', function() {
   alert(el.get('id') + ' has ' + el.get('childNodes').length + ' children');
});
</textarea>

<h3 id="dom">Manipulating Dom</h3>

<p>Most common Dom methods can be applied directy to the Element instance itself:</p>

<textarea name="code" class="JScript" cols="60" rows="1">
var el = new YAHOO.util.Element('foo');
//We can access the Dom property hasChildNodes
//directly on the Element instance:
if (el.hasChildNodes) {
    el.removeChild(el.get('firstChild'));
} 
</textarea>

<h3 id="styling">Accessing Styles</h3>

<p>Element instances can be styled directly via the <code>setStyle</code> method; style properties can be retrieved via <code>getStyle</code>:</p>

<textarea name="code" class="JScript" cols="60" rows="1">
var el = new YAHOO.util.Element('foo');

//set the color style property of 'foo'
//using the Element instance:
el.setStyle('color', '#f00');

//set an event handler using the Element
//instance to alert the value of the 
//color style property when 'foo' is clicked:
el.on('click', function() {
    alert(this.getStyle('color'));
});

</textarea>

<?php 
include "../inc/support.inc";
?>

		</div>
         <div class="yui-u">
         
			<div id="morereading">
				<h3>More Reading about the YUI Element Utility:</h3>
				
			  <ul> 
			  	  <li><a href="http://yuiblog.com/blog/2008/06/24/buildingwidgets">Building Your Own Widget Library with YUI</a>: This article by Satyam explores the creation and extension of YUI components using core YUI tools.</li>
		      </ul>
		   </div>
         

			
<?php 
$thisURI="http://developer.yahoo.com/yui/element/";
require_once('../inc/badge.inc');
?>
<h3 id="delicious">YUI Element on del.icio.us:</h3>
<div class="delicious">
<?php require('../inc/badge-html.inc'); ?>
</div>

		 </div>
      </div>


</div>
</div>

<?php include "../inc/side.inc" ?>
<?php include "../inc/footer.inc" ?>


