<?php 
$title="Yahoo! UI Library: Dialog";
$section="container";
$component="Dialog Control";
$highlightSyntax = true;
$releasenotes = true;
include "../../inc/header.inc";
?>
<div id="yui-main">
<div class="yui-b">
  <div class="yui-ge">
      <div class="yui-u first">
<div id="promo" class="component">
	<h1>Yahoo! UI Library: Dialog</h1>
	<p> The Dialog component is an extension of <a href="../panel/index.html">Panel</a> that is meant to emulate the behavior of an  dialog window using a floating, draggable HTML element. Dialog provides an interface for easily gathering information from the user without leaving the underlying page context.  The information is collected via a standard HTML form; Dialog supports the submission of form data either through an XMLHttpRequest, through a normal form submission, or through a fully script-based response (where the script reads and responds to the form values and the form is never actually submitted via HTTP to a server).</p>
 
  <div>
    <h4>On This Page:</h4>
    <ul>
      <li><a href="#start">Getting Started</a></li>
      <li><a href="#using">Using Dialog</a></li>
      <li><a href="#support">Support &amp; Community</a></li>
	  <li><a href="#filingbugs">Filing Bugs and Feature Requests</a></li>
    </ul>
  </div>

<?php
include('../../inc/quicklinks.inc');
?>

</div>
<h2 class="first">Getting Started<a name="start"></a></h2>
<p>To use Dialog, include the following code in your page:</p>

<textarea name="code" class="HTML" cols="60" rows="1">
<!-- Sam Skin CSS -->
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/container/assets/skins/sam/container.css">

<!-- OPTIONAL: You only need the YUI Button CSS if you're including YUI Button, mentioned below. -->
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/button/assets/skins/sam/button.css">

<!-- Dependencies -->
<script type="text/javascript" src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/yahoo-dom-event/yahoo-dom-event.js"></script>

<!-- OPTIONAL: Animation (only required if using ContainerEffect) -->
<script type="text/javascript" src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/animation/animation-min.js"></script>

<!-- OPTIONAL: Connection (only required if using asynchronous form submission) -->
<script type="text/javascript" src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/connection/connection-min.js"></script>

<!-- OPTIONAL: Drag & Drop (only required if enabling Drag & Drop) -->
<script type="text/javascript" src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/dragdrop/dragdrop-min.js"></script>

<!-- OPTIONAL: YUI Button (these 2 files only required if you want Dialog to use YUI Buttons, instead of HTML Buttons) -->
<script type="text/javascript" src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/element/element-beta-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/button/button-min.js"></script>

<!-- Source file -->
<script type="text/javascript" src="http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/container/container-min.js"></script>
</textarea>

<?php
include "../../inc/include-notice.inc";
?>

<h2>Using Dialog<a name="using"></a></h2>
<p>This section describes common tasks for creating and using Dialog. It contains
these sections:</p>
<ul>
    <li><a href="#html">Defining Dialog Markup</a></li>
    <li><a href="#button">Setting up Dialog Buttons and Callbacks </a></li>
    <li><a href="#init">Initializing the Dialog </a></li>
    <li><a href="#submit">Submitting Form Data</a></li>
    <li><a href="#read">Reading Current Form Data  </a></li>
    <li><a href="#config">Configuration Properties</a></li>
</ul>
<p>Dialog inherits its constructor and configuration, as well as several other
  important methods, from Panel, and thus from Overlay. See <a href="../panel/index.html">Panel</a> and <a href="../overlay/index.html">Overlay</a> for
  more information on how to utilize Dialog's inherited features.</p>
  
<h3 id="html">Defining Dialog Markup</h3>
<p>HTML markup for Dialog uses the same modular format underlying <a href="../module/">Module</a>.
  Because the core interaction supported by Dialog involves gathering information
from the user via an HTML form, typically you place a form element in the "body" section
of your Dialog module. Placing the form element in the page, rather than creating
the form via script once the Dialog instance is created, enables you to use <a href="http://en.wikipedia.org/wiki/Progressive_Enhancement">Progressive
Enhancement</a> &mdash; showing the full content and functionality to users who
may have older browsers or who have JavaScript disabled while still providing
a richer interaction to modern, standards-compatible browsers.</p>
<p>The following example illustrates the markup for a Dialog module:</p>
<textarea name="code" class="HTML" cols="60" rows="1">
<div id="myDialog">
	<div class="hd">Please enter your information</div>
	<div class="bd">
		<form name="dlgForm" method="POST" action="php/post.php">
			<p>Please enter your personal contact information:</p>
			<label for="firstname">First Name:</label><input type="text" name="firstname" />
			<label for="lastname">Last Name:</label><input type="text" name="lastname" />
		</form>
	</div>
</div>
</textarea>
<p>The "action" attribute specified in the form is the one that is used to submit
  the data, regardless of whether  you have configured your Dialog (via the <code>postmethod</code> attribute)
  to use XMLHttpRequest or standard form submission.</p>
<p>If no form is specified in your markup, one is automatically  created for
  you by  Dialog  (its name attribute will be "frm_<em>dialogid</em>", where
  dialogid is the HTML element id you passed to the Dialog constructor). If you
  allow Dialog to create the form for you dynamically, be sure to set the form's
  action attribute by script if you wish the form to post via XMLHttpRequest
  or standard form submisison.</p>
<h3>Setting up Dialog Buttons<a name="button"></a></h3>
<p>Dialog provides a  configuration property called "buttons" that allows you
  to automatically wire up buttons with callbacks to display in the footer of
  the Dialog. Buttons are configured by creating an array of objects as illustrated
  in the following code sample. Note that you can configure a separate handler
  script to respond to each of the buttons.</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var handleCancel = function() {
	this.cancel();
}
var handleSubmit = function() {
	this.submit();
}
var myButtons = [ { text:"Submit", handler:handleSubmit, isDefault:true },
				  { text:"Cancel", handler:handleCancel } ];
myDialog.cfg.queueProperty("buttons", myButtons);
</textarea>
<p>Each button object in the buttons array can have three properties:</p>
<ul>
  <li><strong>text</strong>: The text that will display on the face of the button;</li>
  <li><strong>handler</strong>: the function that should fire when the button
    is clicked (the scope of this function is always its Dialog instance);</li>
  <li><strong>isDefault</strong>: an optional boolean value that specifies that
    a button should be highlighted and focused by default. </li>
</ul>
<p>In the example above, the "buttons" property is queued up to be executed upon render of the Dialog.</p>

<p><strong>NOTE:</strong> If you've included the optional YUI Button script on the page, the buttons created will be instances of <code>YAHOO.widget.Button</code> otherwise regular HTML Buttons will be created.</p>

<h3>Initializing the Dialog<a name="init"></a></h3>
<p>To instantiate a Dialog,  use this code:</p>
<textarea name="code" class="JScript" cols="60" rows="1">var myDialog = new YAHOO.widget.Dialog(&quot;myDialog&quot;);</textarea>
<p>This constructor uses an element with an HTML ID of "myDialog" on
  the page; the markup example above provides a template for this markup. Once
  instantiated, you may wish to configure the form's buttons (see above) and
  then render your Dialog instance on the page:</p>
<textarea name="code" class="JScript" cols="60" rows="1">myDialog.render();</textarea>
<p>Generally, Dialogs are hidden when the page loads and only appear when needed.  To reveal your Dialog on screen, invoke its <code>show</code> method:</p>
<textarea name="code" class="JScript" cols="60" rows="1">myDialog.show();</textarea>
<h3 id="submit">Submitting Form Data</h3>
<p>Submitting the Dialog via script is as simple as calling the <code>submit</code> function on the Dialog object:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
myDialog.submit();
</textarea>

<p>The default <code>postmethod</code> for the Dialog is <code>async</code>. Upon submission of a Dialog whose <code>postmethod</code> configuration is set to <code>async</code> (meaning that it will use <a href="../../connection/">Connection Manager</a> to post the form's data via XMLHttpRequest to the URI specified in the form element's <code>action</code> attribute), all of the appropriate <a href="http://developer.yahoo.com/yui/connection/">Connection Manager</a> callbacks documented in the API will be executed, allowing for easy handling of the response.  
By default the Dialog is automatically hidden after submission, however the <code>hideaftersubmit</code> configuration property can be used to control this behavior.</p>

<p>For example, to set up the handlers for both successful and failing Dialog submissions when using an asynchronous form post, the code might look like this:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var onSuccess = function(o) {
	alert("Your data was successfully submitted. The response was: " + o.responseText);
}
var onFailure = function(o) {
	alert("Your submission failed. Status: " + o.status);
}
myDialog.callback.success = onSuccess;
myDialog.callback.failure = onFailure;
</textarea>

<p>
If the Dialog's form contains a file upload input control (<code>&#60input type="file"&#62;</code>) the Dialog will use Connection Manager's <a href="../../connection/#file">file upload</a> support when sending
out the async request. For file uploads Connection Manager expects the callback to be defined with a single <code>upload</code> handler, replacing the <code>success</code> and <code>failure</code> handlers. 
The <code>upload</code> handler will be invoked on completion of the transaction: 
</p>

<textarea name="code" class="JScript" cols="60" rows="1">
var onUpload = function(o) {
    // NOTE: In this case, since Connection Manager uses an iframe for submission,
    // o.responseText will contain the contents of the iframe's document.body tag as a string.
    // See the Connection Manager documentation for more details
	alert("Your data was successfully submitted. The response was: " + o.responseText);
}
myDialog.callback.upload = onUpload;
</textarea>

<p>It's also valuable to note that the <code>callback</code> object referenced in the above example is passed directly to the Connection Manager, and therefore can accept the <code>argument</code> and <code>scope</code> properties in addition to <code>success</code> and <code>failure</code>. More information on the usage of these properties is available in the <a href="http://developer.yahoo.com/yui/connection/#async">Connection Manager documentation</a>.

<h3 id="read">Reading Current Form Data</h3>
<p>Dialog provides a function called getData that returns a simple object structure
  with the form's current data. For instance, in the example above, if you wanted
  to find out what someone typed in the field called "firstname" you could retrieve
  that value from getData like such:</p>
<textarea name="code" class="JScript" cols="60" rows="1">
var firstname = myDialog.getData().firstname;
</textarea>
<h3 id="config">Configuration Properties</h3>
<p>Dialog has the following configuration properties:</p>
<div class="apisummary short">
<table>
	<tbody>
	<tr><th> Name </th><th>Type</th><th>Default</th><th>Description</th></tr>
<tr class="odd"><td> postmethod </td><td> String </td><td> "async" </td><td> The method in which the Dialog's form should be posted. Options are "async", "form", or "none". </td>
</tr>
<tr><td> buttons </td><td> Object[] </td><td> null </td><td> Array of button objects to render at the bottom of the Dialog. </td></tr>
</tbody>
</table>
</div>
<p>Dialog has the following inherited configuration properties:</p>
<div class="apisummary">
<table>
	<tbody>
	<tr><th> Name </th><th>Type</th><th>Default</th><th>Description</th></tr>
	<tr class="odd"><td> visible </td><td> Boolean </td><td> true </td>
    <td>  Sets whether or not the Dialog is visible on the page (Dialog uses the CSS "visibility" property to control this). </td></tr>
	<tr><td> effect </td><td> Object / Object[] </td><td> none </td>
	<td> Sets the ContainerEffect (one or many) that should be used when showing and hiding the Dialog. </td>
	</tr>
	<tr class="odd"><td> monitorresize </td><td> Boolean </td><td> true </td><td> Configures whether or not to create a hidden off-screen element that can be used to monitor for text size changes in the DOM. </td></tr>
	<tr><td> x </td><td> Number </td><td> null </td><td> Sets the element's "left" style property. </td></tr>
	<tr class="odd"><td> y </td><td> Number </td><td> null </td><td> Sets the element's "top" style property. </td></tr>
	<tr><td> xy </td><td> Array </td><td> null </td><td> Sets the element's "top" and "left" style properties. </td></tr>
	<tr class="odd"><td> context </td><td> Array </td><td> null </td>
    <td>
        Allows the Overlay to be aligned relative to a context element. The property expects an array value with the format: <code>[contextElementOrId, overlayCorner, contextElementCorner]</code>,
        where "contextElementOrId" is the context element or the id of the context element. 
        </p>
        <p>
        The corner parameters are one of the following string values: "tr" (top right), "tl" (top left), "br" (bottom right), or "bl" (bottom left) and define which corners of the overlay and context element should be aligned.
        </p>
        <p>
        The array also supports an optional 4th entry, which is an array of event names which should trigger re-alignment of the Overlay with the currently configured context element. 
        E.g.: <code>[contextElementOrId, overlayCorner, contextElementCorner, ["beforeShow"]]</code> will re-align the Overlay to the context element just before it's shown.</p>
    </td>
    </tr>
	<tr><td> fixedcenter </td><td> Boolean </td><td> false </td><td> Specifies whether the Overlay should be automatically centered in the viewport on window scroll and resize. </td></tr>
	<tr class="odd"><td> width </td><td> String </td><td> null </td><td> Sets the element's "width" style property. </td></tr>
	<tr><td> height </td><td> String </td><td> null </td><td> Sets the element's "height" style property. </td></tr>
	<tr class="odd"><td> zIndex </td><td> Number </td><td> null </td><td> Sets the element's "z-index" style property. </td></tr>
	<tr><td> constraintoviewport </td><td> Boolean </td><td> false </td><td> If set to true the Overlay will try to remain inside the confines of the size of viewport. </td></tr>
	<tr class="odd"><td> iframe </td><td> Boolean </td><td> false (true by default for IE 6 and below) </td><td> If set to true the Menu will have and iframe behind it to prevent other elements with a higher z-index from poking through. </td></tr>
    <tr><td> close </td><td> Boolean </td><td> null </td><td> Whether a "close" icon should be displayed in the header. </td></tr>
    <tr class="odd"><td> draggable </td><td> Boolean </td><td>  "true" if the Drag and Drop utility is included, otherwise "false." </td><td> Whether to allow the user to drag the Panel using its header. </td></tr>
    <tr><td> underlay </td><td> String </td><td> "shadow" </td><td> Specifies the type of underlay to display under the Panel. Other options include "none", and "matte", which renders a small white matte under the Panel. </td></tr>
    <tr class="odd"><td> modal </td><td> Boolean </td><td> false </td><td> Specifies whether the document should be shielded with a partially transparent mask to require the user to close the Panel before being able to activate any elements in the document. </td></tr>
    <tr><td> keylisteners </td><td> YAHOO.util.KeyListener / Array </td><td> null </td><td> A KeyListener or Array of KeyListeners containing key events to enable when the Panel is displayed.</td></tr>
    <tr class="odd"><td> hideaftersubmit </td><td> Boolean </td><td> true </td><td> If set to true, the Dialog is hidden after it's submitted. If false, it is left visible after form submission.</td></tr>
    <tr>
        <td> autofillheight </td>
        <td> String </td>
        <td> "body" </td>
        <td> Which container element (header, body or footer) should be sized to fill out any remaining 
        vertical space when a height is set on the container using the <code>height</code> configuration property. Supported values are "header", "body" and "footer". Can be set to null (or false) to turn off the feature.
        </td>
    </tr>
	</tbody>
  </table>
</div>
<?php 
include "../../inc/support.inc";
?>
</div>
         <div class="yui-u">
		 	
			<div id="cheatsheet">
				<h3>Dialog/SimpleDialog Controls Cheat Sheet:</h3>
				
				<a href="http://yuiblog.com/assets/pdf/cheatsheets/dialog.pdf"><img src="http://us.i1.yimg.com/us.yimg.com/i/ydn/yuiweb/img/cheatsheet-images/css.gif" width="178" height="132" alt="Cheat Sheet for the Dialog and SimpleDialog Controls"></a>
				
				<p><a href="/yui/docs/assets/cheatsheets.zip">Download full set of cheat sheets.</a></p>
			</div>
		
			<div id="examples">
<?php 
	include("../../inc/examplesNav/".$section.".inc");
?>
		   </div>
		   
			<div id="morereading">
				<h3>More Reading about the YUI Dialog Control:</h3>
				
				<ul>
				  <li><a href="http://thecodecentral.com/2007/07/13/creating-lightbox-with-yahoo-user-interface-library">Creating Lightbox with Yahoo! User Interface Library</a>, at TheCodeCentral</li>
				  <li><a href="http://www.creativeui.com/2007/04/11/yui-part-iii-the-mighty-dialog/">YUI - Part III - The mighty dialog</a>, by David Baxter on the CreativeUI blog</li>
			   </ul>
		   </div>
		   
<?php 
$thisURI="http://developer.yahoo.com/yui/container/dialog/";
require_once('../../inc/badge.inc');
?>
<h3 id="delicious">YUI Dialog on del.icio.us:</h3>
<div class="delicious">
<?php require('../../inc/badge-html.inc'); ?>
</div>
	 
		 </div>
      </div>
</div>
</div>
<?php include "../../inc/side.inc" ?>
<?php include "../../inc/footer.inc" ?>
